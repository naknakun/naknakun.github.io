(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();var Hm={exports:{}},iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT;function BI(){if(eT)return iu;eT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:s,key:c,ref:o!==void 0?o:null,props:u}}return iu.Fragment=t,iu.jsx=e,iu.jsxs=e,iu}var nT;function jI(){return nT||(nT=1,Hm.exports=BI()),Hm.exports}var G=jI(),Gm={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iT;function zI(){if(iT)return It;iT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=E&&D[E]||D["@@iterator"],typeof D=="function"?D:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,F={};function z(D,et,lt){this.props=D,this.context=et,this.refs=F,this.updater=lt||C}z.prototype.isReactComponent={},z.prototype.setState=function(D,et){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,et,"setState")},z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function tt(){}tt.prototype=z.prototype;function nt(D,et,lt){this.props=D,this.context=et,this.refs=F,this.updater=lt||C}var W=nt.prototype=new tt;W.constructor=nt,V(W,z.prototype),W.isPureReactComponent=!0;var dt=Array.isArray,st={H:null,A:null,T:null,S:null,V:null},mt=Object.prototype.hasOwnProperty;function M(D,et,lt,rt,yt,Dt){return lt=Dt.ref,{$$typeof:n,type:D,key:et,ref:lt!==void 0?lt:null,props:Dt}}function w(D,et){return M(D.type,et,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function O(D){var et={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(lt){return et[lt]})}var P=/\/+/g;function L(D,et){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):et.toString(36)}function x(){}function Te(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(x,x):(D.status="pending",D.then(function(et){D.status==="pending"&&(D.status="fulfilled",D.value=et)},function(et){D.status==="pending"&&(D.status="rejected",D.reason=et)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ne(D,et,lt,rt,yt){var Dt=typeof D;(Dt==="undefined"||Dt==="boolean")&&(D=null);var bt=!1;if(D===null)bt=!0;else switch(Dt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(D.$$typeof){case n:case t:bt=!0;break;case v:return bt=D._init,ne(bt(D._payload),et,lt,rt,yt)}}if(bt)return yt=yt(D),bt=rt===""?"."+L(D,0):rt,dt(yt)?(lt="",bt!=null&&(lt=bt.replace(P,"$&/")+"/"),ne(yt,et,lt,"",function(si){return si})):yt!=null&&(R(yt)&&(yt=w(yt,lt+(yt.key==null||D&&D.key===yt.key?"":(""+yt.key).replace(P,"$&/")+"/")+bt)),et.push(yt)),1;bt=0;var Pe=rt===""?".":rt+":";if(dt(D))for(var te=0;te<D.length;te++)rt=D[te],Dt=Pe+L(rt,te),bt+=ne(rt,et,lt,Dt,yt);else if(te=A(D),typeof te=="function")for(D=te.call(D),te=0;!(rt=D.next()).done;)rt=rt.value,Dt=Pe+L(rt,te++),bt+=ne(rt,et,lt,Dt,yt);else if(Dt==="object"){if(typeof D.then=="function")return ne(Te(D),et,lt,rt,yt);throw et=String(D),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return bt}function Y(D,et,lt){if(D==null)return D;var rt=[],yt=0;return ne(D,rt,"","",function(Dt){return et.call(lt,Dt,yt++)}),rt}function it(D){if(D._status===-1){var et=D._result;et=et(),et.then(function(lt){(D._status===0||D._status===-1)&&(D._status=1,D._result=lt)},function(lt){(D._status===0||D._status===-1)&&(D._status=2,D._result=lt)}),D._status===-1&&(D._status=0,D._result=et)}if(D._status===1)return D._result.default;throw D._result}var ut=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ct(){}return It.Children={map:Y,forEach:function(D,et,lt){Y(D,function(){et.apply(this,arguments)},lt)},count:function(D){var et=0;return Y(D,function(){et++}),et},toArray:function(D){return Y(D,function(et){return et})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},It.Component=z,It.Fragment=e,It.Profiler=o,It.PureComponent=nt,It.StrictMode=s,It.Suspense=p,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,It.__COMPILER_RUNTIME={__proto__:null,c:function(D){return st.H.useMemoCache(D)}},It.cache=function(D){return function(){return D.apply(null,arguments)}},It.cloneElement=function(D,et,lt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var rt=V({},D.props),yt=D.key,Dt=void 0;if(et!=null)for(bt in et.ref!==void 0&&(Dt=void 0),et.key!==void 0&&(yt=""+et.key),et)!mt.call(et,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&et.ref===void 0||(rt[bt]=et[bt]);var bt=arguments.length-2;if(bt===1)rt.children=lt;else if(1<bt){for(var Pe=Array(bt),te=0;te<bt;te++)Pe[te]=arguments[te+2];rt.children=Pe}return M(D.type,yt,void 0,void 0,Dt,rt)},It.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},It.createElement=function(D,et,lt){var rt,yt={},Dt=null;if(et!=null)for(rt in et.key!==void 0&&(Dt=""+et.key),et)mt.call(et,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(yt[rt]=et[rt]);var bt=arguments.length-2;if(bt===1)yt.children=lt;else if(1<bt){for(var Pe=Array(bt),te=0;te<bt;te++)Pe[te]=arguments[te+2];yt.children=Pe}if(D&&D.defaultProps)for(rt in bt=D.defaultProps,bt)yt[rt]===void 0&&(yt[rt]=bt[rt]);return M(D,Dt,void 0,void 0,null,yt)},It.createRef=function(){return{current:null}},It.forwardRef=function(D){return{$$typeof:d,render:D}},It.isValidElement=R,It.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:it}},It.memo=function(D,et){return{$$typeof:g,type:D,compare:et===void 0?null:et}},It.startTransition=function(D){var et=st.T,lt={};st.T=lt;try{var rt=D(),yt=st.S;yt!==null&&yt(lt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ct,ut)}catch(Dt){ut(Dt)}finally{st.T=et}},It.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},It.use=function(D){return st.H.use(D)},It.useActionState=function(D,et,lt){return st.H.useActionState(D,et,lt)},It.useCallback=function(D,et){return st.H.useCallback(D,et)},It.useContext=function(D){return st.H.useContext(D)},It.useDebugValue=function(){},It.useDeferredValue=function(D,et){return st.H.useDeferredValue(D,et)},It.useEffect=function(D,et,lt){var rt=st.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(D,et)},It.useId=function(){return st.H.useId()},It.useImperativeHandle=function(D,et,lt){return st.H.useImperativeHandle(D,et,lt)},It.useInsertionEffect=function(D,et){return st.H.useInsertionEffect(D,et)},It.useLayoutEffect=function(D,et){return st.H.useLayoutEffect(D,et)},It.useMemo=function(D,et){return st.H.useMemo(D,et)},It.useOptimistic=function(D,et){return st.H.useOptimistic(D,et)},It.useReducer=function(D,et,lt){return st.H.useReducer(D,et,lt)},It.useRef=function(D){return st.H.useRef(D)},It.useState=function(D){return st.H.useState(D)},It.useSyncExternalStore=function(D,et,lt){return st.H.useSyncExternalStore(D,et,lt)},It.useTransition=function(){return st.H.useTransition()},It.version="19.1.1",It}var sT;function _g(){return sT||(sT=1,Gm.exports=zI()),Gm.exports}var ht=_g(),Km={exports:{}},su={},Ym={exports:{}},Qm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rT;function qI(){return rT||(rT=1,(function(n){function t(Y,it){var ut=Y.length;Y.push(it);t:for(;0<ut;){var Ct=ut-1>>>1,D=Y[Ct];if(0<o(D,it))Y[Ct]=it,Y[ut]=D,ut=Ct;else break t}}function e(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var it=Y[0],ut=Y.pop();if(ut!==it){Y[0]=ut;t:for(var Ct=0,D=Y.length,et=D>>>1;Ct<et;){var lt=2*(Ct+1)-1,rt=Y[lt],yt=lt+1,Dt=Y[yt];if(0>o(rt,ut))yt<D&&0>o(Dt,rt)?(Y[Ct]=Dt,Y[yt]=ut,Ct=yt):(Y[Ct]=rt,Y[lt]=ut,Ct=lt);else if(yt<D&&0>o(Dt,ut))Y[Ct]=Dt,Y[yt]=ut,Ct=yt;else break t}}return it}function o(Y,it){var ut=Y.sortIndex-it.sortIndex;return ut!==0?ut:Y.id-it.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,E=null,A=3,C=!1,V=!1,F=!1,z=!1,tt=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function dt(Y){for(var it=e(g);it!==null;){if(it.callback===null)s(g);else if(it.startTime<=Y)s(g),it.sortIndex=it.expirationTime,t(p,it);else break;it=e(g)}}function st(Y){if(F=!1,dt(Y),!V)if(e(p)!==null)V=!0,mt||(mt=!0,L());else{var it=e(g);it!==null&&ne(st,it.startTime-Y)}}var mt=!1,M=-1,w=5,R=-1;function O(){return z?!0:!(n.unstable_now()-R<w)}function P(){if(z=!1,mt){var Y=n.unstable_now();R=Y;var it=!0;try{t:{V=!1,F&&(F=!1,nt(M),M=-1),C=!0;var ut=A;try{e:{for(dt(Y),E=e(p);E!==null&&!(E.expirationTime>Y&&O());){var Ct=E.callback;if(typeof Ct=="function"){E.callback=null,A=E.priorityLevel;var D=Ct(E.expirationTime<=Y);if(Y=n.unstable_now(),typeof D=="function"){E.callback=D,dt(Y),it=!0;break e}E===e(p)&&s(p),dt(Y)}else s(p);E=e(p)}if(E!==null)it=!0;else{var et=e(g);et!==null&&ne(st,et.startTime-Y),it=!1}}break t}finally{E=null,A=ut,C=!1}it=void 0}}finally{it?L():mt=!1}}}var L;if(typeof W=="function")L=function(){W(P)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Te=x.port2;x.port1.onmessage=P,L=function(){Te.postMessage(null)}}else L=function(){tt(P,0)};function ne(Y,it){M=tt(function(){Y(n.unstable_now())},it)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var it=3;break;default:it=A}var ut=A;A=it;try{return Y()}finally{A=ut}},n.unstable_requestPaint=function(){z=!0},n.unstable_runWithPriority=function(Y,it){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ut=A;A=Y;try{return it()}finally{A=ut}},n.unstable_scheduleCallback=function(Y,it,ut){var Ct=n.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Ct+ut:Ct):ut=Ct,Y){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ut+D,Y={id:v++,callback:it,priorityLevel:Y,startTime:ut,expirationTime:D,sortIndex:-1},ut>Ct?(Y.sortIndex=ut,t(g,Y),e(p)===null&&Y===e(g)&&(F?(nt(M),M=-1):F=!0,ne(st,ut-Ct))):(Y.sortIndex=D,t(p,Y),V||C||(V=!0,mt||(mt=!0,L()))),Y},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(Y){var it=A;return function(){var ut=A;A=it;try{return Y.apply(this,arguments)}finally{A=ut}}}})(Qm)),Qm}var aT;function FI(){return aT||(aT=1,Ym.exports=qI()),Ym.exports}var Xm={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function HI(){if(oT)return tn;oT=1;var n=_g();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},tn.flushSync=function(p){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=v,s.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:C}):v==="script"&&s.d.X(p,{crossOrigin:E,integrity:A,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.1.1",tn}var lT;function GI(){if(lT)return Xm.exports;lT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Xm.exports=HI(),Xm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function KI(){if(uT)return su;uT=1;var n=FI(),t=_g(),e=GI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(u(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),i;if(m===l)return d(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var T=!1,S=f.child;S;){if(S===a){T=!0,a=f,l=m;break}if(S===l){T=!0,l=f,a=m;break}S=S.sibling}if(!T){for(S=m.child;S;){if(S===a){T=!0,a=m,l=f;break}if(S===l){T=!0,l=m,a=f;break}S=S.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),tt=Symbol.for("react.provider"),nt=Symbol.for("react.consumer"),W=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var x=Symbol.for("react.client.reference");function Te(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===x?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case z:return"Profiler";case F:return"StrictMode";case st:return"Suspense";case mt:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case W:return(i.displayName||"Context")+".Provider";case nt:return(i._context.displayName||"Context")+".Consumer";case dt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return r=i.displayName||null,r!==null?r:Te(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return Te(i(r))}catch{}}return null}var ne=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Ct=[],D=-1;function et(i){return{current:i}}function lt(i){0>D||(i.current=Ct[D],Ct[D]=null,D--)}function rt(i,r){D++,Ct[D]=i.current,i.current=r}var yt=et(null),Dt=et(null),bt=et(null),Pe=et(null);function te(i,r){switch(rt(bt,r),rt(Dt,i),rt(yt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?x0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=x0(r),i=D0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}lt(yt),rt(yt,i)}function si(){lt(yt),lt(Dt),lt(bt)}function vs(i){i.memoizedState!==null&&rt(Pe,i);var r=yt.current,a=D0(r,i.type);r!==a&&(rt(Dt,i),rt(yt,a))}function Mi(i){Dt.current===i&&(lt(yt),lt(Dt)),Pe.current===i&&(lt(Pe),Zl._currentValue=ut)}var yr=Object.prototype.hasOwnProperty,vr=n.unstable_scheduleCallback,_r=n.unstable_cancelCallback,Xo=n.unstable_shouldYield,$u=n.unstable_requestPaint,In=n.unstable_now,Hf=n.unstable_getCurrentPriorityLevel,$o=n.unstable_ImmediatePriority,va=n.unstable_UserBlockingPriority,Tr=n.unstable_NormalPriority,Gf=n.unstable_LowPriority,_a=n.unstable_IdlePriority,Wo=n.log,Wu=n.unstable_setDisableYieldValue,he=null,Gt=null;function vn(i){if(typeof Wo=="function"&&Wu(i),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(he,i)}catch{}}var Ze=Math.clz32?Math.clz32:Er,Zu=Math.log,Kf=Math.LN2;function Er(i){return i>>>=0,i===0?32:31-(Zu(i)/Kf|0)|0}var Ar=256,Sr=4194304;function Kn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ta(i,r,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,m=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?f=Kn(l):(T&=S,T!==0?f=Kn(T):a||(a=S&~i,a!==0&&(f=Kn(a))))):(S=l&~m,S!==0?f=Kn(S):T!==0?f=Kn(T):a||(a=l&~i,a!==0&&(f=Kn(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function br(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Zo(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(){var i=Ar;return Ar<<=1,(Ar&4194048)===0&&(Ar=256),i}function tl(){var i=Sr;return Sr<<=1,(Sr&62914560)===0&&(Sr=4194304),i}function Ni(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function Oi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function el(i,r,a,l,f,m){var T=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var S=i.entanglements,I=i.expirationTimes,j=i.hiddenUpdates;for(a=T&~a;0<a;){var Q=31-Ze(a),Z=1<<Q;S[Q]=0,I[Q]=-1;var q=j[Q];if(q!==null)for(j[Q]=null,Q=0;Q<q.length;Q++){var H=q[Q];H!==null&&(H.lane&=-536870913)}a&=~Z}l!==0&&ri(i,l,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(T&~r))}function ri(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-Ze(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194090}function nl(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var l=31-Ze(a),f=1<<l;f&r|i[l]&r&&(i[l]|=r),a&=~f}}function _s(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ea(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ts(){var i=it.p;return i!==0?i:(i=window.event,i===void 0?32:X0(i.type))}function Ju(i,r){var a=it.p;try{return it.p=i,r()}finally{it.p=a}}var re=Math.random().toString(36).slice(2),xe="__reactFiber$"+re,Ee="__reactProps$"+re,Cn="__reactContainer$"+re,il="__reactEvents$"+re,Yf="__reactListeners$"+re,Es="__reactHandles$"+re,tc="__reactResources$"+re,wr="__reactMarker$"+re;function As(i){delete i[xe],delete i[Ee],delete i[il],delete i[Yf],delete i[Es]}function Pi(i){var r=i[xe];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Cn]||a[xe]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=O0(i);i!==null;){if(a=i[xe])return a;i=O0(i)}return r}i=a,a=i.parentNode}return null}function ai(i){if(i=i[xe]||i[Cn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function oi(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function on(i){var r=i[tc];return r||(r=i[tc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pe(i){i[wr]=!0}var sl=new Set,Aa={};function Yn(i,r){ki(i,r),ki(i+"Capture",r)}function ki(i,r){for(Aa[i]=r,i=0;i<r.length;i++)sl.add(r[i])}var ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nc={},Rr={};function ic(i){return yr.call(Rr,i)?!0:yr.call(nc,i)?!1:ec.test(i)?Rr[i]=!0:(nc[i]=!0,!1)}function Ss(i,r,a){if(ic(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function li(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function Fe(i,r,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+l)}}var Ir,sc;function Li(i){if(Ir===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ir=r&&r[1]||"",sc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ir+i+sc}var Sa=!1;function ba(i,r){if(!i||Sa)return"";Sa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var q=H}Reflect.construct(i,[],Z)}else{try{Z.call()}catch(H){q=H}i.call(Z.prototype)}}else{try{throw Error()}catch(H){q=H}(Z=i())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],S=m[1];if(T&&S){var I=T.split(`
`),j=S.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===j.length)for(l=I.length-1,f=j.length-1;1<=l&&0<=f&&I[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==j[f]){var Q=`
`+I[l].replace(" at new "," at ");return i.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",i.displayName)),Q}while(1<=l&&0<=f);break}}}finally{Sa=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Li(a):""}function rl(i){switch(i.tag){case 26:case 27:case 5:return Li(i.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 15:return ba(i.type,!1);case 11:return ba(i.type.render,!1);case 1:return ba(i.type,!0);case 31:return Li("Activity");default:return""}}function wa(i){try{var r="";do r+=rl(i),i=i.return;while(i);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function al(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Qf(i){var r=al(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),l=""+i[r];if(!i.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(i,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Ra(i){i._valueTracker||(i._valueTracker=Qf(i))}function ol(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return i&&(l=al(i)?i.checked?"true":"false":i.value),i=l,i!==a?(r.setValue(i),!0):!1}function Cr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Xf=/[\n"\\]/g;function Ae(i){return i.replace(Xf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _n(i,r,a,l,f,m,T,S){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+ln(r)):i.value!==""+ln(r)&&(i.value=""+ln(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?bs(i,T,ln(r)):a!=null?bs(i,T,ln(a)):l!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+ln(S):i.removeAttribute("name")}function xr(i,r,a,l,f,m,T,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+ln(a):"",r=r!=null?""+ln(r):a,S||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=S?i.checked:!!l,i.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function bs(i,r,a){r==="number"&&Cr(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Ui(i,r,a,l){if(i=i.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=r.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+ln(a),r=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Qt(i,r,a){if(r!=null&&(r=""+ln(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+ln(a):""}function Dr(i,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ne(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=ln(r),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function xn(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var Vr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rc(i,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,a):typeof a!="number"||a===0||Vr.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function ll(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&rc(i,f,l)}else for(var m in r)r.hasOwnProperty(m)&&rc(i,m,r[m])}function ul(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $f=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(i){return Wf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Bi=null;function Dn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ji=null,zi=null;function cl(i){var r=ai(i);if(r&&(i=r.stateNode)){var a=i[Ee]||null;t:switch(i=r.stateNode,r.type){case"input":if(_n(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ae(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==i&&l.form===i.form){var f=l[Ee]||null;if(!f)throw Error(s(90));_n(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===i.form&&ol(l)}break t;case"textarea":Qt(i,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Ui(i,!!a.multiple,r,!1)}}}var ui=!1;function ac(i,r,a){if(ui)return i(r,a);ui=!0;try{var l=i(r);return l}finally{if(ui=!1,(ji!==null||zi!==null)&&(Jc(),ji&&(r=ji,i=zi,zi=ji=null,cl(r),i)))for(r=0;r<i.length;r++)cl(i[r])}}function Mr(i,r){var a=i.stateNode;if(a===null)return null;var l=a[Ee]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vn=!1;if(Qn)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{Vn=!1}var ci=null,ws=null,qi=null;function hl(){if(qi)return qi;var i,r=ws,a=r.length,l,f="value"in ci?ci.value:ci.textContent,m=f.length;for(i=0;i<a&&r[i]===f[i];i++);var T=a-i;for(l=1;l<=T&&r[a-l]===f[m-l];l++);return qi=f.slice(i,1<l?1-l:void 0)}function hi(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function fi(){return!0}function fl(){return!1}function ke(i){function r(a,l,f,m,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(a=i[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?fi:fl,this.isPropagationStopped=fl,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),r}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=ke(Ft),Or=v({},Ft,{view:0,detail:0}),oc=ke(Or),xa,Da,di,Pr=v({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ur,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==di&&(di&&i.type==="mousemove"?(xa=i.screenX-di.screenX,Da=i.screenY-di.screenY):Da=xa=0,di=i),xa)},movementY:function(i){return"movementY"in i?i.movementY:Da}}),Mn=ke(Pr),lc=v({},Pr,{dataTransfer:0}),Zf=ke(lc),kr=v({},Or,{relatedTarget:0}),Va=ke(kr),dl=v({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Ma=ke(dl),uc=v({},Ft,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Na=ke(uc),Jf=v({},Ft,{data:0}),ml=ke(Jf),Lr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=hc[i])?!!r[i]:!1}function Ur(){return pl}var fc=v({},Or,{key:function(i){if(i.key){var r=Lr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=hi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?cc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ur,charCode:function(i){return i.type==="keypress"?hi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?hi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Oa=ke(fc),dc=v({},Pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gl=ke(dc),Fi=v({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ur}),mc=ke(Fi),pc=v({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),gc=ke(pc),yc=v({},Pr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Pa=ke(yc),un=v({},Ft,{newState:0,oldState:0}),vc=ke(un),_c=[9,13,27,32],mi=Qn&&"CompositionEvent"in window,h=null;Qn&&"documentMode"in document&&(h=document.documentMode);var y=Qn&&"TextEvent"in window&&!h,_=Qn&&(!mi||h&&8<h&&11>=h),b=" ",U=!1;function K(i,r){switch(i){case"keyup":return _c.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Lt=!1;function De(i,r){switch(i){case"compositionend":return at(r);case"keypress":return r.which!==32?null:(U=!0,b);case"textInput":return i=r.data,i===b&&U?null:i;default:return null}}function Ut(i,r){if(Lt)return i==="compositionend"||!mi&&K(i,r)?(i=hl(),qi=ws=ci=null,Lt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Le[i.type]:r==="textarea"}function Hi(i,r,a,l){ji?zi?zi.push(l):zi=[l]:ji=l,r=rh(r,"onChange"),0<r.length&&(a=new Ca("onChange","change",null,a,l),i.push({event:a,listeners:r}))}var He=null,pi=null;function yl(i){b0(i,0)}function Tc(i){var r=oi(i);if(ol(r))return i}function Gy(i,r){if(i==="change")return r}var Ky=!1;if(Qn){var td;if(Qn){var ed="oninput"in document;if(!ed){var Yy=document.createElement("div");Yy.setAttribute("oninput","return;"),ed=typeof Yy.oninput=="function"}td=ed}else td=!1;Ky=td&&(!document.documentMode||9<document.documentMode)}function Qy(){He&&(He.detachEvent("onpropertychange",Xy),pi=He=null)}function Xy(i){if(i.propertyName==="value"&&Tc(pi)){var r=[];Hi(r,pi,i,Dn(i)),ac(yl,r)}}function pR(i,r,a){i==="focusin"?(Qy(),He=r,pi=a,He.attachEvent("onpropertychange",Xy)):i==="focusout"&&Qy()}function gR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Tc(pi)}function yR(i,r){if(i==="click")return Tc(r)}function vR(i,r){if(i==="input"||i==="change")return Tc(r)}function _R(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Tn=typeof Object.is=="function"?Object.is:_R;function vl(i,r){if(Tn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!yr.call(r,f)||!Tn(i[f],r[f]))return!1}return!0}function $y(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Wy(i,r){var a=$y(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=r&&l>=r)return{node:a,offset:r-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=$y(a)}}function Zy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Zy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Jy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Cr(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Cr(i.document)}return r}function nd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var TR=Qn&&"documentMode"in document&&11>=document.documentMode,ka=null,id=null,_l=null,sd=!1;function tv(i,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sd||ka==null||ka!==Cr(l)||(l=ka,"selectionStart"in l&&nd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&vl(_l,l)||(_l=l,l=rh(id,"onSelect"),0<l.length&&(r=new Ca("onSelect","select",null,r,a),i.push({event:r,listeners:l}),r.target=ka)))}function Br(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var La={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},rd={},ev={};Qn&&(ev=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function jr(i){if(rd[i])return rd[i];if(!La[i])return i;var r=La[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in ev)return rd[i]=r[a];return i}var nv=jr("animationend"),iv=jr("animationiteration"),sv=jr("animationstart"),ER=jr("transitionrun"),AR=jr("transitionstart"),SR=jr("transitioncancel"),rv=jr("transitionend"),av=new Map,ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ad.push("scrollEnd");function Xn(i,r){av.set(i,r),Yn(r,[i])}var ov=new WeakMap;function Nn(i,r){if(typeof i=="object"&&i!==null){var a=ov.get(i);return a!==void 0?a:(r={value:i,source:r,stack:wa(r)},ov.set(i,r),r)}return{value:i,source:r,stack:wa(r)}}var On=[],Ua=0,od=0;function Ec(){for(var i=Ua,r=od=Ua=0;r<i;){var a=On[r];On[r++]=null;var l=On[r];On[r++]=null;var f=On[r];On[r++]=null;var m=On[r];if(On[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&lv(a,f,m)}}function Ac(i,r,a,l){On[Ua++]=i,On[Ua++]=r,On[Ua++]=a,On[Ua++]=l,od|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function ld(i,r,a,l){return Ac(i,r,a,l),Sc(i)}function Ba(i,r){return Ac(i,null,null,r),Sc(i)}function lv(i,r,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-Ze(a),i=m.hiddenUpdates,l=i[f],l===null?i[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function Sc(i){if(50<Hl)throw Hl=0,mm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ja={};function bR(i,r,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(i,r,a,l){return new bR(i,r,a,l)}function ud(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Gi(i,r){var a=i.alternate;return a===null?(a=En(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function uv(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function bc(i,r,a,l,f,m){var T=0;if(l=i,typeof i=="function")ud(i)&&(T=1);else if(typeof i=="string")T=RI(i,a,yt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=En(31,a,r,f),i.elementType=R,i.lanes=m,i;case V:return zr(a.children,f,m,r);case F:T=8,f|=24;break;case z:return i=En(12,a,r,f|2),i.elementType=z,i.lanes=m,i;case st:return i=En(13,a,r,f),i.elementType=st,i.lanes=m,i;case mt:return i=En(19,a,r,f),i.elementType=mt,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case tt:case W:T=10;break t;case nt:T=9;break t;case dt:T=11;break t;case M:T=14;break t;case w:T=16,l=null;break t}T=29,a=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=En(T,a,r,f),r.elementType=i,r.type=l,r.lanes=m,r}function zr(i,r,a,l){return i=En(7,i,l,r),i.lanes=a,i}function cd(i,r,a){return i=En(6,i,null,r),i.lanes=a,i}function hd(i,r,a){return r=En(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var za=[],qa=0,wc=null,Rc=0,Pn=[],kn=0,qr=null,Ki=1,Yi="";function Fr(i,r){za[qa++]=Rc,za[qa++]=wc,wc=i,Rc=r}function cv(i,r,a){Pn[kn++]=Ki,Pn[kn++]=Yi,Pn[kn++]=qr,qr=i;var l=Ki;i=Yi;var f=32-Ze(l)-1;l&=~(1<<f),a+=1;var m=32-Ze(r)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Ki=1<<32-Ze(r)+f|a<<f|l,Yi=m+i}else Ki=1<<m|a<<f|l,Yi=i}function fd(i){i.return!==null&&(Fr(i,1),cv(i,1,0))}function dd(i){for(;i===wc;)wc=za[--qa],za[qa]=null,Rc=za[--qa],za[qa]=null;for(;i===qr;)qr=Pn[--kn],Pn[kn]=null,Yi=Pn[--kn],Pn[kn]=null,Ki=Pn[--kn],Pn[kn]=null}var cn=null,fe=null,qt=!1,Hr=null,gi=!1,md=Error(s(519));function Gr(i){var r=Error(s(418,""));throw Al(Nn(r,i)),md}function hv(i){var r=i.stateNode,a=i.type,l=i.memoizedProps;switch(r[xe]=i,r[Ee]=l,a){case"dialog":Nt("cancel",r),Nt("close",r);break;case"iframe":case"object":case"embed":Nt("load",r);break;case"video":case"audio":for(a=0;a<Kl.length;a++)Nt(Kl[a],r);break;case"source":Nt("error",r);break;case"img":case"image":case"link":Nt("error",r),Nt("load",r);break;case"details":Nt("toggle",r);break;case"input":Nt("invalid",r),xr(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ra(r);break;case"select":Nt("invalid",r);break;case"textarea":Nt("invalid",r),Dr(r,l.value,l.defaultValue,l.children),Ra(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||C0(r.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",r),Nt("toggle",r)),l.onScroll!=null&&Nt("scroll",r),l.onScrollEnd!=null&&Nt("scrollend",r),l.onClick!=null&&(r.onclick=ah),r=!0):r=!1,r||Gr(i)}function fv(i){for(cn=i.return;cn;)switch(cn.tag){case 5:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:cn=cn.return}}function Tl(i){if(i!==cn)return!1;if(!qt)return fv(i),qt=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Dm(i.type,i.memoizedProps)),a=!a),a&&fe&&Gr(i),fv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){fe=Wn(i.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;i=i.nextSibling}fe=null}}else r===27?(r=fe,zs(i.type)?(i=Om,Om=null,fe=i):fe=r):fe=cn?Wn(i.stateNode.nextSibling):null;return!0}function El(){fe=cn=null,qt=!1}function dv(){var i=Hr;return i!==null&&(mn===null?mn=i:mn.push.apply(mn,i),Hr=null),i}function Al(i){Hr===null?Hr=[i]:Hr.push(i)}var pd=et(null),Kr=null,Qi=null;function Rs(i,r,a){rt(pd,r._currentValue),r._currentValue=a}function Xi(i){i._currentValue=pd.current,lt(pd)}function gd(i,r,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===a)break;i=i.return}}function yd(i,r,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var S=m;m=f;for(var I=0;I<r.length;I++)if(S.context===r[I]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),gd(m.return,a,i),l||(T=null);break t}m=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),gd(T,a,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Sl(i,r,a,l){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=f.type;Tn(f.pendingProps.value,T.value)||(i!==null?i.push(S):i=[S])}}else if(f===Pe.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Zl):i=[Zl])}f=f.return}i!==null&&yd(r,i,a,l),r.flags|=262144}function Ic(i){for(i=i.firstContext;i!==null;){if(!Tn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Yr(i){Kr=i,Qi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Je(i){return mv(Kr,i)}function Cc(i,r){return Kr===null&&Yr(i),mv(i,r)}function mv(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Qi===null){if(i===null)throw Error(s(308));Qi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Qi=Qi.next=r;return a}var wR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},RR=n.unstable_scheduleCallback,IR=n.unstable_NormalPriority,Me={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vd(){return{controller:new wR,data:new Map,refCount:0}}function bl(i){i.refCount--,i.refCount===0&&RR(IR,function(){i.controller.abort()})}var wl=null,_d=0,Fa=0,Ha=null;function CR(i,r){if(wl===null){var a=wl=[];_d=0,Fa=Em(),Ha={status:"pending",value:void 0,then:function(l){a.push(l)}}}return _d++,r.then(pv,pv),r}function pv(){if(--_d===0&&wl!==null){Ha!==null&&(Ha.status="fulfilled");var i=wl;wl=null,Fa=0,Ha=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function xR(i,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var gv=Y.S;Y.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&CR(i,r),gv!==null&&gv(i,r)};var Qr=et(null);function Td(){var i=Qr.current;return i!==null?i:ee.pooledCache}function xc(i,r){r===null?rt(Qr,Qr.current):rt(Qr,r.pool)}function yv(){var i=Td();return i===null?null:{parent:Me._currentValue,pool:i}}var Rl=Error(s(460)),vv=Error(s(474)),Dc=Error(s(542)),Ed={then:function(){}};function _v(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Vc(){}function Tv(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Vc,Vc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Av(i),i;default:if(typeof r.status=="string")r.then(Vc,Vc);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Av(i),i}throw Il=r,Rl}}var Il=null;function Ev(){if(Il===null)throw Error(s(459));var i=Il;return Il=null,i}function Av(i){if(i===Rl||i===Dc)throw Error(s(483))}var Is=!1;function Ad(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Cs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xs(i,r,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Sc(i),lv(i,null,a),r}return Ac(i,l,r,a),Sc(i)}function Cl(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,nl(i,a)}}function bd(i,r){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var wd=!1;function xl(){if(wd){var i=Ha;if(i!==null)throw i}}function Dl(i,r,a,l){wd=!1;var f=i.updateQueue;Is=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var I=S,j=I.next;I.next=null,T===null?m=j:T.next=j,T=I;var Q=i.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==T&&(S===null?Q.firstBaseUpdate=j:S.next=j,Q.lastBaseUpdate=I))}if(m!==null){var Z=f.baseState;T=0,Q=j=I=null,S=m;do{var q=S.lane&-536870913,H=q!==S.lane;if(H?(Bt&q)===q:(l&q)===q){q!==0&&q===Fa&&(wd=!0),Q!==null&&(Q=Q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var Et=i,vt=S;q=r;var Wt=a;switch(vt.tag){case 1:if(Et=vt.payload,typeof Et=="function"){Z=Et.call(Wt,Z,q);break t}Z=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=vt.payload,q=typeof Et=="function"?Et.call(Wt,Z,q):Et,q==null)break t;Z=v({},Z,q);break t;case 2:Is=!0}}q=S.callback,q!==null&&(i.flags|=64,H&&(i.flags|=8192),H=f.callbacks,H===null?f.callbacks=[q]:H.push(q))}else H={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(j=Q=H,I=Z):Q=Q.next=H,T|=q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;H=S,S=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);Q===null&&(I=Z),f.baseState=I,f.firstBaseUpdate=j,f.lastBaseUpdate=Q,m===null&&(f.shared.lanes=0),Ls|=T,i.lanes=T,i.memoizedState=Z}}function Sv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function bv(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Sv(a[i],r)}var Ga=et(null),Mc=et(0);function wv(i,r){i=ns,rt(Mc,i),rt(Ga,r),ns=i|r.baseLanes}function Rd(){rt(Mc,ns),rt(Ga,Ga.current)}function Id(){ns=Mc.current,lt(Ga),lt(Mc)}var Ds=0,xt=null,Xt=null,Se=null,Nc=!1,Ka=!1,Xr=!1,Oc=0,Vl=0,Ya=null,DR=0;function ge(){throw Error(s(321))}function Cd(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!Tn(i[a],r[a]))return!1;return!0}function xd(i,r,a,l,f,m){return Ds=m,xt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=i===null||i.memoizedState===null?l_:u_,Xr=!1,m=a(l,f),Xr=!1,Ka&&(m=Iv(r,a,l,f)),Rv(i),m}function Rv(i){Y.H=jc;var r=Xt!==null&&Xt.next!==null;if(Ds=0,Se=Xt=xt=null,Nc=!1,Vl=0,Ya=null,r)throw Error(s(300));i===null||Ue||(i=i.dependencies,i!==null&&Ic(i)&&(Ue=!0))}function Iv(i,r,a,l){xt=i;var f=0;do{if(Ka&&(Ya=null),Vl=0,Ka=!1,25<=f)throw Error(s(301));if(f+=1,Se=Xt=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Y.H=LR,m=r(a,l)}while(Ka);return m}function VR(){var i=Y.H,r=i.useState()[0];return r=typeof r.then=="function"?Ml(r):r,i=i.useState()[0],(Xt!==null?Xt.memoizedState:null)!==i&&(xt.flags|=1024),r}function Dd(){var i=Oc!==0;return Oc=0,i}function Vd(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Md(i){if(Nc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Nc=!1}Ds=0,Se=Xt=xt=null,Ka=!1,Vl=Oc=0,Ya=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?xt.memoizedState=Se=i:Se=Se.next=i,Se}function be(){if(Xt===null){var i=xt.alternate;i=i!==null?i.memoizedState:null}else i=Xt.next;var r=Se===null?xt.memoizedState:Se.next;if(r!==null)Se=r,Xt=i;else{if(i===null)throw xt.alternate===null?Error(s(467)):Error(s(310));Xt=i,i={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Se===null?xt.memoizedState=Se=i:Se=Se.next=i}return Se}function Nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(i){var r=Vl;return Vl+=1,Ya===null&&(Ya=[]),i=Tv(Ya,i,r),r=xt,(Se===null?r.memoizedState:Se.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?l_:u_),i}function Pc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ml(i);if(i.$$typeof===W)return Je(i)}throw Error(s(438,String(i)))}function Od(i){var r=null,a=xt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Nd(),xt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),l=0;l<i;l++)a[l]=O;return r.index++,a}function $i(i,r){return typeof r=="function"?r(i):r}function kc(i){var r=be();return Pd(r,Xt,i)}function Pd(i,r,a){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=i.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}r.baseQueue=f=m,l.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var S=T=null,I=null,j=r,Q=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(Bt&Z)===Z:(Ds&Z)===Z){var q=j.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===Fa&&(Q=!0);else if((Ds&q)===q){j=j.next,q===Fa&&(Q=!0);continue}else Z={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(S=I=Z,T=m):I=I.next=Z,xt.lanes|=q,Ls|=q;Z=j.action,Xr&&a(m,Z),m=j.hasEagerState?j.eagerState:a(m,Z)}else q={lane:Z,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(S=I=q,T=m):I=I.next=q,xt.lanes|=Z,Ls|=Z;j=j.next}while(j!==null&&j!==r);if(I===null?T=m:I.next=S,!Tn(m,i.memoizedState)&&(Ue=!0,Q&&(a=Ha,a!==null)))throw a;i.memoizedState=m,i.baseState=T,i.baseQueue=I,l.lastRenderedState=m}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function kd(i){var r=be(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=i(m,T.action),T=T.next;while(T!==f);Tn(m,r.memoizedState)||(Ue=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function Cv(i,r,a){var l=xt,f=be(),m=qt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!Tn((Xt||f).memoizedState,a);T&&(f.memoizedState=a,Ue=!0),f=f.queue;var S=Vv.bind(null,l,f,i);if(Nl(2048,8,S,[i]),f.getSnapshot!==r||T||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,Qa(9,Lc(),Dv.bind(null,l,f,a,r),null),ee===null)throw Error(s(349));m||(Ds&124)!==0||xv(l,r,a)}return a}function xv(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=xt.updateQueue,r===null?(r=Nd(),xt.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function Dv(i,r,a,l){r.value=a,r.getSnapshot=l,Mv(r)&&Nv(i)}function Vv(i,r,a){return a(function(){Mv(r)&&Nv(i)})}function Mv(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!Tn(i,a)}catch{return!0}}function Nv(i){var r=Ba(i,2);r!==null&&Rn(r,i,2)}function Ld(i){var r=fn();if(typeof i=="function"){var a=i;if(i=a(),Xr){vn(!0);try{a()}finally{vn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:i},r}function Ov(i,r,a,l){return i.baseState=a,Pd(i,Xt,typeof l=="function"?l:$i)}function MR(i,r,a,l,f){if(Bc(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};Y.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Pv(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Pv(i,r){var a=r.action,l=r.payload,f=i.state;if(r.isTransition){var m=Y.T,T={};Y.T=T;try{var S=a(f,l),I=Y.S;I!==null&&I(T,S),kv(i,r,S)}catch(j){Ud(i,r,j)}finally{Y.T=m}}else try{m=a(f,l),kv(i,r,m)}catch(j){Ud(i,r,j)}}function kv(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Lv(i,r,l)},function(l){return Ud(i,r,l)}):Lv(i,r,a)}function Lv(i,r,a){r.status="fulfilled",r.value=a,Uv(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,Pv(i,a)))}function Ud(i,r,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Uv(r),r=r.next;while(r!==l)}i.action=null}function Uv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Bv(i,r){return r}function jv(i,r){if(qt){var a=ee.formState;if(a!==null){t:{var l=xt;if(qt){if(fe){e:{for(var f=fe,m=gi;f.nodeType!==8;){if(!m){f=null;break e}if(f=Wn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){fe=Wn(f.nextSibling),l=f.data==="F!";break t}}Gr(l)}l=!1}l&&(r=a[0])}}return a=fn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bv,lastRenderedState:r},a.queue=l,a=r_.bind(null,xt,l),l.dispatch=a,l=Ld(!1),m=Fd.bind(null,xt,!1,l.queue),l=fn(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,a=MR.bind(null,xt,f,m,a),f.dispatch=a,l.memoizedState=i,[r,a,!1]}function zv(i){var r=be();return qv(r,Xt,i)}function qv(i,r,a){if(r=Pd(i,r,Bv)[0],i=kc($i)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ml(r)}catch(T){throw T===Rl?Dc:T}else l=r;r=be();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(xt.flags|=2048,Qa(9,Lc(),NR.bind(null,f,a),null)),[l,m,i]}function NR(i,r){i.action=r}function Fv(i){var r=be(),a=Xt;if(a!==null)return qv(r,a,i);be(),r=r.memoizedState,a=be();var l=a.queue.dispatch;return a.memoizedState=i,[r,l,!1]}function Qa(i,r,a,l){return i={tag:i,create:a,deps:l,inst:r,next:null},r=xt.updateQueue,r===null&&(r=Nd(),xt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,r.lastEffect=i),i}function Lc(){return{destroy:void 0,resource:void 0}}function Hv(){return be().memoizedState}function Uc(i,r,a,l){var f=fn();l=l===void 0?null:l,xt.flags|=i,f.memoizedState=Qa(1|r,Lc(),a,l)}function Nl(i,r,a,l){var f=be();l=l===void 0?null:l;var m=f.memoizedState.inst;Xt!==null&&l!==null&&Cd(l,Xt.memoizedState.deps)?f.memoizedState=Qa(r,m,a,l):(xt.flags|=i,f.memoizedState=Qa(1|r,m,a,l))}function Gv(i,r){Uc(8390656,8,i,r)}function Kv(i,r){Nl(2048,8,i,r)}function Yv(i,r){return Nl(4,2,i,r)}function Qv(i,r){return Nl(4,4,i,r)}function Xv(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function $v(i,r,a){a=a!=null?a.concat([i]):null,Nl(4,4,Xv.bind(null,r,i),a)}function Bd(){}function Wv(i,r){var a=be();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Cd(r,l[1])?l[0]:(a.memoizedState=[i,r],i)}function Zv(i,r){var a=be();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Cd(r,l[1]))return l[0];if(l=i(),Xr){vn(!0);try{i()}finally{vn(!1)}}return a.memoizedState=[l,r],l}function jd(i,r,a){return a===void 0||(Ds&1073741824)!==0?i.memoizedState=r:(i.memoizedState=a,i=e0(),xt.lanes|=i,Ls|=i,a)}function Jv(i,r,a,l){return Tn(a,r)?a:Ga.current!==null?(i=jd(i,a,l),Tn(i,r)||(Ue=!0),i):(Ds&42)===0?(Ue=!0,i.memoizedState=a):(i=e0(),xt.lanes|=i,Ls|=i,r)}function t_(i,r,a,l,f){var m=it.p;it.p=m!==0&&8>m?m:8;var T=Y.T,S={};Y.T=S,Fd(i,!1,r,a);try{var I=f(),j=Y.S;if(j!==null&&j(S,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=xR(I,l);Ol(i,r,Q,wn(i))}else Ol(i,r,l,wn(i))}catch(Z){Ol(i,r,{then:function(){},status:"rejected",reason:Z},wn())}finally{it.p=m,Y.T=T}}function OR(){}function zd(i,r,a,l){if(i.tag!==5)throw Error(s(476));var f=e_(i).queue;t_(i,f,r,ut,a===null?OR:function(){return n_(i),a(l)})}function e_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:ut},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function n_(i){var r=e_(i).next.queue;Ol(i,r,{},wn())}function qd(){return Je(Zl)}function i_(){return be().memoizedState}function s_(){return be().memoizedState}function PR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=wn();i=Cs(a);var l=xs(r,i,a);l!==null&&(Rn(l,r,a),Cl(l,r,a)),r={cache:vd()},i.payload=r;return}r=r.return}}function kR(i,r,a){var l=wn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Bc(i)?a_(r,a):(a=ld(i,r,a,l),a!==null&&(Rn(a,i,l),o_(a,r,l)))}function r_(i,r,a){var l=wn();Ol(i,r,a,l)}function Ol(i,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Bc(i))a_(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var T=r.lastRenderedState,S=m(T,a);if(f.hasEagerState=!0,f.eagerState=S,Tn(S,T))return Ac(i,r,f,0),ee===null&&Ec(),!1}catch{}finally{}if(a=ld(i,r,f,l),a!==null)return Rn(a,i,l),o_(a,r,l),!0}return!1}function Fd(i,r,a,l){if(l={lane:2,revertLane:Em(),action:l,hasEagerState:!1,eagerState:null,next:null},Bc(i)){if(r)throw Error(s(479))}else r=ld(i,a,l,2),r!==null&&Rn(r,i,2)}function Bc(i){var r=i.alternate;return i===xt||r!==null&&r===xt}function a_(i,r){Ka=Nc=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function o_(i,r,a){if((a&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,nl(i,a)}}var jc={readContext:Je,use:Pc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},l_={readContext:Je,use:Pc,useCallback:function(i,r){return fn().memoizedState=[i,r===void 0?null:r],i},useContext:Je,useEffect:Gv,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,Uc(4194308,4,Xv.bind(null,r,i),a)},useLayoutEffect:function(i,r){return Uc(4194308,4,i,r)},useInsertionEffect:function(i,r){Uc(4,2,i,r)},useMemo:function(i,r){var a=fn();r=r===void 0?null:r;var l=i();if(Xr){vn(!0);try{i()}finally{vn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(i,r,a){var l=fn();if(a!==void 0){var f=a(r);if(Xr){vn(!0);try{a(r)}finally{vn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=kR.bind(null,xt,i),[l.memoizedState,i]},useRef:function(i){var r=fn();return i={current:i},r.memoizedState=i},useState:function(i){i=Ld(i);var r=i.queue,a=r_.bind(null,xt,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Bd,useDeferredValue:function(i,r){var a=fn();return jd(a,i,r)},useTransition:function(){var i=Ld(!1);return i=t_.bind(null,xt,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var l=xt,f=fn();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ee===null)throw Error(s(349));(Bt&124)!==0||xv(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,Gv(Vv.bind(null,l,m,i),[i]),l.flags|=2048,Qa(9,Lc(),Dv.bind(null,l,m,a,r),null),a},useId:function(){var i=fn(),r=ee.identifierPrefix;if(qt){var a=Yi,l=Ki;a=(l&~(1<<32-Ze(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=Oc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=DR++,r="«"+r+"r"+a.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:qd,useFormState:jv,useActionState:jv,useOptimistic:function(i){var r=fn();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Fd.bind(null,xt,!0,a),a.dispatch=r,[i,r]},useMemoCache:Od,useCacheRefresh:function(){return fn().memoizedState=PR.bind(null,xt)}},u_={readContext:Je,use:Pc,useCallback:Wv,useContext:Je,useEffect:Kv,useImperativeHandle:$v,useInsertionEffect:Yv,useLayoutEffect:Qv,useMemo:Zv,useReducer:kc,useRef:Hv,useState:function(){return kc($i)},useDebugValue:Bd,useDeferredValue:function(i,r){var a=be();return Jv(a,Xt.memoizedState,i,r)},useTransition:function(){var i=kc($i)[0],r=be().memoizedState;return[typeof i=="boolean"?i:Ml(i),r]},useSyncExternalStore:Cv,useId:i_,useHostTransitionStatus:qd,useFormState:zv,useActionState:zv,useOptimistic:function(i,r){var a=be();return Ov(a,Xt,i,r)},useMemoCache:Od,useCacheRefresh:s_},LR={readContext:Je,use:Pc,useCallback:Wv,useContext:Je,useEffect:Kv,useImperativeHandle:$v,useInsertionEffect:Yv,useLayoutEffect:Qv,useMemo:Zv,useReducer:kd,useRef:Hv,useState:function(){return kd($i)},useDebugValue:Bd,useDeferredValue:function(i,r){var a=be();return Xt===null?jd(a,i,r):Jv(a,Xt.memoizedState,i,r)},useTransition:function(){var i=kd($i)[0],r=be().memoizedState;return[typeof i=="boolean"?i:Ml(i),r]},useSyncExternalStore:Cv,useId:i_,useHostTransitionStatus:qd,useFormState:Fv,useActionState:Fv,useOptimistic:function(i,r){var a=be();return Xt!==null?Ov(a,Xt,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Od,useCacheRefresh:s_},Xa=null,Pl=0;function zc(i){var r=Pl;return Pl+=1,Xa===null&&(Xa=[]),Tv(Xa,i,r)}function kl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function qc(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function c_(i){var r=i._init;return r(i._payload)}function h_(i){function r(k,N){if(i){var B=k.deletions;B===null?(k.deletions=[N],k.flags|=16):B.push(N)}}function a(k,N){if(!i)return null;for(;N!==null;)r(k,N),N=N.sibling;return null}function l(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function f(k,N){return k=Gi(k,N),k.index=0,k.sibling=null,k}function m(k,N,B){return k.index=B,i?(B=k.alternate,B!==null?(B=B.index,B<N?(k.flags|=67108866,N):B):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function T(k){return i&&k.alternate===null&&(k.flags|=67108866),k}function S(k,N,B,$){return N===null||N.tag!==6?(N=cd(B,k.mode,$),N.return=k,N):(N=f(N,B),N.return=k,N)}function I(k,N,B,$){var ft=B.type;return ft===V?Q(k,N,B.props.children,$,B.key):N!==null&&(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&c_(ft)===N.type)?(N=f(N,B.props),kl(N,B),N.return=k,N):(N=bc(B.type,B.key,B.props,null,k.mode,$),kl(N,B),N.return=k,N)}function j(k,N,B,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=hd(B,k.mode,$),N.return=k,N):(N=f(N,B.children||[]),N.return=k,N)}function Q(k,N,B,$,ft){return N===null||N.tag!==7?(N=zr(B,k.mode,$,ft),N.return=k,N):(N=f(N,B),N.return=k,N)}function Z(k,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=cd(""+N,k.mode,B),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return B=bc(N.type,N.key,N.props,null,k.mode,B),kl(B,N),B.return=k,B;case C:return N=hd(N,k.mode,B),N.return=k,N;case w:var $=N._init;return N=$(N._payload),Z(k,N,B)}if(ne(N)||L(N))return N=zr(N,k.mode,B,null),N.return=k,N;if(typeof N.then=="function")return Z(k,zc(N),B);if(N.$$typeof===W)return Z(k,Cc(k,N),B);qc(k,N)}return null}function q(k,N,B,$){var ft=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ft!==null?null:S(k,N,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return B.key===ft?I(k,N,B,$):null;case C:return B.key===ft?j(k,N,B,$):null;case w:return ft=B._init,B=ft(B._payload),q(k,N,B,$)}if(ne(B)||L(B))return ft!==null?null:Q(k,N,B,$,null);if(typeof B.then=="function")return q(k,N,zc(B),$);if(B.$$typeof===W)return q(k,N,Cc(k,B),$);qc(k,B)}return null}function H(k,N,B,$,ft){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return k=k.get(B)||null,S(N,k,""+$,ft);if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return k=k.get($.key===null?B:$.key)||null,I(N,k,$,ft);case C:return k=k.get($.key===null?B:$.key)||null,j(N,k,$,ft);case w:var Vt=$._init;return $=Vt($._payload),H(k,N,B,$,ft)}if(ne($)||L($))return k=k.get(B)||null,Q(N,k,$,ft,null);if(typeof $.then=="function")return H(k,N,B,zc($),ft);if($.$$typeof===W)return H(k,N,B,Cc(N,$),ft);qc(N,$)}return null}function Et(k,N,B,$){for(var ft=null,Vt=null,pt=N,_t=N=0,je=null;pt!==null&&_t<B.length;_t++){pt.index>_t?(je=pt,pt=null):je=pt.sibling;var zt=q(k,pt,B[_t],$);if(zt===null){pt===null&&(pt=je);break}i&&pt&&zt.alternate===null&&r(k,pt),N=m(zt,N,_t),Vt===null?ft=zt:Vt.sibling=zt,Vt=zt,pt=je}if(_t===B.length)return a(k,pt),qt&&Fr(k,_t),ft;if(pt===null){for(;_t<B.length;_t++)pt=Z(k,B[_t],$),pt!==null&&(N=m(pt,N,_t),Vt===null?ft=pt:Vt.sibling=pt,Vt=pt);return qt&&Fr(k,_t),ft}for(pt=l(pt);_t<B.length;_t++)je=H(pt,k,_t,B[_t],$),je!==null&&(i&&je.alternate!==null&&pt.delete(je.key===null?_t:je.key),N=m(je,N,_t),Vt===null?ft=je:Vt.sibling=je,Vt=je);return i&&pt.forEach(function(Ks){return r(k,Ks)}),qt&&Fr(k,_t),ft}function vt(k,N,B,$){if(B==null)throw Error(s(151));for(var ft=null,Vt=null,pt=N,_t=N=0,je=null,zt=B.next();pt!==null&&!zt.done;_t++,zt=B.next()){pt.index>_t?(je=pt,pt=null):je=pt.sibling;var Ks=q(k,pt,zt.value,$);if(Ks===null){pt===null&&(pt=je);break}i&&pt&&Ks.alternate===null&&r(k,pt),N=m(Ks,N,_t),Vt===null?ft=Ks:Vt.sibling=Ks,Vt=Ks,pt=je}if(zt.done)return a(k,pt),qt&&Fr(k,_t),ft;if(pt===null){for(;!zt.done;_t++,zt=B.next())zt=Z(k,zt.value,$),zt!==null&&(N=m(zt,N,_t),Vt===null?ft=zt:Vt.sibling=zt,Vt=zt);return qt&&Fr(k,_t),ft}for(pt=l(pt);!zt.done;_t++,zt=B.next())zt=H(pt,k,_t,zt.value,$),zt!==null&&(i&&zt.alternate!==null&&pt.delete(zt.key===null?_t:zt.key),N=m(zt,N,_t),Vt===null?ft=zt:Vt.sibling=zt,Vt=zt);return i&&pt.forEach(function(UI){return r(k,UI)}),qt&&Fr(k,_t),ft}function Wt(k,N,B,$){if(typeof B=="object"&&B!==null&&B.type===V&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case A:t:{for(var ft=B.key;N!==null;){if(N.key===ft){if(ft=B.type,ft===V){if(N.tag===7){a(k,N.sibling),$=f(N,B.props.children),$.return=k,k=$;break t}}else if(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&c_(ft)===N.type){a(k,N.sibling),$=f(N,B.props),kl($,B),$.return=k,k=$;break t}a(k,N);break}else r(k,N);N=N.sibling}B.type===V?($=zr(B.props.children,k.mode,$,B.key),$.return=k,k=$):($=bc(B.type,B.key,B.props,null,k.mode,$),kl($,B),$.return=k,k=$)}return T(k);case C:t:{for(ft=B.key;N!==null;){if(N.key===ft)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(k,N.sibling),$=f(N,B.children||[]),$.return=k,k=$;break t}else{a(k,N);break}else r(k,N);N=N.sibling}$=hd(B,k.mode,$),$.return=k,k=$}return T(k);case w:return ft=B._init,B=ft(B._payload),Wt(k,N,B,$)}if(ne(B))return Et(k,N,B,$);if(L(B)){if(ft=L(B),typeof ft!="function")throw Error(s(150));return B=ft.call(B),vt(k,N,B,$)}if(typeof B.then=="function")return Wt(k,N,zc(B),$);if(B.$$typeof===W)return Wt(k,N,Cc(k,B),$);qc(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(a(k,N.sibling),$=f(N,B),$.return=k,k=$):(a(k,N),$=cd(B,k.mode,$),$.return=k,k=$),T(k)):a(k,N)}return function(k,N,B,$){try{Pl=0;var ft=Wt(k,N,B,$);return Xa=null,ft}catch(pt){if(pt===Rl||pt===Dc)throw pt;var Vt=En(29,pt,null,k.mode);return Vt.lanes=$,Vt.return=k,Vt}finally{}}}var $a=h_(!0),f_=h_(!1),Ln=et(null),yi=null;function Vs(i){var r=i.alternate;rt(Ne,Ne.current&1),rt(Ln,i),yi===null&&(r===null||Ga.current!==null||r.memoizedState!==null)&&(yi=i)}function d_(i){if(i.tag===22){if(rt(Ne,Ne.current),rt(Ln,i),yi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(yi=i)}}else Ms()}function Ms(){rt(Ne,Ne.current),rt(Ln,Ln.current)}function Wi(i){lt(Ln),yi===i&&(yi=null),lt(Ne)}var Ne=et(0);function Fc(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Nm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Hd(i,r,a,l){r=i.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Gd={enqueueSetState:function(i,r,a){i=i._reactInternals;var l=wn(),f=Cs(l);f.payload=r,a!=null&&(f.callback=a),r=xs(i,f,l),r!==null&&(Rn(r,i,l),Cl(r,i,l))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var l=wn(),f=Cs(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=xs(i,f,l),r!==null&&(Rn(r,i,l),Cl(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=wn(),l=Cs(a);l.tag=2,r!=null&&(l.callback=r),r=xs(i,l,a),r!==null&&(Rn(r,i,a),Cl(r,i,a))}};function m_(i,r,a,l,f,m,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,T):r.prototype&&r.prototype.isPureReactComponent?!vl(a,l)||!vl(f,m):!0}function p_(i,r,a,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==i&&Gd.enqueueReplaceState(r,r.state,null)}function $r(i,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(i=i.defaultProps){a===r&&(a=v({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}var Hc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function g_(i){Hc(i)}function y_(i){console.error(i)}function v_(i){Hc(i)}function Gc(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function __(i,r,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Kd(i,r,a){return a=Cs(a),a.tag=3,a.payload={element:null},a.callback=function(){Gc(i,r)},a}function T_(i){return i=Cs(i),i.tag=3,i}function E_(i,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;i.payload=function(){return f(m)},i.callback=function(){__(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){__(r,a,l),typeof f!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function UR(i,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Sl(r,a,f,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return yi===null?gm():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Ed?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),vm(i,l,f)),!1;case 22:return a.flags|=65536,l===Ed?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),vm(i,l,f)),!1}throw Error(s(435,a.tag))}return vm(i,l,f),gm(),!1}if(qt)return r=Ln.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==md&&(i=Error(s(422),{cause:l}),Al(Nn(i,a)))):(l!==md&&(r=Error(s(423),{cause:l}),Al(Nn(r,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=Nn(l,a),f=Kd(i.stateNode,l,f),bd(i,f),de!==4&&(de=2)),!1;var m=Error(s(520),{cause:l});if(m=Nn(m,a),Fl===null?Fl=[m]:Fl.push(m),de!==4&&(de=2),r===null)return!0;l=Nn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=Kd(a.stateNode,l,i),bd(a,i),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Us===null||!Us.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=T_(f),E_(f,i,a,l),bd(a,f),!1}a=a.return}while(a!==null);return!1}var A_=Error(s(461)),Ue=!1;function Ge(i,r,a,l){r.child=i===null?f_(r,null,a,l):$a(r,i.child,a,l)}function S_(i,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var T={};for(var S in l)S!=="ref"&&(T[S]=l[S])}else T=l;return Yr(r),l=xd(i,r,a,T,m,f),S=Dd(),i!==null&&!Ue?(Vd(i,r,f),Zi(i,r,f)):(qt&&S&&fd(r),r.flags|=1,Ge(i,r,l,f),r.child)}function b_(i,r,a,l,f){if(i===null){var m=a.type;return typeof m=="function"&&!ud(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,w_(i,r,m,l,f)):(i=bc(a.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!tm(i,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:vl,a(T,l)&&i.ref===r.ref)return Zi(i,r,f)}return r.flags|=1,i=Gi(m,l),i.ref=r.ref,i.return=r,r.child=i}function w_(i,r,a,l,f){if(i!==null){var m=i.memoizedProps;if(vl(m,l)&&i.ref===r.ref)if(Ue=!1,r.pendingProps=l=m,tm(i,f))(i.flags&131072)!==0&&(Ue=!0);else return r.lanes=i.lanes,Zi(i,r,f)}return Yd(i,r,a,l,f)}function R_(i,r,a){var l=r.pendingProps,f=l.children,m=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,i!==null){for(f=r.child=i.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return I_(i,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&xc(r,m!==null?m.cachePool:null),m!==null?wv(r,m):Rd(),d_(r);else return r.lanes=r.childLanes=536870912,I_(i,r,m!==null?m.baseLanes|a:a,a)}else m!==null?(xc(r,m.cachePool),wv(r,m),Ms(),r.memoizedState=null):(i!==null&&xc(r,null),Rd(),Ms());return Ge(i,r,f,a),r.child}function I_(i,r,a,l){var f=Td();return f=f===null?null:{parent:Me._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},i!==null&&xc(r,null),Rd(),d_(r),i!==null&&Sl(i,r,l,!0),null}function Kc(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function Yd(i,r,a,l,f){return Yr(r),a=xd(i,r,a,l,void 0,f),l=Dd(),i!==null&&!Ue?(Vd(i,r,f),Zi(i,r,f)):(qt&&l&&fd(r),r.flags|=1,Ge(i,r,a,f),r.child)}function C_(i,r,a,l,f,m){return Yr(r),r.updateQueue=null,a=Iv(r,l,a,f),Rv(i),l=Dd(),i!==null&&!Ue?(Vd(i,r,m),Zi(i,r,m)):(qt&&l&&fd(r),r.flags|=1,Ge(i,r,a,m),r.child)}function x_(i,r,a,l,f){if(Yr(r),r.stateNode===null){var m=ja,T=a.contextType;typeof T=="object"&&T!==null&&(m=Je(T)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Gd,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},Ad(r),T=a.contextType,m.context=typeof T=="object"&&T!==null?Je(T):ja,m.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Hd(r,a,T,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Gd.enqueueReplaceState(m,m.state,null),Dl(r,l,m,f),xl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){m=r.stateNode;var S=r.memoizedProps,I=$r(a,S);m.props=I;var j=m.context,Q=a.contextType;T=ja,typeof Q=="object"&&Q!==null&&(T=Je(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Q||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||j!==T)&&p_(r,m,l,T),Is=!1;var q=r.memoizedState;m.state=q,Dl(r,l,m,f),xl(),j=r.memoizedState,S||q!==j||Is?(typeof Z=="function"&&(Hd(r,a,Z,l),j=r.memoizedState),(I=Is||m_(r,a,I,l,q,j,T))?(Q||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),m.props=l,m.state=j,m.context=T,l=I):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Sd(i,r),T=r.memoizedProps,Q=$r(a,T),m.props=Q,Z=r.pendingProps,q=m.context,j=a.contextType,I=ja,typeof j=="object"&&j!==null&&(I=Je(j)),S=a.getDerivedStateFromProps,(j=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Z||q!==I)&&p_(r,m,l,I),Is=!1,q=r.memoizedState,m.state=q,Dl(r,l,m,f),xl();var H=r.memoizedState;T!==Z||q!==H||Is||i!==null&&i.dependencies!==null&&Ic(i.dependencies)?(typeof S=="function"&&(Hd(r,a,S,l),H=r.memoizedState),(Q=Is||m_(r,a,Q,l,q,H,I)||i!==null&&i.dependencies!==null&&Ic(i.dependencies))?(j||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,H,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,H,I)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=H),m.props=l,m.state=H,m.context=I,l=Q):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),l=!1)}return m=l,Kc(i,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&l?(r.child=$a(r,i.child,null,f),r.child=$a(r,null,a,f)):Ge(i,r,a,f),r.memoizedState=m.state,i=r.child):i=Zi(i,r,f),i}function D_(i,r,a,l){return El(),r.flags|=256,Ge(i,r,a,l),r.child}var Qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xd(i){return{baseLanes:i,cachePool:yv()}}function $d(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=Un),i}function V_(i,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,T;if((T=m)||(T=i!==null&&i.memoizedState===null?!1:(Ne.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(qt){if(f?Vs(r):Ms(),qt){var S=fe,I;if(I=S){t:{for(I=S,S=gi;I.nodeType!==8;){if(!S){S=null;break t}if(I=Wn(I.nextSibling),I===null){S=null;break t}}S=I}S!==null?(r.memoizedState={dehydrated:S,treeContext:qr!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},I=En(18,null,null,0),I.stateNode=S,I.return=r,r.child=I,cn=r,fe=null,I=!0):I=!1}I||Gr(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Nm(S)?r.lanes=32:r.lanes=536870912,null;Wi(r)}return S=l.children,l=l.fallback,f?(Ms(),f=r.mode,S=Yc({mode:"hidden",children:S},f),l=zr(l,f,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,f=r.child,f.memoizedState=Xd(a),f.childLanes=$d(i,T,a),r.memoizedState=Qd,l):(Vs(r),Wd(r,S))}if(I=i.memoizedState,I!==null&&(S=I.dehydrated,S!==null)){if(m)r.flags&256?(Vs(r),r.flags&=-257,r=Zd(i,r,a)):r.memoizedState!==null?(Ms(),r.child=i.child,r.flags|=128,r=null):(Ms(),f=l.fallback,S=r.mode,l=Yc({mode:"visible",children:l.children},S),f=zr(f,S,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,$a(r,i.child,null,a),l=r.child,l.memoizedState=Xd(a),l.childLanes=$d(i,T,a),r.memoizedState=Qd,r=f);else if(Vs(r),Nm(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var j=T.dgst;T=j,l=Error(s(419)),l.stack="",l.digest=T,Al({value:l,source:null,stack:null}),r=Zd(i,r,a)}else if(Ue||Sl(i,r,a,!1),T=(a&i.childLanes)!==0,Ue||T){if(T=ee,T!==null&&(l=a&-a,l=(l&42)!==0?1:_s(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ba(i,l),Rn(T,i,l),A_;S.data==="$?"||gm(),r=Zd(i,r,a)}else S.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=I.treeContext,fe=Wn(S.nextSibling),cn=r,qt=!0,Hr=null,gi=!1,i!==null&&(Pn[kn++]=Ki,Pn[kn++]=Yi,Pn[kn++]=qr,Ki=i.id,Yi=i.overflow,qr=r),r=Wd(r,l.children),r.flags|=4096);return r}return f?(Ms(),f=l.fallback,S=r.mode,I=i.child,j=I.sibling,l=Gi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,j!==null?f=Gi(j,f):(f=zr(f,S,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,S=i.child.memoizedState,S===null?S=Xd(a):(I=S.cachePool,I!==null?(j=Me._currentValue,I=I.parent!==j?{parent:j,pool:j}:I):I=yv(),S={baseLanes:S.baseLanes|a,cachePool:I}),f.memoizedState=S,f.childLanes=$d(i,T,a),r.memoizedState=Qd,l):(Vs(r),a=i.child,i=a.sibling,a=Gi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=a,r.memoizedState=null,a)}function Wd(i,r){return r=Yc({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Yc(i,r){return i=En(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Zd(i,r,a){return $a(r,i.child,null,a),i=Wd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function M_(i,r,a){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),gd(i.return,r,a)}function Jd(i,r,a,l,f){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function N_(i,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if(Ge(i,r,l.children,a),l=Ne.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&M_(i,a,r);else if(i.tag===19)M_(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(rt(Ne,l),f){case"forwards":for(a=r.child,f=null;a!==null;)i=a.alternate,i!==null&&Fc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Jd(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Fc(i)===null){r.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}Jd(r,!0,a,null,m);break;case"together":Jd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Zi(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Ls|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(Sl(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Gi(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Gi(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function tm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Ic(i)))}function BR(i,r,a){switch(r.tag){case 3:te(r,r.stateNode.containerInfo),Rs(r,Me,i.memoizedState.cache),El();break;case 27:case 5:vs(r);break;case 4:te(r,r.stateNode.containerInfo);break;case 10:Rs(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Vs(r),r.flags|=128,null):(a&r.child.childLanes)!==0?V_(i,r,a):(Vs(r),i=Zi(i,r,a),i!==null?i.sibling:null);Vs(r);break;case 19:var f=(i.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Sl(i,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return N_(i,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),rt(Ne,Ne.current),l)break;return null;case 22:case 23:return r.lanes=0,R_(i,r,a);case 24:Rs(r,Me,i.memoizedState.cache)}return Zi(i,r,a)}function O_(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ue=!0;else{if(!tm(i,a)&&(r.flags&128)===0)return Ue=!1,BR(i,r,a);Ue=(i.flags&131072)!==0}else Ue=!1,qt&&(r.flags&1048576)!==0&&cv(r,Rc,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")ud(l)?(i=$r(l,i),r.tag=1,r=x_(null,r,l,i,a)):(r.tag=0,r=Yd(null,r,l,i,a));else{if(l!=null){if(f=l.$$typeof,f===dt){r.tag=11,r=S_(null,r,l,i,a);break t}else if(f===M){r.tag=14,r=b_(null,r,l,i,a);break t}}throw r=Te(l)||l,Error(s(306,r,""))}}return r;case 0:return Yd(i,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=$r(l,r.pendingProps),x_(i,r,l,f,a);case 3:t:{if(te(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,Sd(i,r),Dl(r,l,null,a);var T=r.memoizedState;if(l=T.cache,Rs(r,Me,l),l!==m.cache&&yd(r,[Me],a,!0),xl(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=D_(i,r,l,a);break t}else if(l!==f){f=Nn(Error(s(424)),r),Al(f),r=D_(i,r,l,a);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fe=Wn(i.firstChild),cn=r,qt=!0,Hr=null,gi=!0,a=f_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(El(),l===f){r=Zi(i,r,a);break t}Ge(i,r,l,a)}r=r.child}return r;case 26:return Kc(i,r),i===null?(a=U0(r.type,null,r.pendingProps,null))?r.memoizedState=a:qt||(a=r.type,i=r.pendingProps,l=oh(bt.current).createElement(a),l[xe]=r,l[Ee]=i,Ye(l,a,i),pe(l),r.stateNode=l):r.memoizedState=U0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return vs(r),i===null&&qt&&(l=r.stateNode=P0(r.type,r.pendingProps,bt.current),cn=r,gi=!0,f=fe,zs(r.type)?(Om=f,fe=Wn(l.firstChild)):fe=f),Ge(i,r,r.pendingProps.children,a),Kc(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&qt&&((f=l=fe)&&(l=dI(l,r.type,r.pendingProps,gi),l!==null?(r.stateNode=l,cn=r,fe=Wn(l.firstChild),gi=!1,f=!0):f=!1),f||Gr(r)),vs(r),f=r.type,m=r.pendingProps,T=i!==null?i.memoizedProps:null,l=m.children,Dm(f,m)?l=null:T!==null&&Dm(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=xd(i,r,VR,null,null,a),Zl._currentValue=f),Kc(i,r),Ge(i,r,l,a),r.child;case 6:return i===null&&qt&&((i=a=fe)&&(a=mI(a,r.pendingProps,gi),a!==null?(r.stateNode=a,cn=r,fe=null,i=!0):i=!1),i||Gr(r)),null;case 13:return V_(i,r,a);case 4:return te(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=$a(r,null,l,a):Ge(i,r,l,a),r.child;case 11:return S_(i,r,r.type,r.pendingProps,a);case 7:return Ge(i,r,r.pendingProps,a),r.child;case 8:return Ge(i,r,r.pendingProps.children,a),r.child;case 12:return Ge(i,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Rs(r,r.type,l.value),Ge(i,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Yr(r),f=Je(f),l=l(f),r.flags|=1,Ge(i,r,l,a),r.child;case 14:return b_(i,r,r.type,r.pendingProps,a);case 15:return w_(i,r,r.type,r.pendingProps,a);case 19:return N_(i,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},i===null?(a=Yc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Gi(i.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return R_(i,r,a);case 24:return Yr(r),l=Je(Me),i===null?(f=Td(),f===null&&(f=ee,m=vd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},Ad(r),Rs(r,Me,f)):((i.lanes&a)!==0&&(Sd(i,r),Dl(r,null,null,a),xl()),f=i.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Rs(r,Me,l)):(l=m.cache,Rs(r,Me,l),l!==f.cache&&yd(r,[Me],a,!0))),Ge(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ji(i){i.flags|=4}function P_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!F0(r)){if(r=Ln.current,r!==null&&((Bt&4194048)===Bt?yi!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||r!==yi))throw Il=Ed,vv;i.flags|=8192}}function Qc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?tl():536870912,i.lanes|=r,to|=r)}function Ll(i,r){if(!qt)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function le(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(r)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,r}function jR(i,r,a){var l=r.pendingProps;switch(dd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(r),null;case 1:return le(r),null;case 3:return a=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Xi(Me),si(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Tl(r)?Ji(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,dv())),le(r),null;case 26:return a=r.memoizedState,i===null?(Ji(r),a!==null?(le(r),P_(r,a)):(le(r),r.flags&=-16777217)):a?a!==i.memoizedState?(Ji(r),le(r),P_(r,a)):(le(r),r.flags&=-16777217):(i.memoizedProps!==l&&Ji(r),le(r),r.flags&=-16777217),null;case 27:Mi(r),a=bt.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Ji(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return le(r),null}i=yt.current,Tl(r)?hv(r):(i=P0(f,l,a),r.stateNode=i,Ji(r))}return le(r),null;case 5:if(Mi(r),a=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Ji(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return le(r),null}if(i=yt.current,Tl(r))hv(r);else{switch(f=oh(bt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}i[xe]=r,i[Ee]=l;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch(Ye(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Ji(r)}}return le(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&Ji(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=bt.current,Tl(r)){if(i=r.stateNode,a=r.memoizedProps,l=null,f=cn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[xe]=r,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||C0(i.nodeValue,a)),i||Gr(r)}else i=oh(i).createTextNode(l),i[xe]=r,r.stateNode=i}return le(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Tl(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xe]=r}else El(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;le(r),f=!1}else f=dv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Wi(r),r):(Wi(r),null)}if(Wi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==i&&a&&(r.child.flags|=8192),Qc(r,r.updateQueue),le(r),null;case 4:return si(),i===null&&wm(r.stateNode.containerInfo),le(r),null;case 10:return Xi(r.type),le(r),null;case 19:if(lt(Ne),f=r.memoizedState,f===null)return le(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)Ll(f,!1);else{if(de!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=Fc(i),m!==null){for(r.flags|=128,Ll(f,!1),i=m.updateQueue,r.updateQueue=i,Qc(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)uv(a,i),a=a.sibling;return rt(Ne,Ne.current&1|2),r.child}i=i.sibling}f.tail!==null&&In()>Wc&&(r.flags|=128,l=!0,Ll(f,!1),r.lanes=4194304)}else{if(!l)if(i=Fc(m),i!==null){if(r.flags|=128,l=!0,i=i.updateQueue,r.updateQueue=i,Qc(r,i),Ll(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!qt)return le(r),null}else 2*In()-f.renderingStartTime>Wc&&a!==536870912&&(r.flags|=128,l=!0,Ll(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(i=f.last,i!==null?i.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=In(),r.sibling=null,i=Ne.current,rt(Ne,l?i&1|2:i&1),r):(le(r),null);case 22:case 23:return Wi(r),Id(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(le(r),r.subtreeFlags&6&&(r.flags|=8192)):le(r),a=r.updateQueue,a!==null&&Qc(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),i!==null&&lt(Qr),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Xi(Me),le(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function zR(i,r){switch(dd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Xi(Me),si(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Mi(r),null;case 13:if(Wi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));El()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return lt(Ne),null;case 4:return si(),null;case 10:return Xi(r.type),null;case 22:case 23:return Wi(r),Id(),i!==null&&lt(Qr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Xi(Me),null;case 25:return null;default:return null}}function k_(i,r){switch(dd(r),r.tag){case 3:Xi(Me),si();break;case 26:case 27:case 5:Mi(r);break;case 4:si();break;case 13:Wi(r);break;case 19:lt(Ne);break;case 10:Xi(r.type);break;case 22:case 23:Wi(r),Id(),i!==null&&lt(Qr);break;case 24:Xi(Me)}}function Ul(i,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==f)}}catch(S){Zt(r,r.return,S)}}function Ns(i,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&i)===i){var T=l.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=r;var I=a,j=S;try{j()}catch(Q){Zt(f,I,Q)}}}l=l.next}while(l!==m)}}catch(Q){Zt(r,r.return,Q)}}function L_(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{bv(r,a)}catch(l){Zt(i,i.return,l)}}}function U_(i,r,a){a.props=$r(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(i,r,l)}}function Bl(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){Zt(i,r,f)}}function vi(i,r){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Zt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Zt(i,r,f)}else a.current=null}function B_(i){var r=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Zt(i,i.return,f)}}function em(i,r,a){try{var l=i.stateNode;lI(l,i.type,a,r),l[Ee]=r}catch(f){Zt(i,i.return,f)}}function j_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&zs(i.type)||i.tag===4}function nm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||j_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&zs(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function im(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ah));else if(l!==4&&(l===27&&zs(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(im(i,r,a),i=i.sibling;i!==null;)im(i,r,a),i=i.sibling}function Xc(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(l!==4&&(l===27&&zs(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Xc(i,r,a),i=i.sibling;i!==null;)Xc(i,r,a),i=i.sibling}function z_(i){var r=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ye(r,l,a),r[xe]=i,r[Ee]=a}catch(m){Zt(i,i.return,m)}}var ts=!1,ye=!1,sm=!1,q_=typeof WeakSet=="function"?WeakSet:Set,Be=null;function qR(i,r){if(i=i.containerInfo,Cm=dh,i=Jy(i),nd(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,S=-1,I=-1,j=0,Q=0,Z=i,q=null;e:for(;;){for(var H;Z!==a||f!==0&&Z.nodeType!==3||(S=T+f),Z!==m||l!==0&&Z.nodeType!==3||(I=T+l),Z.nodeType===3&&(T+=Z.nodeValue.length),(H=Z.firstChild)!==null;)q=Z,Z=H;for(;;){if(Z===i)break e;if(q===a&&++j===f&&(S=T),q===m&&++Q===l&&(I=T),(H=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=H}a=S===-1||I===-1?null:{start:S,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(xm={focusedElem:i,selectionRange:a},dh=!1,Be=r;Be!==null;)if(r=Be,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Be=i;else for(;Be!==null;){switch(r=Be,m=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Et=$r(a.type,f,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(Et,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Zt(a,a.return,vt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Mm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Mm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Be=i;break}Be=r.return}}function F_(i,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Os(i,a),l&4&&Ul(5,a);break;case 1:if(Os(i,a),l&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(T){Zt(a,a.return,T)}else{var f=$r(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Zt(a,a.return,T)}}l&64&&L_(a),l&512&&Bl(a,a.return);break;case 3:if(Os(i,a),l&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{bv(i,r)}catch(T){Zt(a,a.return,T)}}break;case 27:r===null&&l&4&&z_(a);case 26:case 5:Os(i,a),r===null&&l&4&&B_(a),l&512&&Bl(a,a.return);break;case 12:Os(i,a);break;case 13:Os(i,a),l&4&&K_(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=WR.bind(null,a),pI(i,a))));break;case 22:if(l=a.memoizedState!==null||ts,!l){r=r!==null&&r.memoizedState!==null||ye,f=ts;var m=ye;ts=l,(ye=r)&&!m?Ps(i,a,(a.subtreeFlags&8772)!==0):Os(i,a),ts=f,ye=m}break;case 30:break;default:Os(i,a)}}function H_(i){var r=i.alternate;r!==null&&(i.alternate=null,H_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&As(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ae=null,dn=!1;function es(i,r,a){for(a=a.child;a!==null;)G_(i,r,a),a=a.sibling}function G_(i,r,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(he,a)}catch{}switch(a.tag){case 26:ye||vi(a,r),es(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ye||vi(a,r);var l=ae,f=dn;zs(a.type)&&(ae=a.stateNode,dn=!1),es(i,r,a),Ql(a.stateNode),ae=l,dn=f;break;case 5:ye||vi(a,r);case 6:if(l=ae,f=dn,ae=null,es(i,r,a),ae=l,dn=f,ae!==null)if(dn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(m){Zt(a,r,m)}else try{ae.removeChild(a.stateNode)}catch(m){Zt(a,r,m)}break;case 18:ae!==null&&(dn?(i=ae,N0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),nu(i)):N0(ae,a.stateNode));break;case 4:l=ae,f=dn,ae=a.stateNode.containerInfo,dn=!0,es(i,r,a),ae=l,dn=f;break;case 0:case 11:case 14:case 15:ye||Ns(2,a,r),ye||Ns(4,a,r),es(i,r,a);break;case 1:ye||(vi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&U_(a,r,l)),es(i,r,a);break;case 21:es(i,r,a);break;case 22:ye=(l=ye)||a.memoizedState!==null,es(i,r,a),ye=l;break;default:es(i,r,a)}}function K_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{nu(i)}catch(a){Zt(r,r.return,a)}}function FR(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new q_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new q_),r;default:throw Error(s(435,i.tag))}}function rm(i,r){var a=FR(i);r.forEach(function(l){var f=ZR.bind(null,i,l);a.has(l)||(a.add(l),l.then(f,f))})}function An(i,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=i,T=r,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(zs(S.type)){ae=S.stateNode,dn=!1;break t}break;case 5:ae=S.stateNode,dn=!1;break t;case 3:case 4:ae=S.stateNode.containerInfo,dn=!0;break t}S=S.return}if(ae===null)throw Error(s(160));G_(m,T,f),ae=null,dn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Y_(r,i),r=r.sibling}var $n=null;function Y_(i,r){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:An(r,i),Sn(i),l&4&&(Ns(3,i,i.return),Ul(3,i),Ns(5,i,i.return));break;case 1:An(r,i),Sn(i),l&512&&(ye||a===null||vi(a,a.return)),l&64&&ts&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=$n;if(An(r,i),Sn(i),l&512&&(ye||a===null||vi(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[wr]||m[xe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Ye(m,l,a),m[xe]=i,pe(m),l=m;break t;case"link":var T=z0("link","href",f).get(l+(a.href||""));if(T){for(var S=0;S<T.length;S++)if(m=T[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(S,1);break e}}m=f.createElement(l),Ye(m,l,a),f.head.appendChild(m);break;case"meta":if(T=z0("meta","content",f).get(l+(a.content||""))){for(S=0;S<T.length;S++)if(m=T[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(S,1);break e}}m=f.createElement(l),Ye(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[xe]=i,pe(m),l=m}i.stateNode=l}else q0(f,i.type,i.stateNode);else i.stateNode=j0(f,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?q0(f,i.type,i.stateNode):j0(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&em(i,i.memoizedProps,a.memoizedProps)}break;case 27:An(r,i),Sn(i),l&512&&(ye||a===null||vi(a,a.return)),a!==null&&l&4&&em(i,i.memoizedProps,a.memoizedProps);break;case 5:if(An(r,i),Sn(i),l&512&&(ye||a===null||vi(a,a.return)),i.flags&32){f=i.stateNode;try{xn(f,"")}catch(H){Zt(i,i.return,H)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,em(i,f,a!==null?a.memoizedProps:f)),l&1024&&(sm=!0);break;case 6:if(An(r,i),Sn(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(H){Zt(i,i.return,H)}}break;case 3:if(ch=null,f=$n,$n=lh(r.containerInfo),An(r,i),$n=f,Sn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{nu(r.containerInfo)}catch(H){Zt(i,i.return,H)}sm&&(sm=!1,Q_(i));break;case 4:l=$n,$n=lh(i.stateNode.containerInfo),An(r,i),Sn(i),$n=l;break;case 12:An(r,i),Sn(i);break;case 13:An(r,i),Sn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hm=In()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,rm(i,l)));break;case 22:f=i.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,j=ts,Q=ye;if(ts=j||f,ye=Q||I,An(r,i),ye=Q,ts=j,Sn(i),l&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||I||ts||ye||Wr(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(m=I.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=I.stateNode;var Z=I.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){Zt(I,I.return,H)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(H){Zt(I,I.return,H)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,rm(i,a))));break;case 19:An(r,i),Sn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,rm(i,l)));break;case 30:break;case 21:break;default:An(r,i),Sn(i)}}function Sn(i){var r=i.flags;if(r&2){try{for(var a,l=i.return;l!==null;){if(j_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=nm(i);Xc(i,m,f);break;case 5:var T=a.stateNode;a.flags&32&&(xn(T,""),a.flags&=-33);var S=nm(i);Xc(i,S,T);break;case 3:case 4:var I=a.stateNode.containerInfo,j=nm(i);im(i,j,I);break;default:throw Error(s(161))}}catch(Q){Zt(i,i.return,Q)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Q_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Q_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Os(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)F_(i,r.alternate,r),r=r.sibling}function Wr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ns(4,r,r.return),Wr(r);break;case 1:vi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&U_(r,r.return,a),Wr(r);break;case 27:Ql(r.stateNode);case 26:case 5:vi(r,r.return),Wr(r);break;case 22:r.memoizedState===null&&Wr(r);break;case 30:Wr(r);break;default:Wr(r)}i=i.sibling}}function Ps(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,m=r,T=m.flags;switch(m.tag){case 0:case 11:case 15:Ps(f,m,a),Ul(4,m);break;case 1:if(Ps(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){Zt(l,l.return,j)}if(l=m,f=l.updateQueue,f!==null){var S=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Sv(I[f],S)}catch(j){Zt(l,l.return,j)}}a&&T&64&&L_(m),Bl(m,m.return);break;case 27:z_(m);case 26:case 5:Ps(f,m,a),a&&l===null&&T&4&&B_(m),Bl(m,m.return);break;case 12:Ps(f,m,a);break;case 13:Ps(f,m,a),a&&T&4&&K_(f,m);break;case 22:m.memoizedState===null&&Ps(f,m,a),Bl(m,m.return);break;case 30:break;default:Ps(f,m,a)}r=r.sibling}}function am(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&bl(a))}function om(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&bl(i))}function _i(i,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)X_(i,r,a,l),r=r.sibling}function X_(i,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:_i(i,r,a,l),f&2048&&Ul(9,r);break;case 1:_i(i,r,a,l);break;case 3:_i(i,r,a,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&bl(i)));break;case 12:if(f&2048){_i(i,r,a,l),i=r.stateNode;try{var m=r.memoizedProps,T=m.id,S=m.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){Zt(r,r.return,I)}}else _i(i,r,a,l);break;case 13:_i(i,r,a,l);break;case 23:break;case 22:m=r.stateNode,T=r.alternate,r.memoizedState!==null?m._visibility&2?_i(i,r,a,l):jl(i,r):m._visibility&2?_i(i,r,a,l):(m._visibility|=2,Wa(i,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&am(T,r);break;case 24:_i(i,r,a,l),f&2048&&om(r.alternate,r);break;default:_i(i,r,a,l)}}function Wa(i,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=i,T=r,S=a,I=l,j=T.flags;switch(T.tag){case 0:case 11:case 15:Wa(m,T,S,I,f),Ul(8,T);break;case 23:break;case 22:var Q=T.stateNode;T.memoizedState!==null?Q._visibility&2?Wa(m,T,S,I,f):jl(m,T):(Q._visibility|=2,Wa(m,T,S,I,f)),f&&j&2048&&am(T.alternate,T);break;case 24:Wa(m,T,S,I,f),f&&j&2048&&om(T.alternate,T);break;default:Wa(m,T,S,I,f)}r=r.sibling}}function jl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,l=r,f=l.flags;switch(l.tag){case 22:jl(a,l),f&2048&&am(l.alternate,l);break;case 24:jl(a,l),f&2048&&om(l.alternate,l);break;default:jl(a,l)}r=r.sibling}}var zl=8192;function Za(i){if(i.subtreeFlags&zl)for(i=i.child;i!==null;)$_(i),i=i.sibling}function $_(i){switch(i.tag){case 26:Za(i),i.flags&zl&&i.memoizedState!==null&&CI($n,i.memoizedState,i.memoizedProps);break;case 5:Za(i);break;case 3:case 4:var r=$n;$n=lh(i.stateNode.containerInfo),Za(i),$n=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=zl,zl=16777216,Za(i),zl=r):Za(i));break;default:Za(i)}}function W_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function ql(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Be=l,J_(l,i)}W_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Z_(i),i=i.sibling}function Z_(i){switch(i.tag){case 0:case 11:case 15:ql(i),i.flags&2048&&Ns(9,i,i.return);break;case 3:ql(i);break;case 12:ql(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,$c(i)):ql(i);break;default:ql(i)}}function $c(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Be=l,J_(l,i)}W_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ns(8,r,r.return),$c(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,$c(r));break;default:$c(r)}i=i.sibling}}function J_(i,r){for(;Be!==null;){var a=Be;switch(a.tag){case 0:case 11:case 15:Ns(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:bl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Be=l;else t:for(a=i;Be!==null;){l=Be;var f=l.sibling,m=l.return;if(H_(l),l===a){Be=null;break t}if(f!==null){f.return=m,Be=f;break t}Be=m}}}var HR={getCacheForType:function(i){var r=Je(Me),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a}},GR=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ee=null,Mt=null,Bt=0,Yt=0,bn=null,ks=!1,Ja=!1,lm=!1,ns=0,de=0,Ls=0,Zr=0,um=0,Un=0,to=0,Fl=null,mn=null,cm=!1,hm=0,Wc=1/0,Zc=null,Us=null,Ke=0,Bs=null,eo=null,no=0,fm=0,dm=null,t0=null,Hl=0,mm=null;function wn(){if((Kt&2)!==0&&Bt!==0)return Bt&-Bt;if(Y.T!==null){var i=Fa;return i!==0?i:Em()}return Ts()}function e0(){Un===0&&(Un=(Bt&536870912)===0||qt?Jo():536870912);var i=Ln.current;return i!==null&&(i.flags|=32),Un}function Rn(i,r,a){(i===ee&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)&&(io(i,0),js(i,Bt,Un,!1)),Oi(i,a),((Kt&2)===0||i!==ee)&&(i===ee&&((Kt&2)===0&&(Zr|=a),de===4&&js(i,Bt,Un,!1)),Ti(i))}function n0(i,r,a){if((Kt&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&i.expiredLanes)===0||br(i,r),f=l?QR(i,r):ym(i,r,!0),m=l;do{if(f===0){Ja&&!l&&js(i,r,0,!1);break}else{if(a=i.current.alternate,m&&!KR(a)){f=ym(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var S=i;f=Fl;var I=S.current.memoizedState.isDehydrated;if(I&&(io(S,T).flags|=256),T=ym(S,T,!1),T!==2){if(lm&&!I){S.errorRecoveryDisabledLanes|=m,Zr|=m,f=4;break t}m=mn,mn=f,m!==null&&(mn===null?mn=m:mn.push.apply(mn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){io(i,0),js(i,r,0,!0);break}t:{switch(l=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:js(l,r,Un,!ks);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=hm+300-In(),10<f)){if(js(l,r,Un,!ks),Ta(l,0,!0)!==0)break t;l.timeoutHandle=V0(i0.bind(null,l,a,mn,Zc,cm,r,Un,Zr,to,ks,m,2,-0,0),f);break t}i0(l,a,mn,Zc,cm,r,Un,Zr,to,ks,m,0,-0,0)}}break}while(!0);Ti(i)}function i0(i,r,a,l,f,m,T,S,I,j,Q,Z,q,H){if(i.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Wl={stylesheets:null,count:0,unsuspend:II},$_(r),Z=xI(),Z!==null)){i.cancelPendingCommit=Z(c0.bind(null,i,r,m,a,l,f,T,S,I,Q,1,q,H)),js(i,m,T,!j);return}c0(i,r,m,a,l,f,T,S,I)}function KR(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Tn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function js(i,r,a,l){r&=~um,r&=~Zr,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var m=31-Ze(f),T=1<<m;l[m]=-1,f&=~T}a!==0&&ri(i,a,r)}function Jc(){return(Kt&6)===0?(Gl(0),!1):!0}function pm(){if(Mt!==null){if(Yt===0)var i=Mt.return;else i=Mt,Qi=Kr=null,Md(i),Xa=null,Pl=0,i=Mt;for(;i!==null;)k_(i.alternate,i),i=i.return;Mt=null}}function io(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,cI(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),pm(),ee=i,Mt=a=Gi(i.current,null),Bt=r,Yt=0,bn=null,ks=!1,Ja=br(i,r),lm=!1,to=Un=um=Zr=Ls=de=0,mn=Fl=null,cm=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-Ze(l),m=1<<f;r|=i[f],l&=~m}return ns=r,Ec(),a}function s0(i,r){xt=null,Y.H=jc,r===Rl||r===Dc?(r=Ev(),Yt=3):r===vv?(r=Ev(),Yt=4):Yt=r===A_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,bn=r,Mt===null&&(de=1,Gc(i,Nn(r,i.current)))}function r0(){var i=Y.H;return Y.H=jc,i===null?jc:i}function a0(){var i=Y.A;return Y.A=HR,i}function gm(){de=4,ks||(Bt&4194048)!==Bt&&Ln.current!==null||(Ja=!0),(Ls&134217727)===0&&(Zr&134217727)===0||ee===null||js(ee,Bt,Un,!1)}function ym(i,r,a){var l=Kt;Kt|=2;var f=r0(),m=a0();(ee!==i||Bt!==r)&&(Zc=null,io(i,r)),r=!1;var T=de;t:do try{if(Yt!==0&&Mt!==null){var S=Mt,I=bn;switch(Yt){case 8:pm(),T=6;break t;case 3:case 2:case 9:case 6:Ln.current===null&&(r=!0);var j=Yt;if(Yt=0,bn=null,so(i,S,I,j),a&&Ja){T=0;break t}break;default:j=Yt,Yt=0,bn=null,so(i,S,I,j)}}YR(),T=de;break}catch(Q){s0(i,Q)}while(!0);return r&&i.shellSuspendCounter++,Qi=Kr=null,Kt=l,Y.H=f,Y.A=m,Mt===null&&(ee=null,Bt=0,Ec()),T}function YR(){for(;Mt!==null;)o0(Mt)}function QR(i,r){var a=Kt;Kt|=2;var l=r0(),f=a0();ee!==i||Bt!==r?(Zc=null,Wc=In()+500,io(i,r)):Ja=br(i,r);t:do try{if(Yt!==0&&Mt!==null){r=Mt;var m=bn;e:switch(Yt){case 1:Yt=0,bn=null,so(i,r,m,1);break;case 2:case 9:if(_v(m)){Yt=0,bn=null,l0(r);break}r=function(){Yt!==2&&Yt!==9||ee!==i||(Yt=7),Ti(i)},m.then(r,r);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:_v(m)?(Yt=0,bn=null,l0(r)):(Yt=0,bn=null,so(i,r,m,7));break;case 5:var T=null;switch(Mt.tag){case 26:T=Mt.memoizedState;case 5:case 27:var S=Mt;if(!T||F0(T)){Yt=0,bn=null;var I=S.sibling;if(I!==null)Mt=I;else{var j=S.return;j!==null?(Mt=j,th(j)):Mt=null}break e}}Yt=0,bn=null,so(i,r,m,5);break;case 6:Yt=0,bn=null,so(i,r,m,6);break;case 8:pm(),de=6;break t;default:throw Error(s(462))}}XR();break}catch(Q){s0(i,Q)}while(!0);return Qi=Kr=null,Y.H=l,Y.A=f,Kt=a,Mt!==null?0:(ee=null,Bt=0,Ec(),de)}function XR(){for(;Mt!==null&&!Xo();)o0(Mt)}function o0(i){var r=O_(i.alternate,i,ns);i.memoizedProps=i.pendingProps,r===null?th(i):Mt=r}function l0(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=C_(a,r,r.pendingProps,r.type,void 0,Bt);break;case 11:r=C_(a,r,r.pendingProps,r.type.render,r.ref,Bt);break;case 5:Md(r);default:k_(a,r),r=Mt=uv(r,ns),r=O_(a,r,ns)}i.memoizedProps=i.pendingProps,r===null?th(i):Mt=r}function so(i,r,a,l){Qi=Kr=null,Md(r),Xa=null,Pl=0;var f=r.return;try{if(UR(i,f,r,a,Bt)){de=1,Gc(i,Nn(a,i.current)),Mt=null;return}}catch(m){if(f!==null)throw Mt=f,m;de=1,Gc(i,Nn(a,i.current)),Mt=null;return}r.flags&32768?(qt||l===1?i=!0:Ja||(Bt&536870912)!==0?i=!1:(ks=i=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),u0(r,i)):th(r)}function th(i){var r=i;do{if((r.flags&32768)!==0){u0(r,ks);return}i=r.return;var a=jR(r.alternate,r,ns);if(a!==null){Mt=a;return}if(r=r.sibling,r!==null){Mt=r;return}Mt=r=i}while(r!==null);de===0&&(de=5)}function u0(i,r){do{var a=zR(i.alternate,i);if(a!==null){a.flags&=32767,Mt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=a}while(i!==null);de=6,Mt=null}function c0(i,r,a,l,f,m,T,S,I){i.cancelPendingCommit=null;do eh();while(Ke!==0);if((Kt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=od,el(i,a,m,T,S,I),i===ee&&(Mt=ee=null,Bt=0),eo=r,Bs=i,no=a,fm=m,dm=f,t0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,JR(Tr,function(){return p0(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=it.p,it.p=2,T=Kt,Kt|=4;try{qR(i,r,a)}finally{Kt=T,it.p=f,Y.T=l}}Ke=1,h0(),f0(),d0()}}function h0(){if(Ke===1){Ke=0;var i=Bs,r=eo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=it.p;it.p=2;var f=Kt;Kt|=4;try{Y_(r,i);var m=xm,T=Jy(i.containerInfo),S=m.focusedElem,I=m.selectionRange;if(T!==S&&S&&S.ownerDocument&&Zy(S.ownerDocument.documentElement,S)){if(I!==null&&nd(S)){var j=I.start,Q=I.end;if(Q===void 0&&(Q=j),"selectionStart"in S)S.selectionStart=j,S.selectionEnd=Math.min(Q,S.value.length);else{var Z=S.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var H=q.getSelection(),Et=S.textContent.length,vt=Math.min(I.start,Et),Wt=I.end===void 0?vt:Math.min(I.end,Et);!H.extend&&vt>Wt&&(T=Wt,Wt=vt,vt=T);var k=Wy(S,vt),N=Wy(S,Wt);if(k&&N&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var B=Z.createRange();B.setStart(k.node,k.offset),H.removeAllRanges(),vt>Wt?(H.addRange(B),H.extend(N.node,N.offset)):(B.setEnd(N.node,N.offset),H.addRange(B))}}}}for(Z=[],H=S;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var $=Z[S];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}dh=!!Cm,xm=Cm=null}finally{Kt=f,it.p=l,Y.T=a}}i.current=r,Ke=2}}function f0(){if(Ke===2){Ke=0;var i=Bs,r=eo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=it.p;it.p=2;var f=Kt;Kt|=4;try{F_(i,r.alternate,r)}finally{Kt=f,it.p=l,Y.T=a}}Ke=3}}function d0(){if(Ke===4||Ke===3){Ke=0,$u();var i=Bs,r=eo,a=no,l=t0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ke=5:(Ke=0,eo=Bs=null,m0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Us=null),Ea(a),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(he,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,f=it.p,it.p=2,Y.T=null;try{for(var m=i.onRecoverableError,T=0;T<l.length;T++){var S=l[T];m(S.value,{componentStack:S.stack})}}finally{Y.T=r,it.p=f}}(no&3)!==0&&eh(),Ti(i),f=i.pendingLanes,(a&4194090)!==0&&(f&42)!==0?i===mm?Hl++:(Hl=0,mm=i):Hl=0,Gl(0)}}function m0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,bl(r)))}function eh(i){return h0(),f0(),d0(),p0()}function p0(){if(Ke!==5)return!1;var i=Bs,r=fm;fm=0;var a=Ea(no),l=Y.T,f=it.p;try{it.p=32>a?32:a,Y.T=null,a=dm,dm=null;var m=Bs,T=no;if(Ke=0,eo=Bs=null,no=0,(Kt&6)!==0)throw Error(s(331));var S=Kt;if(Kt|=4,Z_(m.current),X_(m,m.current,T,a),Kt=S,Gl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(he,m)}catch{}return!0}finally{it.p=f,Y.T=l,m0(i,r)}}function g0(i,r,a){r=Nn(a,r),r=Kd(i.stateNode,r,2),i=xs(i,r,2),i!==null&&(Oi(i,2),Ti(i))}function Zt(i,r,a){if(i.tag===3)g0(i,i,a);else for(;r!==null;){if(r.tag===3){g0(r,i,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Us===null||!Us.has(l))){i=Nn(a,i),a=T_(2),l=xs(r,a,2),l!==null&&(E_(a,l,r,i),Oi(l,2),Ti(l));break}}r=r.return}}function vm(i,r,a){var l=i.pingCache;if(l===null){l=i.pingCache=new GR;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(lm=!0,f.add(a),i=$R.bind(null,i,r,a),r.then(i,i))}function $R(i,r,a){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ee===i&&(Bt&a)===a&&(de===4||de===3&&(Bt&62914560)===Bt&&300>In()-hm?(Kt&2)===0&&io(i,0):um|=a,to===Bt&&(to=0)),Ti(i)}function y0(i,r){r===0&&(r=tl()),i=Ba(i,r),i!==null&&(Oi(i,r),Ti(i))}function WR(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),y0(i,a)}function ZR(i,r){var a=0;switch(i.tag){case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),y0(i,a)}function JR(i,r){return vr(i,r)}var nh=null,ro=null,_m=!1,ih=!1,Tm=!1,Jr=0;function Ti(i){i!==ro&&i.next===null&&(ro===null?nh=ro=i:ro=ro.next=i),ih=!0,_m||(_m=!0,eI())}function Gl(i,r){if(!Tm&&ih){Tm=!0;do for(var a=!1,l=nh;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-Ze(42|i)+1)-1,m&=f&~(T&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,E0(l,m))}else m=Bt,m=Ta(l,l===ee?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||br(l,m)||(a=!0,E0(l,m));l=l.next}while(a);Tm=!1}}function tI(){v0()}function v0(){ih=_m=!1;var i=0;Jr!==0&&(uI()&&(i=Jr),Jr=0);for(var r=In(),a=null,l=nh;l!==null;){var f=l.next,m=_0(l,r);m===0?(l.next=null,a===null?nh=f:a.next=f,f===null&&(ro=a)):(a=l,(i!==0||(m&3)!==0)&&(ih=!0)),l=f}Gl(i)}function _0(i,r){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var T=31-Ze(m),S=1<<T,I=f[T];I===-1?((S&a)===0||(S&l)!==0)&&(f[T]=Zo(S,r)):I<=r&&(i.expiredLanes|=S),m&=~S}if(r=ee,a=Bt,a=Ta(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===r&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&_r(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||br(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(l!==null&&_r(l),Ea(a)){case 2:case 8:a=va;break;case 32:a=Tr;break;case 268435456:a=_a;break;default:a=Tr}return l=T0.bind(null,i),a=vr(a,l),i.callbackPriority=r,i.callbackNode=a,r}return l!==null&&l!==null&&_r(l),i.callbackPriority=2,i.callbackNode=null,2}function T0(i,r){if(Ke!==0&&Ke!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(eh()&&i.callbackNode!==a)return null;var l=Bt;return l=Ta(i,i===ee?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(n0(i,l,r),_0(i,In()),i.callbackNode!=null&&i.callbackNode===a?T0.bind(null,i):null)}function E0(i,r){if(eh())return null;n0(i,r,!0)}function eI(){hI(function(){(Kt&6)!==0?vr($o,tI):v0()})}function Em(){return Jr===0&&(Jr=Jo()),Jr}function A0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ia(""+i)}function S0(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function nI(i,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=A0((f[Ee]||null).action),T=l.submitter;T&&(r=(r=T[Ee]||null)?A0(r.formAction):T.getAttribute("formAction"),r!==null&&(m=r,T=null));var S=new Ca("action","action",null,l,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Jr!==0){var I=T?S0(f,T):new FormData(f);zd(a,{pending:!0,data:I,method:f.method,action:m},null,I)}}else typeof m=="function"&&(S.preventDefault(),I=T?S0(f,T):new FormData(f),zd(a,{pending:!0,data:I,method:f.method,action:m},m,I))},currentTarget:f}]})}}for(var Am=0;Am<ad.length;Am++){var Sm=ad[Am],iI=Sm.toLowerCase(),sI=Sm[0].toUpperCase()+Sm.slice(1);Xn(iI,"on"+sI)}Xn(nv,"onAnimationEnd"),Xn(iv,"onAnimationIteration"),Xn(sv,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(ER,"onTransitionRun"),Xn(AR,"onTransitionStart"),Xn(SR,"onTransitionCancel"),Xn(rv,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function b0(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var m=void 0;if(r)for(var T=l.length-1;0<=T;T--){var S=l[T],I=S.instance,j=S.currentTarget;if(S=S.listener,I!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=j;try{m(f)}catch(Q){Hc(Q)}f.currentTarget=null,m=I}else for(T=0;T<l.length;T++){if(S=l[T],I=S.instance,j=S.currentTarget,S=S.listener,I!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=j;try{m(f)}catch(Q){Hc(Q)}f.currentTarget=null,m=I}}}}function Nt(i,r){var a=r[il];a===void 0&&(a=r[il]=new Set);var l=i+"__bubble";a.has(l)||(w0(r,i,2,!1),a.add(l))}function bm(i,r,a){var l=0;r&&(l|=4),w0(a,i,l,r)}var sh="_reactListening"+Math.random().toString(36).slice(2);function wm(i){if(!i[sh]){i[sh]=!0,sl.forEach(function(a){a!=="selectionchange"&&(rI.has(a)||bm(a,!1,i),bm(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[sh]||(r[sh]=!0,bm("selectionchange",!1,r))}}function w0(i,r,a,l){switch(X0(r)){case 2:var f=MI;break;case 8:f=NI;break;default:f=Bm}a=f.bind(null,r,a,i),f=void 0,!Vn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,a,{capture:!0,passive:f}):i.addEventListener(r,a,!0):f!==void 0?i.addEventListener(r,a,{passive:f}):i.addEventListener(r,a,!1)}function Rm(i,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var S=l.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=l.return;T!==null;){var I=T.tag;if((I===3||I===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=Pi(S),T===null)return;if(I=T.tag,I===5||I===6||I===26||I===27){l=m=T;continue t}S=S.parentNode}}l=l.return}ac(function(){var j=m,Q=Dn(a),Z=[];t:{var q=av.get(i);if(q!==void 0){var H=Ca,Et=i;switch(i){case"keypress":if(hi(a)===0)break t;case"keydown":case"keyup":H=Oa;break;case"focusin":Et="focus",H=Va;break;case"focusout":Et="blur",H=Va;break;case"beforeblur":case"afterblur":H=Va;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=mc;break;case nv:case iv:case sv:H=Ma;break;case rv:H=gc;break;case"scroll":case"scrollend":H=oc;break;case"wheel":H=Pa;break;case"copy":case"cut":case"paste":H=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=gl;break;case"toggle":case"beforetoggle":H=vc}var vt=(r&4)!==0,Wt=!vt&&(i==="scroll"||i==="scrollend"),k=vt?q!==null?q+"Capture":null:q;vt=[];for(var N=j,B;N!==null;){var $=N;if(B=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||B===null||k===null||($=Mr(N,k),$!=null&&vt.push(Yl(N,$,B))),Wt)break;N=N.return}0<vt.length&&(q=new H(q,Et,null,a,Q),Z.push({event:q,listeners:vt}))}}if((r&7)===0){t:{if(q=i==="mouseover"||i==="pointerover",H=i==="mouseout"||i==="pointerout",q&&a!==Bi&&(Et=a.relatedTarget||a.fromElement)&&(Pi(Et)||Et[Cn]))break t;if((H||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,H?(Et=a.relatedTarget||a.toElement,H=j,Et=Et?Pi(Et):null,Et!==null&&(Wt=u(Et),vt=Et.tag,Et!==Wt||vt!==5&&vt!==27&&vt!==6)&&(Et=null)):(H=null,Et=j),H!==Et)){if(vt=Mn,$="onMouseLeave",k="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(vt=gl,$="onPointerLeave",k="onPointerEnter",N="pointer"),Wt=H==null?q:oi(H),B=Et==null?q:oi(Et),q=new vt($,N+"leave",H,a,Q),q.target=Wt,q.relatedTarget=B,$=null,Pi(Q)===j&&(vt=new vt(k,N+"enter",Et,a,Q),vt.target=B,vt.relatedTarget=Wt,$=vt),Wt=$,H&&Et)e:{for(vt=H,k=Et,N=0,B=vt;B;B=ao(B))N++;for(B=0,$=k;$;$=ao($))B++;for(;0<N-B;)vt=ao(vt),N--;for(;0<B-N;)k=ao(k),B--;for(;N--;){if(vt===k||k!==null&&vt===k.alternate)break e;vt=ao(vt),k=ao(k)}vt=null}else vt=null;H!==null&&R0(Z,q,H,vt,!1),Et!==null&&Wt!==null&&R0(Z,Wt,Et,vt,!0)}}t:{if(q=j?oi(j):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var ft=Gy;else if(Ve(q))if(Ky)ft=vR;else{ft=gR;var Vt=pR}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&ul(j.elementType)&&(ft=Gy):ft=yR;if(ft&&(ft=ft(i,j))){Hi(Z,ft,a,Q);break t}Vt&&Vt(i,q,j),i==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&bs(q,"number",q.value)}switch(Vt=j?oi(j):window,i){case"focusin":(Ve(Vt)||Vt.contentEditable==="true")&&(ka=Vt,id=j,_l=null);break;case"focusout":_l=id=ka=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,tv(Z,a,Q);break;case"selectionchange":if(TR)break;case"keydown":case"keyup":tv(Z,a,Q)}var pt;if(mi)t:{switch(i){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Lt?K(i,a)&&(_t="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(_&&a.locale!=="ko"&&(Lt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Lt&&(pt=hl()):(ci=Q,ws="value"in ci?ci.value:ci.textContent,Lt=!0)),Vt=rh(j,_t),0<Vt.length&&(_t=new ml(_t,i,null,a,Q),Z.push({event:_t,listeners:Vt}),pt?_t.data=pt:(pt=at(a),pt!==null&&(_t.data=pt)))),(pt=y?De(i,a):Ut(i,a))&&(_t=rh(j,"onBeforeInput"),0<_t.length&&(Vt=new ml("onBeforeInput","beforeinput",null,a,Q),Z.push({event:Vt,listeners:_t}),Vt.data=pt)),nI(Z,i,j,a,Q)}b0(Z,r)})}function Yl(i,r,a){return{instance:i,listener:r,currentTarget:a}}function rh(i,r){for(var a=r+"Capture",l=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Mr(i,a),f!=null&&l.unshift(Yl(i,f,m)),f=Mr(i,r),f!=null&&l.push(Yl(i,f,m))),i.tag===3)return l;i=i.return}return[]}function ao(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function R0(i,r,a,l,f){for(var m=r._reactName,T=[];a!==null&&a!==l;){var S=a,I=S.alternate,j=S.stateNode;if(S=S.tag,I!==null&&I===l)break;S!==5&&S!==26&&S!==27||j===null||(I=j,f?(j=Mr(a,m),j!=null&&T.unshift(Yl(a,j,I))):f||(j=Mr(a,m),j!=null&&T.push(Yl(a,j,I)))),a=a.return}T.length!==0&&i.push({event:r,listeners:T})}var aI=/\r\n?/g,oI=/\u0000|\uFFFD/g;function I0(i){return(typeof i=="string"?i:""+i).replace(aI,`
`).replace(oI,"")}function C0(i,r){return r=I0(r),I0(i)===r}function ah(){}function $t(i,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||xn(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&xn(i,""+l);break;case"className":li(i,"class",l);break;case"tabIndex":li(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":li(i,a,l);break;case"style":ll(i,l,m);break;case"data":if(r!=="object"){li(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ia(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&$t(i,r,"name",f.name,f,null),$t(i,r,"formEncType",f.formEncType,f,null),$t(i,r,"formMethod",f.formMethod,f,null),$t(i,r,"formTarget",f.formTarget,f,null)):($t(i,r,"encType",f.encType,f,null),$t(i,r,"method",f.method,f,null),$t(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ia(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=ah);break;case"onScroll":l!=null&&Nt("scroll",i);break;case"onScrollEnd":l!=null&&Nt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Ia(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Nt("beforetoggle",i),Nt("toggle",i),Ss(i,"popover",l);break;case"xlinkActuate":Fe(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Fe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Fe(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Fe(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Fe(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Fe(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Fe(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Fe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Fe(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ss(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$f.get(a)||a,Ss(i,a,l))}}function Im(i,r,a,l,f,m){switch(a){case"style":ll(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof l=="string"?xn(i,l):(typeof l=="number"||typeof l=="bigint")&&xn(i,""+l);break;case"onScroll":l!=null&&Nt("scroll",i);break;case"onScrollEnd":l!=null&&Nt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=ah);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=i[Ee]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Ss(i,a,l)}}}function Ye(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",i),Nt("load",i);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$t(i,r,m,T,a,null)}}f&&$t(i,r,"srcSet",a.srcSet,a,null),l&&$t(i,r,"src",a.src,a,null);return;case"input":Nt("invalid",i);var S=m=T=f=null,I=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":T=Q;break;case"checked":I=Q;break;case"defaultChecked":j=Q;break;case"value":m=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:$t(i,r,l,Q,a,null)}}xr(i,m,S,I,j,T,f,!1),Ra(i);return;case"select":Nt("invalid",i),l=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":T=S;break;case"multiple":l=S;default:$t(i,r,f,S,a,null)}r=m,a=T,i.multiple=!!l,r!=null?Ui(i,!!l,r,!1):a!=null&&Ui(i,!!l,a,!0);return;case"textarea":Nt("invalid",i),m=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(S=a[T],S!=null))switch(T){case"value":l=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:$t(i,r,T,S,a,null)}Dr(i,l,f,m),Ra(i);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(i,r,I,l,a,null)}return;case"dialog":Nt("beforetoggle",i),Nt("toggle",i),Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":Nt("load",i);break;case"video":case"audio":for(l=0;l<Kl.length;l++)Nt(Kl[l],i);break;case"image":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"embed":case"source":case"link":Nt("error",i),Nt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$t(i,r,j,l,a,null)}return;default:if(ul(r)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Im(i,r,Q,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&$t(i,r,S,l,a,null))}function lI(i,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,S=null,I=null,j=null,Q=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(H)||$t(i,r,H,null,l,Z)}}for(var q in l){var H=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(H!=null||Z!=null))switch(q){case"type":m=H;break;case"name":f=H;break;case"checked":j=H;break;case"defaultChecked":Q=H;break;case"value":T=H;break;case"defaultValue":S=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:H!==Z&&$t(i,r,q,H,l,Z)}}_n(i,T,S,I,j,Q,m,f);return;case"select":H=T=S=q=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(m)||$t(i,r,m,null,l,I)}for(f in l)if(m=l[f],I=a[f],l.hasOwnProperty(f)&&(m!=null||I!=null))switch(f){case"value":q=m;break;case"defaultValue":S=m;break;case"multiple":T=m;default:m!==I&&$t(i,r,f,m,l,I)}r=S,a=T,l=H,q!=null?Ui(i,!!a,q,!1):!!l!=!!a&&(r!=null?Ui(i,!!a,r,!0):Ui(i,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:$t(i,r,S,null,l,f)}for(T in l)if(f=l[T],m=a[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":q=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&$t(i,r,T,f,l,m)}Qt(i,q,H);return;case"option":for(var Et in a)if(q=a[Et],a.hasOwnProperty(Et)&&q!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":i.selected=!1;break;default:$t(i,r,Et,null,l,q)}for(I in l)if(q=l[I],H=a[I],l.hasOwnProperty(I)&&q!==H&&(q!=null||H!=null))switch(I){case"selected":i.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:$t(i,r,I,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)q=a[vt],a.hasOwnProperty(vt)&&q!=null&&!l.hasOwnProperty(vt)&&$t(i,r,vt,null,l,q);for(j in l)if(q=l[j],H=a[j],l.hasOwnProperty(j)&&q!==H&&(q!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:$t(i,r,j,q,l,H)}return;default:if(ul(r)){for(var Wt in a)q=a[Wt],a.hasOwnProperty(Wt)&&q!==void 0&&!l.hasOwnProperty(Wt)&&Im(i,r,Wt,void 0,l,q);for(Q in l)q=l[Q],H=a[Q],!l.hasOwnProperty(Q)||q===H||q===void 0&&H===void 0||Im(i,r,Q,q,l,H);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&$t(i,r,k,null,l,q);for(Z in l)q=l[Z],H=a[Z],!l.hasOwnProperty(Z)||q===H||q==null&&H==null||$t(i,r,Z,q,l,H)}var Cm=null,xm=null;function oh(i){return i.nodeType===9?i:i.ownerDocument}function x0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Dm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Vm=null;function uI(){var i=window.event;return i&&i.type==="popstate"?i===Vm?!1:(Vm=i,!0):(Vm=null,!1)}var V0=typeof setTimeout=="function"?setTimeout:void 0,cI=typeof clearTimeout=="function"?clearTimeout:void 0,M0=typeof Promise=="function"?Promise:void 0,hI=typeof queueMicrotask=="function"?queueMicrotask:typeof M0<"u"?function(i){return M0.resolve(null).then(i).catch(fI)}:V0;function fI(i){setTimeout(function(){throw i})}function zs(i){return i==="head"}function N0(i,r){var a=r,l=0,f=0;do{var m=a.nextSibling;if(i.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var T=i.ownerDocument;if(a&1&&Ql(T.documentElement),a&2&&Ql(T.body),a&4)for(a=T.head,Ql(a),T=a.firstChild;T;){var S=T.nextSibling,I=T.nodeName;T[wr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=S}}if(f===0){i.removeChild(m),nu(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);nu(r)}function Mm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Mm(a),As(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function dI(i,r,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[wr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=Wn(i.nextSibling),i===null)break}return null}function mI(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Wn(i.nextSibling),i===null))return null;return i}function Nm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function pI(i,r){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function Wn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Om=null;function O0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return i;r--}else a==="/$"&&r++}i=i.previousSibling}return null}function P0(i,r,a){switch(r=oh(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Ql(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);As(i)}var Bn=new Map,k0=new Set;function lh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var is=it.d;it.d={f:gI,r:yI,D:vI,C:_I,L:TI,m:EI,X:SI,S:AI,M:bI};function gI(){var i=is.f(),r=Jc();return i||r}function yI(i){var r=ai(i);r!==null&&r.tag===5&&r.type==="form"?n_(r):is.r(i)}var oo=typeof document>"u"?null:document;function L0(i,r,a){var l=oo;if(l&&typeof r=="string"&&r){var f=Ae(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),k0.has(f)||(k0.add(f),i={rel:i,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ye(r,"link",i),pe(r),l.head.appendChild(r)))}}function vI(i){is.D(i),L0("dns-prefetch",i,null)}function _I(i,r){is.C(i,r),L0("preconnect",i,r)}function TI(i,r,a){is.L(i,r,a);var l=oo;if(l&&i&&r){var f='link[rel="preload"][as="'+Ae(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ae(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ae(a.imageSizes)+'"]')):f+='[href="'+Ae(i)+'"]';var m=f;switch(r){case"style":m=lo(i);break;case"script":m=uo(i)}Bn.has(m)||(i=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),Bn.set(m,i),l.querySelector(f)!==null||r==="style"&&l.querySelector(Xl(m))||r==="script"&&l.querySelector($l(m))||(r=l.createElement("link"),Ye(r,"link",i),pe(r),l.head.appendChild(r)))}}function EI(i,r){is.m(i,r);var a=oo;if(a&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Ae(l)+'"][href="'+Ae(i)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=uo(i)}if(!Bn.has(m)&&(i=v({rel:"modulepreload",href:i},r),Bn.set(m,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($l(m)))return}l=a.createElement("link"),Ye(l,"link",i),pe(l),a.head.appendChild(l)}}}function AI(i,r,a){is.S(i,r,a);var l=oo;if(l&&i){var f=on(l).hoistableStyles,m=lo(i);r=r||"default";var T=f.get(m);if(!T){var S={loading:0,preload:null};if(T=l.querySelector(Xl(m)))S.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},a),(a=Bn.get(m))&&Pm(i,a);var I=T=l.createElement("link");pe(I),Ye(I,"link",i),I._p=new Promise(function(j,Q){I.onload=j,I.onerror=Q}),I.addEventListener("load",function(){S.loading|=1}),I.addEventListener("error",function(){S.loading|=2}),S.loading|=4,uh(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(m,T)}}}function SI(i,r){is.X(i,r);var a=oo;if(a&&i){var l=on(a).hoistableScripts,f=uo(i),m=l.get(f);m||(m=a.querySelector($l(f)),m||(i=v({src:i,async:!0},r),(r=Bn.get(f))&&km(i,r),m=a.createElement("script"),pe(m),Ye(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function bI(i,r){is.M(i,r);var a=oo;if(a&&i){var l=on(a).hoistableScripts,f=uo(i),m=l.get(f);m||(m=a.querySelector($l(f)),m||(i=v({src:i,async:!0,type:"module"},r),(r=Bn.get(f))&&km(i,r),m=a.createElement("script"),pe(m),Ye(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function U0(i,r,a,l){var f=(f=bt.current)?lh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=lo(a.href),a=on(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=lo(a.href);var m=on(f).hoistableStyles,T=m.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,T),(m=f.querySelector(Xl(i)))&&!m._p&&(T.instance=m,T.state.loading=5),Bn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(i,a),m||wI(f,i,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=uo(a),a=on(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function lo(i){return'href="'+Ae(i)+'"'}function Xl(i){return'link[rel="stylesheet"]['+i+"]"}function B0(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function wI(i,r,a,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ye(r,"link",a),pe(r),i.head.appendChild(r))}function uo(i){return'[src="'+Ae(i)+'"]'}function $l(i){return"script[async]"+i}function j0(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+Ae(a.href)+'"]');if(l)return r.instance=l,pe(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),pe(l),Ye(l,"style",f),uh(l,a.precedence,i),r.instance=l;case"stylesheet":f=lo(a.href);var m=i.querySelector(Xl(f));if(m)return r.state.loading|=4,r.instance=m,pe(m),m;l=B0(a),(f=Bn.get(f))&&Pm(l,f),m=(i.ownerDocument||i).createElement("link"),pe(m);var T=m;return T._p=new Promise(function(S,I){T.onload=S,T.onerror=I}),Ye(m,"link",l),r.state.loading|=4,uh(m,a.precedence,i),r.instance=m;case"script":return m=uo(a.src),(f=i.querySelector($l(m)))?(r.instance=f,pe(f),f):(l=a,(f=Bn.get(m))&&(l=v({},a),km(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),pe(f),Ye(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,uh(l,a.precedence,i));return r.instance}function uh(i,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var S=l[T];if(S.dataset.precedence===r)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function Pm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function km(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var ch=null;function z0(i,r,a){if(ch===null){var l=new Map,f=ch=new Map;f.set(a,l)}else f=ch,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var m=a[f];if(!(m[wr]||m[xe]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(r)||"";T=i+T;var S=l.get(T);S?S.push(m):l.set(T,[m])}}return l}function q0(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function RI(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function F0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Wl=null;function II(){}function CI(i,r,a){if(Wl===null)throw Error(s(475));var l=Wl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=lo(a.href),m=i.querySelector(Xl(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=hh.bind(l),i.then(l,l)),r.state.loading|=4,r.instance=m,pe(m);return}m=i.ownerDocument||i,a=B0(a),(f=Bn.get(f))&&Pm(a,f),m=m.createElement("link"),pe(m);var T=m;T._p=new Promise(function(S,I){T.onload=S,T.onerror=I}),Ye(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=hh.bind(l),i.addEventListener("load",r),i.addEventListener("error",r))}}function xI(){if(Wl===null)throw Error(s(475));var i=Wl;return i.stylesheets&&i.count===0&&Lm(i,i.stylesheets),0<i.count?function(r){var a=setTimeout(function(){if(i.stylesheets&&Lm(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(a)}}:null}function hh(){if(this.count--,this.count===0){if(this.stylesheets)Lm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var fh=null;function Lm(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,fh=new Map,r.forEach(DI,i),fh=null,hh.call(i))}function DI(i,r){if(!(r.state.loading&4)){var a=fh.get(i);if(a)var l=a.get(null);else{a=new Map,fh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,f),a.set(T,f),this.count++,l=hh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Zl={$$typeof:W,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function VI(i,r,a,l,f,m,T,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function H0(i,r,a,l,f,m,T,S,I,j,Q,Z){return i=new VI(i,r,a,T,S,I,j,Z),r=1,m===!0&&(r|=24),m=En(3,null,null,r),i.current=m,m.stateNode=i,r=vd(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},Ad(m),i}function G0(i){return i?(i=ja,i):ja}function K0(i,r,a,l,f,m){f=G0(f),l.context===null?l.context=f:l.pendingContext=f,l=Cs(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=xs(i,l,r),a!==null&&(Rn(a,i,r),Cl(a,i,r))}function Y0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function Um(i,r){Y0(i,r),(i=i.alternate)&&Y0(i,r)}function Q0(i){if(i.tag===13){var r=Ba(i,67108864);r!==null&&Rn(r,i,67108864),Um(i,67108864)}}var dh=!0;function MI(i,r,a,l){var f=Y.T;Y.T=null;var m=it.p;try{it.p=2,Bm(i,r,a,l)}finally{it.p=m,Y.T=f}}function NI(i,r,a,l){var f=Y.T;Y.T=null;var m=it.p;try{it.p=8,Bm(i,r,a,l)}finally{it.p=m,Y.T=f}}function Bm(i,r,a,l){if(dh){var f=jm(l);if(f===null)Rm(i,r,l,mh,a),$0(i,l);else if(PI(f,i,r,a,l))l.stopPropagation();else if($0(i,l),r&4&&-1<OI.indexOf(i)){for(;f!==null;){var m=ai(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Kn(m.pendingLanes);if(T!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var I=1<<31-Ze(T);S.entanglements[1]|=I,T&=~I}Ti(m),(Kt&6)===0&&(Wc=In()+500,Gl(0))}}break;case 13:S=Ba(m,2),S!==null&&Rn(S,m,2),Jc(),Um(m,2)}if(m=jm(l),m===null&&Rm(i,r,l,mh,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Rm(i,r,l,null,a)}}function jm(i){return i=Dn(i),zm(i)}var mh=null;function zm(i){if(mh=null,i=Pi(i),i!==null){var r=u(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return mh=i,null}function X0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hf()){case $o:return 2;case va:return 8;case Tr:case Gf:return 32;case _a:return 268435456;default:return 32}default:return 32}}var qm=!1,qs=null,Fs=null,Hs=null,Jl=new Map,tu=new Map,Gs=[],OI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $0(i,r){switch(i){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":Jl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(r.pointerId)}}function eu(i,r,a,l,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=ai(r),r!==null&&Q0(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function PI(i,r,a,l,f){switch(r){case"focusin":return qs=eu(qs,i,r,a,l,f),!0;case"dragenter":return Fs=eu(Fs,i,r,a,l,f),!0;case"mouseover":return Hs=eu(Hs,i,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return Jl.set(m,eu(Jl.get(m)||null,i,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,tu.set(m,eu(tu.get(m)||null,i,r,a,l,f)),!0}return!1}function W0(i){var r=Pi(i.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,Ju(i.priority,function(){if(a.tag===13){var l=wn();l=_s(l);var f=Ba(a,l);f!==null&&Rn(f,a,l),Um(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ph(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=jm(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);Bi=l,a.target.dispatchEvent(l),Bi=null}else return r=ai(a),r!==null&&Q0(r),i.blockedOn=a,!1;r.shift()}return!0}function Z0(i,r,a){ph(i)&&a.delete(r)}function kI(){qm=!1,qs!==null&&ph(qs)&&(qs=null),Fs!==null&&ph(Fs)&&(Fs=null),Hs!==null&&ph(Hs)&&(Hs=null),Jl.forEach(Z0),tu.forEach(Z0)}function gh(i,r){i.blockedOn===r&&(i.blockedOn=null,qm||(qm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kI)))}var yh=null;function J0(i){yh!==i&&(yh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){yh===i&&(yh=null);for(var r=0;r<i.length;r+=3){var a=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(zm(l||a)===null)continue;break}var m=ai(a);m!==null&&(i.splice(r,3),r-=3,zd(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function nu(i){function r(I){return gh(I,i)}qs!==null&&gh(qs,i),Fs!==null&&gh(Fs,i),Hs!==null&&gh(Hs,i),Jl.forEach(r),tu.forEach(r);for(var a=0;a<Gs.length;a++){var l=Gs[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Gs.length&&(a=Gs[0],a.blockedOn===null);)W0(a),a.blockedOn===null&&Gs.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],T=f[Ee]||null;if(typeof m=="function")T||J0(a);else if(T){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[Ee]||null)S=T.formAction;else if(zm(f)!==null)continue}else S=T.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),J0(a)}}}function Fm(i){this._internalRoot=i}vh.prototype.render=Fm.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=wn();K0(a,l,i,r,null,null)},vh.prototype.unmount=Fm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;K0(i.current,2,null,i,null,null),Jc(),r[Cn]=null}};function vh(i){this._internalRoot=i}vh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Ts();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Gs.length&&r!==0&&r<Gs[a].priority;a++);Gs.splice(a,0,i),a===0&&W0(i)}};var tT=t.version;if(tT!=="19.1.1")throw Error(s(527,tT,"19.1.1"));it.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var LI={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{he=_h.inject(LI),Gt=_h}catch{}}return su.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,l="",f=g_,m=y_,T=v_,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=H0(i,1,!1,null,null,a,l,f,m,T,S,null),i[Cn]=r.current,wm(i),new Fm(r)},su.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var l=!1,f="",m=g_,T=y_,S=v_,I=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),r=H0(i,1,!0,r,a??null,l,f,m,T,S,I,j),r.context=G0(null),a=r.current,l=wn(),l=_s(l),f=Cs(l),f.callback=null,xs(a,f,l),a=l,r.current.lanes=a,Oi(r,a),Ti(r),i[Cn]=r.current,wm(i),new vh(r)},su.version="19.1.1",su}var cT;function YI(){if(cT)return Km.exports;cT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Km.exports=KI(),Km.exports}var QI=YI();const uS=ht.createContext({});function XI(n){const t=ht.useRef(null);return t.current===null&&(t.current=n()),t.current}const Tg=typeof window<"u",$I=Tg?ht.useLayoutEffect:ht.useEffect,Eg=ht.createContext(null);function Ag(n,t){n.indexOf(t)===-1&&n.push(t)}function Sg(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const ls=(n,t,e)=>e>t?t:e<n?n:e;let bg=()=>{};const us={},cS=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function hS(n){return typeof n=="object"&&n!==null}const fS=n=>/^0[^.\s]+$/u.test(n);function wg(n){let t;return()=>(t===void 0&&(t=n()),t)}const Hn=n=>n,WI=(n,t)=>e=>t(n(e)),Lu=(...n)=>n.reduce(WI),Eu=(n,t,e)=>{const s=t-n;return s===0?1:(e-n)/s};class Rg{constructor(){this.subscriptions=[]}add(t){return Ag(this.subscriptions,t),()=>Sg(this.subscriptions,t)}notify(t,e,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,s);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ai=n=>n*1e3,Si=n=>n/1e3;function dS(n,t){return t?n*(1e3/t):0}const mS=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,ZI=1e-7,JI=12;function tC(n,t,e,s,o){let u,c,d=0;do c=t+(e-t)/2,u=mS(c,s,o)-n,u>0?e=c:t=c;while(Math.abs(u)>ZI&&++d<JI);return c}function Uu(n,t,e,s){if(n===t&&e===s)return Hn;const o=u=>tC(u,0,1,n,e);return u=>u===0||u===1?u:mS(o(u),t,s)}const pS=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,gS=n=>t=>1-n(1-t),yS=Uu(.33,1.53,.69,.99),Ig=gS(yS),vS=pS(Ig),_S=n=>(n*=2)<1?.5*Ig(n):.5*(2-Math.pow(2,-10*(n-1))),Cg=n=>1-Math.sin(Math.acos(n)),TS=gS(Cg),ES=pS(Cg),eC=Uu(.42,0,1,1),nC=Uu(0,0,.58,1),AS=Uu(.42,0,.58,1),iC=n=>Array.isArray(n)&&typeof n[0]!="number",SS=n=>Array.isArray(n)&&typeof n[0]=="number",sC={linear:Hn,easeIn:eC,easeInOut:AS,easeOut:nC,circIn:Cg,circInOut:ES,circOut:TS,backIn:Ig,backInOut:vS,backOut:yS,anticipate:_S},rC=n=>typeof n=="string",hT=n=>{if(SS(n)){bg(n.length===4);const[t,e,s,o]=n;return Uu(t,e,s,o)}else if(rC(n))return sC[n];return n},Th=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function aC(n,t){let e=new Set,s=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),n()),v(d)}const g={schedule:(v,E=!1,A=!1)=>{const V=A&&o?e:s;return E&&c.add(v),V.has(v)||V.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(d=v,o){u=!0;return}o=!0,[e,s]=[s,e],e.forEach(p),e.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const oC=40;function bS(n,t){let e=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Th.reduce((W,dt)=>(W[dt]=aC(u),W),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:v,update:E,preRender:A,render:C,postRender:V}=c,F=()=>{const W=us.useManualTiming?o.timestamp:performance.now();e=!1,us.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(W-o.timestamp,oC),1)),o.timestamp=W,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),v.process(o),E.process(o),A.process(o),C.process(o),V.process(o),o.isProcessing=!1,e&&t&&(s=!1,n(F))},z=()=>{e=!0,s=!0,o.isProcessing||n(F)};return{schedule:Th.reduce((W,dt)=>{const st=c[dt];return W[dt]=(mt,M=!1,w=!1)=>(e||z(),st.schedule(mt,M,w)),W},{}),cancel:W=>{for(let dt=0;dt<Th.length;dt++)c[Th[dt]].cancel(W)},state:o,steps:c}}const{schedule:oe,cancel:ar,state:Qe,steps:$m}=bS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hn,!0);let Vh;function lC(){Vh=void 0}const gn={now:()=>(Vh===void 0&&gn.set(Qe.isProcessing||us.useManualTiming?Qe.timestamp:performance.now()),Vh),set:n=>{Vh=n,queueMicrotask(lC)}},wS=n=>t=>typeof t=="string"&&t.startsWith(n),xg=wS("--"),uC=wS("var(--"),Dg=n=>uC(n)?cC.test(n.split("/*")[0].trim()):!1,cC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Uo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Au={...Uo,transform:n=>ls(0,1,n)},Eh={...Uo,default:1},hu=n=>Math.round(n*1e5)/1e5,Vg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hC(n){return n==null}const fC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mg=(n,t)=>e=>!!(typeof e=="string"&&fC.test(e)&&e.startsWith(n)||t&&!hC(e)&&Object.prototype.hasOwnProperty.call(e,t)),RS=(n,t,e)=>s=>{if(typeof s!="string")return s;const[o,u,c,d]=s.match(Vg);return{[n]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},dC=n=>ls(0,255,n),Wm={...Uo,transform:n=>Math.round(dC(n))},sa={test:Mg("rgb","red"),parse:RS("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:s=1})=>"rgba("+Wm.transform(n)+", "+Wm.transform(t)+", "+Wm.transform(e)+", "+hu(Au.transform(s))+")"};function mC(n){let t="",e="",s="",o="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),s=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),s=n.substring(3,4),o=n.substring(4,5),t+=t,e+=e,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Sp={test:Mg("#"),parse:mC,transform:sa.transform},Bu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Qs=Bu("deg"),bi=Bu("%"),At=Bu("px"),pC=Bu("vh"),gC=Bu("vw"),fT={...bi,parse:n=>bi.parse(n)/100,transform:n=>bi.transform(n*100)},po={test:Mg("hsl","hue"),parse:RS("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(n)+", "+bi.transform(hu(t))+", "+bi.transform(hu(e))+", "+hu(Au.transform(s))+")"},Re={test:n=>sa.test(n)||Sp.test(n)||po.test(n),parse:n=>sa.test(n)?sa.parse(n):po.test(n)?po.parse(n):Sp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?sa.transform(n):po.transform(n),getAnimatableNone:n=>{const t=Re.parse(n);return t.alpha=0,Re.transform(t)}},yC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vC(n){return isNaN(n)&&typeof n=="string"&&(n.match(Vg)?.length||0)+(n.match(yC)?.length||0)>0}const IS="number",CS="color",_C="var",TC="var(",dT="${}",EC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Su(n){const t=n.toString(),e=[],s={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(EC,p=>(Re.test(p)?(s.color.push(u),o.push(CS),e.push(Re.parse(p))):p.startsWith(TC)?(s.var.push(u),o.push(_C),e.push(p)):(s.number.push(u),o.push(IS),e.push(parseFloat(p))),++u,dT)).split(dT);return{values:e,split:d,indexes:s,types:o}}function xS(n){return Su(n).values}function DS(n){const{split:t,types:e}=Su(n),s=t.length;return o=>{let u="";for(let c=0;c<s;c++)if(u+=t[c],o[c]!==void 0){const d=e[c];d===IS?u+=hu(o[c]):d===CS?u+=Re.transform(o[c]):u+=o[c]}return u}}const AC=n=>typeof n=="number"?0:Re.test(n)?Re.getAnimatableNone(n):n;function SC(n){const t=xS(n);return DS(n)(t.map(AC))}const or={test:vC,parse:xS,createTransformer:DS,getAnimatableNone:SC};function Zm(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function bC({hue:n,saturation:t,lightness:e,alpha:s}){n/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const d=e<.5?e*(1+t):e+t-e*t,p=2*e-d;o=Zm(p,d,n+1/3),u=Zm(p,d,n),c=Zm(p,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function Gh(n,t){return e=>e>0?t:n}const ue=(n,t,e)=>n+(t-n)*e,Jm=(n,t,e)=>{const s=n*n,o=e*(t*t-s)+s;return o<0?0:Math.sqrt(o)},wC=[Sp,sa,po],RC=n=>wC.find(t=>t.test(n));function mT(n){const t=RC(n);if(!t)return!1;let e=t.parse(n);return t===po&&(e=bC(e)),e}const pT=(n,t)=>{const e=mT(n),s=mT(t);if(!e||!s)return Gh(n,t);const o={...e};return u=>(o.red=Jm(e.red,s.red,u),o.green=Jm(e.green,s.green,u),o.blue=Jm(e.blue,s.blue,u),o.alpha=ue(e.alpha,s.alpha,u),sa.transform(o))},bp=new Set(["none","hidden"]);function IC(n,t){return bp.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function CC(n,t){return e=>ue(n,t,e)}function Ng(n){return typeof n=="number"?CC:typeof n=="string"?Dg(n)?Gh:Re.test(n)?pT:VC:Array.isArray(n)?VS:typeof n=="object"?Re.test(n)?pT:xC:Gh}function VS(n,t){const e=[...n],s=e.length,o=n.map((u,c)=>Ng(u)(u,t[c]));return u=>{for(let c=0;c<s;c++)e[c]=o[c](u);return e}}function xC(n,t){const e={...n,...t},s={};for(const o in e)n[o]!==void 0&&t[o]!==void 0&&(s[o]=Ng(n[o])(n[o],t[o]));return o=>{for(const u in s)e[u]=s[u](o);return e}}function DC(n,t){const e=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][s[u]],d=n.values[c]??0;e[o]=d,s[u]++}return e}const VC=(n,t)=>{const e=or.createTransformer(t),s=Su(n),o=Su(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?bp.has(n)&&!o.values.length||bp.has(t)&&!s.values.length?IC(n,t):Lu(VS(DC(s,o),o.values),e):Gh(n,t)};function MS(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?ue(n,t,e):Ng(n)(n,t)}const MC=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>oe.update(t,e),stop:()=>ar(t),now:()=>Qe.isProcessing?Qe.timestamp:gn.now()}},NS=(n,t,e=10)=>{let s="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)s+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Kh=2e4;function Og(n){let t=0;const e=50;let s=n.next(t);for(;!s.done&&t<Kh;)t+=e,s=n.next(t);return t>=Kh?1/0:t}function NC(n,t=100,e){const s=e({...n,keyframes:[0,t]}),o=Math.min(Og(s),Kh);return{type:"keyframes",ease:u=>s.next(o*u).value/t,duration:Si(o)}}const OC=5;function OS(n,t,e){const s=Math.max(t-OC,0);return dS(e-n(s),t-s)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tp=.001;function PC({duration:n=me.duration,bounce:t=me.bounce,velocity:e=me.velocity,mass:s=me.mass}){let o,u,c=1-t;c=ls(me.minDamping,me.maxDamping,c),n=ls(me.minDuration,me.maxDuration,Si(n)),c<1?(o=g=>{const v=g*c,E=v*n,A=v-e,C=wp(g,c),V=Math.exp(-E);return tp-A/C*V},u=g=>{const E=g*c*n,A=E*e+e,C=Math.pow(c,2)*Math.pow(g,2)*n,V=Math.exp(-E),F=wp(Math.pow(g,2),c);return(-o(g)+tp>0?-1:1)*((A-C)*V)/F}):(o=g=>{const v=Math.exp(-g*n),E=(g-e)*n+1;return-tp+v*E},u=g=>{const v=Math.exp(-g*n),E=(e-g)*(n*n);return v*E});const d=5/n,p=LC(o,u,d);if(n=Ai(n),isNaN(p))return{stiffness:me.stiffness,damping:me.damping,duration:n};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:n}}}const kC=12;function LC(n,t,e){let s=e;for(let o=1;o<kC;o++)s=s-n(s)/t(s);return s}function wp(n,t){return n*Math.sqrt(1-t*t)}const UC=["duration","bounce"],BC=["stiffness","damping","mass"];function gT(n,t){return t.some(e=>n[e]!==void 0)}function jC(n){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...n};if(!gT(n,BC)&&gT(n,UC))if(n.visualDuration){const e=n.visualDuration,s=2*Math.PI/(e*1.2),o=s*s,u=2*ls(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:me.mass,stiffness:o,damping:u}}else{const e=PC(n);t={...t,...e,mass:me.mass},t.isResolvedFromDuration=!0}return t}function Yh(n=me.visualDuration,t=me.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:s,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],d={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:A,isResolvedFromDuration:C}=jC({...e,velocity:-Si(e.velocity||0)}),V=A||0,F=g/(2*Math.sqrt(p*v)),z=c-u,tt=Si(Math.sqrt(p/v)),nt=Math.abs(z)<5;s||(s=nt?me.restSpeed.granular:me.restSpeed.default),o||(o=nt?me.restDelta.granular:me.restDelta.default);let W;if(F<1){const st=wp(tt,F);W=mt=>{const M=Math.exp(-F*tt*mt);return c-M*((V+F*tt*z)/st*Math.sin(st*mt)+z*Math.cos(st*mt))}}else if(F===1)W=st=>c-Math.exp(-tt*st)*(z+(V+tt*z)*st);else{const st=tt*Math.sqrt(F*F-1);W=mt=>{const M=Math.exp(-F*tt*mt),w=Math.min(st*mt,300);return c-M*((V+F*tt*z)*Math.sinh(w)+st*z*Math.cosh(w))/st}}const dt={calculatedDuration:C&&E||null,next:st=>{const mt=W(st);if(C)d.done=st>=E;else{let M=st===0?V:0;F<1&&(M=st===0?Ai(V):OS(W,st,mt));const w=Math.abs(M)<=s,R=Math.abs(c-mt)<=o;d.done=w&&R}return d.value=d.done?c:mt,d},toString:()=>{const st=Math.min(Og(dt),Kh),mt=NS(M=>dt.next(st*M).value,st,30);return st+"ms "+mt},toTransition:()=>{}};return dt}Yh.applyToOptions=n=>{const t=NC(n,100,Yh);return n.ease=t.ease,n.duration=Ai(t.duration),n.type="keyframes",n};function Rp({keyframes:n,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:p,restDelta:g=.5,restSpeed:v}){const E=n[0],A={done:!1,value:E},C=w=>d!==void 0&&w<d||p!==void 0&&w>p,V=w=>d===void 0?p:p===void 0||Math.abs(d-w)<Math.abs(p-w)?d:p;let F=e*t;const z=E+F,tt=c===void 0?z:c(z);tt!==z&&(F=tt-E);const nt=w=>-F*Math.exp(-w/s),W=w=>tt+nt(w),dt=w=>{const R=nt(w),O=W(w);A.done=Math.abs(R)<=g,A.value=A.done?tt:O};let st,mt;const M=w=>{C(A.value)&&(st=w,mt=Yh({keyframes:[A.value,V(A.value)],velocity:OS(W,w,A.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return M(0),{calculatedDuration:null,next:w=>{let R=!1;return!mt&&st===void 0&&(R=!0,dt(w),M(w)),st!==void 0&&w>=st?mt.next(w-st):(!R&&dt(w),A)}}}function zC(n,t,e){const s=[],o=e||us.mix||MS,u=n.length-1;for(let c=0;c<u;c++){let d=o(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||Hn:t;d=Lu(p,d)}s.push(d)}return s}function qC(n,t,{clamp:e=!0,ease:s,mixer:o}={}){const u=n.length;if(bg(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=zC(t,s,o),p=d.length,g=v=>{if(c&&v<n[0])return t[0];let E=0;if(p>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const A=Eu(n[E],n[E+1],v);return d[E](A)};return e?v=>g(ls(n[0],n[u-1],v)):g}function FC(n,t){const e=n[n.length-1];for(let s=1;s<=t;s++){const o=Eu(0,t,s);n.push(ue(e,1,o))}}function HC(n){const t=[0];return FC(t,n.length-1),t}function GC(n,t){return n.map(e=>e*t)}function KC(n,t){return n.map(()=>t||AS).splice(0,n.length-1)}function fu({duration:n=300,keyframes:t,times:e,ease:s="easeInOut"}){const o=iC(s)?s.map(hT):hT(s),u={done:!1,value:t[0]},c=GC(e&&e.length===t.length?e:HC(t),n),d=qC(c,t,{ease:Array.isArray(o)?o:KC(t,o)});return{calculatedDuration:n,next:p=>(u.value=d(p),u.done=p>=n,u)}}const YC=n=>n!==null;function Pg(n,{repeat:t,repeatType:e="loop"},s,o=1){const u=n.filter(YC),d=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!d||s===void 0?u[d]:s}const QC={decay:Rp,inertia:Rp,tween:fu,keyframes:fu,spring:Yh};function PS(n){typeof n.type=="string"&&(n.type=QC[n.type])}class kg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const XC=n=>n/100;class Lg extends kg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==gn.now()&&this.tick(gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;PS(t);const{type:e=fu,repeat:s=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const p=e||fu;p!==fu&&typeof d[0]!="number"&&(this.mixKeyframes=Lu(XC,MS(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Og(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:s,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:A,repeatDelay:C,type:V,onUpdate:F,finalKeyframe:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const tt=this.currentTime-g*(this.playbackSpeed>=0?1:-1),nt=this.playbackSpeed>=0?tt<0:tt>o;this.currentTime=Math.max(tt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let W=this.currentTime,dt=s;if(E){const w=Math.min(this.currentTime,o)/d;let R=Math.floor(w),O=w%1;!O&&w>=1&&(O=1),O===1&&R--,R=Math.min(R,E+1),!!(R%2)&&(A==="reverse"?(O=1-O,C&&(O-=C/d)):A==="mirror"&&(dt=c)),W=ls(0,1,O)*d}const st=nt?{done:!1,value:v[0]}:dt.next(W);u&&(st.value=u(st.value));let{done:mt}=st;!nt&&p!==null&&(mt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&mt);return M&&V!==Rp&&(st.value=Pg(v,this.options,z,this.speed)),F&&F(st.value),M&&this.finish(),st}then(t,e){return this.finished.then(t,e)}get duration(){return Si(this.calculatedDuration)}get time(){return Si(this.currentTime)}set time(t){t=Ai(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(gn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Si(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=MC,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=e??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function $C(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const ra=n=>n*180/Math.PI,Ip=n=>{const t=ra(Math.atan2(n[1],n[0]));return Cp(t)},WC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Ip,rotateZ:Ip,skewX:n=>ra(Math.atan(n[1])),skewY:n=>ra(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Cp=n=>(n=n%360,n<0&&(n+=360),n),yT=Ip,vT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),_T=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),ZC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:vT,scaleY:_T,scale:n=>(vT(n)+_T(n))/2,rotateX:n=>Cp(ra(Math.atan2(n[6],n[5]))),rotateY:n=>Cp(ra(Math.atan2(-n[2],n[0]))),rotateZ:yT,rotate:yT,skewX:n=>ra(Math.atan(n[4])),skewY:n=>ra(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function xp(n){return n.includes("scale")?1:0}function Dp(n,t){if(!n||n==="none")return xp(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(e)s=ZC,o=e;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=WC,o=d}if(!o)return xp(t);const u=s[t],c=o[1].split(",").map(t2);return typeof u=="function"?u(c):c[u]}const JC=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return Dp(e,t)};function t2(n){return parseFloat(n.trim())}const Bo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jo=new Set(Bo),TT=n=>n===Uo||n===At,e2=new Set(["x","y","z"]),n2=Bo.filter(n=>!e2.has(n));function i2(n){const t=[];return n2.forEach(e=>{const s=n.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const oa={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Dp(t,"x"),y:(n,{transform:t})=>Dp(t,"y")};oa.translateX=oa.x;oa.translateY=oa.y;const la=new Set;let Vp=!1,Mp=!1,Np=!1;function kS(){if(Mp){const n=Array.from(la).filter(s=>s.needsMeasurement),t=new Set(n.map(s=>s.element)),e=new Map;t.forEach(s=>{const o=i2(s);o.length&&(e.set(s,o),s.render())}),n.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=e.get(s);o&&o.forEach(([u,c])=>{s.getValue(u)?.set(c)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Mp=!1,Vp=!1,la.forEach(n=>n.complete(Np)),la.clear()}function LS(){la.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Mp=!0)})}function s2(){Np=!0,LS(),kS(),Np=!1}class Ug{constructor(t,e,s,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(la.add(this),Vp||(Vp=!0,oe.read(LS),oe.resolveKeyframes(kS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&e){const d=s.readValue(e,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}$C(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),la.delete(this)}cancel(){this.state==="scheduled"&&(la.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const r2=n=>n.startsWith("--");function a2(n,t,e){r2(t)?n.style.setProperty(t,e):n.style[t]=e}const o2=wg(()=>window.ScrollTimeline!==void 0),l2={};function u2(n,t){const e=wg(n);return()=>l2[t]??e()}const US=u2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),au=([n,t,e,s])=>`cubic-bezier(${n}, ${t}, ${e}, ${s})`,ET={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:au([0,.65,.55,1]),circOut:au([.55,0,1,.45]),backIn:au([.31,.01,.66,-.59]),backOut:au([.33,1.53,.69,.99])};function BS(n,t){if(n)return typeof n=="function"?US()?NS(n,t):"ease-out":SS(n)?au(n):Array.isArray(n)?n.map(e=>BS(e,t)||ET.easeOut):ET[n]}function c2(n,t,e,{delay:s=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:p}={},g=void 0){const v={[t]:e};p&&(v.offset=p);const E=BS(d,o);Array.isArray(E)&&(v.easing=E);const A={delay:s,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(A.pseudoElement=g),n.animate(v,A)}function jS(n){return typeof n=="function"&&"applyToOptions"in n}function h2({type:n,...t}){return jS(n)&&US()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class f2 extends kg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:s,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,bg(typeof t.type!="string");const g=h2(t);this.animation=c2(e,s,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Pg(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):a2(e,s,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Si(Number(t))}get time(){return Si(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ai(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&o2()?(this.animation.timeline=t,Hn):e(this)}}const zS={anticipate:_S,backInOut:vS,circInOut:ES};function d2(n){return n in zS}function m2(n){typeof n.ease=="string"&&d2(n.ease)&&(n.ease=zS[n.ease])}const AT=10;class p2 extends f2{constructor(t){m2(t),PS(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:s,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const d=new Lg({...c,autoplay:!1}),p=Ai(this.finishedTime??this.time);e.setWithVelocity(d.sample(p-AT).value,d.sample(p).value,AT),d.stop()}}const ST=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(or.test(n)||n==="0")&&!n.startsWith("url("));function g2(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function y2(n,t,e,s){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=ST(o,t),d=ST(u,t);return!c||!d?!1:g2(n)||(e==="spring"||jS(e))&&s}function Op(n){n.duration=0,n.type}const v2=new Set(["opacity","clipPath","filter","transform"]),_2=wg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function T2(n){const{motionValue:t,name:e,repeatDelay:s,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return _2()&&e&&v2.has(e)&&(e!=="transform"||!g)&&!p&&!s&&o!=="mirror"&&u!==0&&c!=="inertia"}const E2=40;class A2 extends kg{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:p,motionValue:g,element:v,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=gn.now();const A={autoplay:t,delay:e,type:s,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:v,...E},C=v?.KeyframeResolver||Ug;this.keyframeResolver=new C(d,(V,F,z)=>this.onKeyframesResolved(V,F,A,!z),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,s,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:p,isHandoff:g,onUpdate:v}=s;this.resolvedAt=gn.now(),y2(t,u,c,d)||((us.instantAnimations||!p)&&v?.(Pg(t,s,e)),t[0]=t[t.length-1],Op(s),s.repeat=0);const A={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>E2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...s,keyframes:t},C=!g&&T2(A)?new p2({...A,element:A.motionValue.owner.current}):new Lg(A);C.finished.then(()=>this.notifyFinished()).catch(Hn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),s2()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const S2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function b2(n){const t=S2.exec(n);if(!t)return[,];const[,e,s,o]=t;return[`--${e??s}`,o]}function qS(n,t,e=1){const[s,o]=b2(n);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const c=u.trim();return cS(c)?parseFloat(c):c}return Dg(o)?qS(o,t,e+1):o}function Bg(n,t){return n?.[t]??n?.default??n}const FS=new Set(["width","height","top","left","right","bottom",...Bo]),w2={test:n=>n==="auto",parse:n=>n},HS=n=>t=>t.test(n),GS=[Uo,At,bi,Qs,gC,pC,w2],bT=n=>GS.find(HS(n));function R2(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||fS(n):!0}const I2=new Set(["brightness","contrast","saturate","opacity"]);function C2(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[s]=e.match(Vg)||[];if(!s)return n;const o=e.replace(s,"");let u=I2.has(t)?1:0;return s!==e&&(u*=100),t+"("+u+o+")"}const x2=/\b([a-z-]*)\(.*?\)/gu,Pp={...or,getAnimatableNone:n=>{const t=n.match(x2);return t?t.map(C2).join(" "):n}},wT={...Uo,transform:Math.round},D2={rotate:Qs,rotateX:Qs,rotateY:Qs,rotateZ:Qs,scale:Eh,scaleX:Eh,scaleY:Eh,scaleZ:Eh,skew:Qs,skewX:Qs,skewY:Qs,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:Au,originX:fT,originY:fT,originZ:At},jg={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At,...D2,zIndex:wT,fillOpacity:Au,strokeOpacity:Au,numOctaves:wT},V2={...jg,color:Re,backgroundColor:Re,outlineColor:Re,fill:Re,stroke:Re,borderColor:Re,borderTopColor:Re,borderRightColor:Re,borderBottomColor:Re,borderLeftColor:Re,filter:Pp,WebkitFilter:Pp},KS=n=>V2[n];function YS(n,t){let e=KS(n);return e!==Pp&&(e=or),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const M2=new Set(["auto","none","0"]);function N2(n,t,e){let s=0,o;for(;s<n.length&&!o;){const u=n[s];typeof u=="string"&&!M2.has(u)&&Su(u).values.length&&(o=n[s]),s++}if(o&&e)for(const u of t)n[u]=YS(e,o)}class O2 extends Ug{constructor(t,e,s,o,u){super(t,e,s,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),Dg(g))){const v=qS(g,e.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!FS.has(s)||t.length!==2)return;const[o,u]=t,c=bT(o),d=bT(u);if(c!==d)if(TT(c)&&TT(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else oa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||R2(t[o]))&&s.push(o);s.length&&N2(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oa[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=oa[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function P2(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const o=e?.[n]??s.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const QS=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function k2(n){return hS(n)&&"offsetHeight"in n}const RT=30,L2=n=>!isNaN(parseFloat(n));class U2{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=gn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=gn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=L2(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Rg);const s=this.events[t].add(e);return t==="change"?()=>{s(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>RT)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,RT);return dS(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xo(n,t){return new U2(n,t)}const{schedule:zg}=bS(queueMicrotask,!1),Zn={x:!1,y:!1};function XS(){return Zn.x||Zn.y}function B2(n){return n==="x"||n==="y"?Zn[n]?null:(Zn[n]=!0,()=>{Zn[n]=!1}):Zn.x||Zn.y?null:(Zn.x=Zn.y=!0,()=>{Zn.x=Zn.y=!1})}function $S(n,t){const e=P2(n),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[e,o,()=>s.abort()]}function IT(n){return!(n.pointerType==="touch"||XS())}function j2(n,t,e={}){const[s,o,u]=$S(n,e),c=d=>{if(!IT(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const v=E=>{IT(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return s.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}const WS=(n,t)=>t?n===t?!0:WS(n,t.parentElement):!1,qg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,z2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function q2(n){return z2.has(n.tagName)||n.tabIndex!==-1}const Mh=new WeakSet;function CT(n){return t=>{t.key==="Enter"&&n(t)}}function ep(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const F2=(n,t)=>{const e=n.currentTarget;if(!e)return;const s=CT(()=>{if(Mh.has(e))return;ep(e,"down");const o=CT(()=>{ep(e,"up")}),u=()=>ep(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function xT(n){return qg(n)&&!XS()}function H2(n,t,e={}){const[s,o,u]=$S(n,e),c=d=>{const p=d.currentTarget;if(!xT(d))return;Mh.add(p);const g=t(p,d),v=(C,V)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",A),Mh.has(p)&&Mh.delete(p),xT(C)&&typeof g=="function"&&g(C,{success:V})},E=C=>{v(C,p===window||p===document||e.useGlobalTarget||WS(p,C.target))},A=C=>{v(C,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",A,o)};return s.forEach(d=>{(e.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),k2(d)&&(d.addEventListener("focus",g=>F2(g,o)),!q2(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function ZS(n){return hS(n)&&"ownerSVGElement"in n}function G2(n){return ZS(n)&&n.tagName==="svg"}const rn=n=>!!(n&&n.getVelocity),K2=[...GS,Re,or],Y2=n=>K2.find(HS(n)),JS=ht.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Q2(n=!0){const t=ht.useContext(Eg);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:o}=t,u=ht.useId();ht.useEffect(()=>{if(n)return o(u)},[n]);const c=ht.useCallback(()=>n&&s&&s(u),[u,s,n]);return!e&&s?[!1,c]:[!0]}const t1=ht.createContext({strict:!1}),DT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Do={};for(const n in DT)Do[n]={isEnabled:t=>DT[n].some(e=>!!t[e])};function X2(n){for(const t in n)Do[t]={...Do[t],...n[t]}}const $2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||$2.has(n)}let e1=n=>!Qh(n);function W2(n){typeof n=="function"&&(e1=t=>t.startsWith("on")?!Qh(t):n(t))}try{W2(require("@emotion/is-prop-valid").default)}catch{}function Z2(n,t,e){const s={};for(const o in n)o==="values"&&typeof n.values=="object"||(e1(o)||e===!0&&Qh(o)||!t&&!Qh(o)||n.draggable&&o.startsWith("onDrag"))&&(s[o]=n[o]);return s}const vf=ht.createContext({});function _f(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function bu(n){return typeof n=="string"||Array.isArray(n)}const Fg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hg=["initial",...Fg];function Tf(n){return _f(n.animate)||Hg.some(t=>bu(n[t]))}function n1(n){return!!(Tf(n)||n.variants)}function J2(n,t){if(Tf(n)){const{initial:e,animate:s}=n;return{initial:e===!1||bu(e)?e:void 0,animate:bu(s)?s:void 0}}return n.inherit!==!1?t:{}}function tx(n){const{initial:t,animate:e}=J2(n,ht.useContext(vf));return ht.useMemo(()=>({initial:t,animate:e}),[VT(t),VT(e)])}function VT(n){return Array.isArray(n)?n.join(" "):n}const wu={};function ex(n){for(const t in n)wu[t]=n[t],xg(t)&&(wu[t].isCSSVariable=!0)}function i1(n,{layout:t,layoutId:e}){return jo.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!wu[n]||n==="opacity")}const nx={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ix=Bo.length;function sx(n,t,e){let s="",o=!0;for(let u=0;u<ix;u++){const c=Bo[u],d=n[c];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(c.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||e){const g=QS(d,jg[c]);if(!p){o=!1;const v=nx[c]||c;s+=`${v}(${g}) `}e&&(t[c]=g)}}return s=s.trim(),e?s=e(t,o?"":s):o&&(s="none"),s}function Gg(n,t,e){const{style:s,vars:o,transformOrigin:u}=n;let c=!1,d=!1;for(const p in t){const g=t[p];if(jo.has(p)){c=!0;continue}else if(xg(p)){o[p]=g;continue}else{const v=QS(g,jg[p]);p.startsWith("origin")?(d=!0,u[p]=v):s[p]=v}}if(t.transform||(c||e?s.transform=sx(t,n.transform,e):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;s.transformOrigin=`${p} ${g} ${v}`}}const Kg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function s1(n,t,e){for(const s in t)!rn(t[s])&&!i1(s,e)&&(n[s]=t[s])}function rx({transformTemplate:n},t){return ht.useMemo(()=>{const e=Kg();return Gg(e,t,n),Object.assign({},e.vars,e.style)},[t])}function ax(n,t){const e=n.style||{},s={};return s1(s,e,n),Object.assign(s,rx(n,t)),s}function ox(n,t){const e={},s=ax(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=s,e}const lx={offset:"stroke-dashoffset",array:"stroke-dasharray"},ux={offset:"strokeDashoffset",array:"strokeDasharray"};function cx(n,t,e=1,s=0,o=!0){n.pathLength=1;const u=o?lx:ux;n[u.offset]=At.transform(-s);const c=At.transform(t),d=At.transform(e);n[u.array]=`${c} ${d}`}function r1(n,{attrX:t,attrY:e,attrScale:s,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},p,g,v){if(Gg(n,d,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:A}=n;E.transform&&(A.transform=E.transform,delete E.transform),(A.transform||E.transformOrigin)&&(A.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),A.transform&&(A.transformBox=v?.transformBox??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),e!==void 0&&(E.y=e),s!==void 0&&(E.scale=s),o!==void 0&&cx(E,o,u,c,!1)}const a1=()=>({...Kg(),attrs:{}}),o1=n=>typeof n=="string"&&n.toLowerCase()==="svg";function hx(n,t,e,s){const o=ht.useMemo(()=>{const u=a1();return r1(u,t,o1(s),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};s1(u,n.style,n),o.style={...u,...o.style}}return o}const fx=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yg(n){return typeof n!="string"||n.includes("-")?!1:!!(fx.indexOf(n)>-1||/[A-Z]/u.test(n))}function dx(n,t,e,{latestValues:s},o,u=!1){const d=(Yg(n)?hx:ox)(t,s,o,n),p=Z2(t,typeof n=="string",u),g=n!==ht.Fragment?{...p,...d,ref:e}:{},{children:v}=t,E=ht.useMemo(()=>rn(v)?v.get():v,[v]);return ht.createElement(n,{...g,children:E})}function MT(n){const t=[{},{}];return n?.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function Qg(n,t,e,s){if(typeof t=="function"){const[o,u]=MT(s);t=t(e!==void 0?e:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=MT(s);t=t(e!==void 0?e:n.custom,o,u)}return t}function Nh(n){return rn(n)?n.get():n}function mx({scrapeMotionValuesFromProps:n,createRenderState:t},e,s,o){return{latestValues:px(e,s,o,n),renderState:t()}}function px(n,t,e,s){const o={},u=s(n,{});for(const A in u)o[A]=Nh(u[A]);let{initial:c,animate:d}=n;const p=Tf(n),g=n1(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=e?e.initial===!1:!1;v=v||c===!1;const E=v?d:c;if(E&&typeof E!="boolean"&&!_f(E)){const A=Array.isArray(E)?E:[E];for(let C=0;C<A.length;C++){const V=Qg(n,A[C]);if(V){const{transitionEnd:F,transition:z,...tt}=V;for(const nt in tt){let W=tt[nt];if(Array.isArray(W)){const dt=v?W.length-1:0;W=W[dt]}W!==null&&(o[nt]=W)}for(const nt in F)o[nt]=F[nt]}}}return o}const l1=n=>(t,e)=>{const s=ht.useContext(vf),o=ht.useContext(Eg),u=()=>mx(n,t,s,o);return e?u():XI(u)};function Xg(n,t,e){const{style:s}=n,o={};for(const u in s)(rn(s[u])||t.style&&rn(t.style[u])||i1(u,n)||e?.getValue(u)?.liveStyle!==void 0)&&(o[u]=s[u]);return o}const gx=l1({scrapeMotionValuesFromProps:Xg,createRenderState:Kg});function u1(n,t,e){const s=Xg(n,t,e);for(const o in n)if(rn(n[o])||rn(t[o])){const u=Bo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[u]=n[o]}return s}const yx=l1({scrapeMotionValuesFromProps:u1,createRenderState:a1}),vx=Symbol.for("motionComponentSymbol");function go(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function _x(n,t,e){return ht.useCallback(s=>{s&&n.onMount&&n.onMount(s),t&&(s?t.mount(s):t.unmount()),e&&(typeof e=="function"?e(s):go(e)&&(e.current=s))},[t])}const $g=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Tx="framerAppearId",c1="data-"+$g(Tx),h1=ht.createContext({});function Ex(n,t,e,s,o){const{visualElement:u}=ht.useContext(vf),c=ht.useContext(t1),d=ht.useContext(Eg),p=ht.useContext(JS).reducedMotion,g=ht.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(n,{visualState:t,parent:u,props:e,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=ht.useContext(h1);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&Ax(g.current,e,o,E);const A=ht.useRef(!1);ht.useInsertionEffect(()=>{v&&A.current&&v.update(e,d)});const C=e[c1],V=ht.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return $I(()=>{v&&(A.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),V.current&&v.animationState&&v.animationState.animateChanges())}),ht.useEffect(()=>{v&&(!V.current&&v.animationState&&v.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),V.current=!1),v.enteringChildren=void 0)}),v}function Ax(n,t,e,s){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:f1(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&go(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:p,layoutRoot:g})}function f1(n){if(n)return n.options.allowProjection!==!1?n.projection:f1(n.parent)}function np(n,{forwardMotionProps:t=!1}={},e,s){e&&X2(e);const o=Yg(n)?yx:gx;function u(d,p){let g;const v={...ht.useContext(JS),...d,layoutId:Sx(d)},{isStatic:E}=v,A=tx(d),C=o(d,E);if(!E&&Tg){bx();const V=wx(v);g=V.MeasureLayout,A.visualElement=Ex(n,C,v,s,V.ProjectionNode)}return G.jsxs(vf.Provider,{value:A,children:[g&&A.visualElement?G.jsx(g,{visualElement:A.visualElement,...v}):null,dx(n,d,_x(C,A.visualElement,p),C,E,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=ht.forwardRef(u);return c[vx]=n,c}function Sx({layoutId:n}){const t=ht.useContext(uS).id;return t&&n!==void 0?t+"-"+n:n}function bx(n,t){ht.useContext(t1).strict}function wx(n){const{drag:t,layout:e}=Do;if(!t&&!e)return{};const s={...t,...e};return{MeasureLayout:t?.isEnabled(n)||e?.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Rx(n,t){if(typeof Proxy>"u")return np;const e=new Map,s=(u,c)=>np(u,c,n,t),o=(u,c)=>s(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?s:(e.has(c)||e.set(c,np(c,void 0,n,t)),e.get(c))})}function d1({top:n,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:n,max:s}}}function Ix({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function Cx(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),s=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}function ip(n){return n===void 0||n===1}function kp({scale:n,scaleX:t,scaleY:e}){return!ip(n)||!ip(t)||!ip(e)}function na(n){return kp(n)||m1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function m1(n){return NT(n.x)||NT(n.y)}function NT(n){return n&&n!=="0%"}function Xh(n,t,e){const s=n-e,o=t*s;return e+o}function OT(n,t,e,s,o){return o!==void 0&&(n=Xh(n,o,s)),Xh(n,e,s)+t}function Lp(n,t=0,e=1,s,o){n.min=OT(n.min,t,e,s,o),n.max=OT(n.max,t,e,s,o)}function p1(n,{x:t,y:e}){Lp(n.x,t.translate,t.scale,t.originPoint),Lp(n.y,e.translate,e.scale,e.originPoint)}const PT=.999999999999,kT=1.0000000000001;function xx(n,t,e,s=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=e[d],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&vo(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,p1(n,c)),s&&na(u.latestValues)&&vo(n,u.latestValues))}t.x<kT&&t.x>PT&&(t.x=1),t.y<kT&&t.y>PT&&(t.y=1)}function yo(n,t){n.min=n.min+t,n.max=n.max+t}function LT(n,t,e,s,o=.5){const u=ue(n.min,n.max,o);Lp(n,t,e,u,s)}function vo(n,t){LT(n.x,t.x,t.scaleX,t.scale,t.originX),LT(n.y,t.y,t.scaleY,t.scale,t.originY)}function g1(n,t){return d1(Cx(n.getBoundingClientRect(),t))}function Dx(n,t,e){const s=g1(n,e),{scroll:o}=t;return o&&(yo(s.x,o.offset.x),yo(s.y,o.offset.y)),s}const UT=()=>({translate:0,scale:1,origin:0,originPoint:0}),_o=()=>({x:UT(),y:UT()}),BT=()=>({min:0,max:0}),ve=()=>({x:BT(),y:BT()}),Up={current:null},y1={current:!1};function Vx(){if(y1.current=!0,!!Tg)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Up.current=n.matches;n.addEventListener("change",t),t()}else Up.current=!1}const Mx=new WeakMap;function Nx(n,t,e){for(const s in t){const o=t[s],u=e[s];if(rn(o))n.addValue(s,o);else if(rn(u))n.addValue(s,xo(o,{owner:n}));else if(u!==o)if(n.hasValue(s)){const c=n.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(s);n.addValue(s,xo(c!==void 0?c:o,{owner:n}))}}for(const s in e)t[s]===void 0&&n.removeValue(s);return t}const jT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ox{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ug,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=gn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,oe.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=Tf(e),this.isVariantNode=n1(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(e,{},this);for(const A in E){const C=E[A];p[A]!==void 0&&rn(C)&&C.set(p[A])}}mount(t){this.current=t,Mx.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,s)=>this.bindToMotionValue(s,e)),y1.current||Vx(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Up.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ar(this.notifyUpdate),ar(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=jo.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&oe.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Do){const e=Do[t];if(!e)continue;const{isEnabled:s,Feature:o}=e;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<jT.length;s++){const o=jT[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=Nx(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=xo(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(cS(s)||fS(s))?s=parseFloat(s):!Y2(s)&&or.test(e)&&(s=YS(t,e)),this.setBaseTarget(t,rn(s)?s.get():s)),rn(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let s;if(typeof e=="string"||typeof e=="object"){const u=Qg(this.props,e,this.presenceContext?.custom);u&&(s=u[t])}if(e&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!rn(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Rg),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){zg.render(this.render)}}class v1 extends Ox{constructor(){super(...arguments),this.KeyframeResolver=O2}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function _1(n,{style:t,vars:e},s,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,s);for(c in e)u.setProperty(c,e[c])}function Px(n){return window.getComputedStyle(n)}class kx extends v1{constructor(){super(...arguments),this.type="html",this.renderInstance=_1}readValueFromInstance(t,e){if(jo.has(e))return this.projection?.isProjecting?xp(e):JC(t,e);{const s=Px(t),o=(xg(e)?s.getPropertyValue(e):s[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return g1(t,e)}build(t,e,s){Gg(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return Xg(t,e,s)}}const T1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Lx(n,t,e,s){_1(n,t,void 0,s);for(const o in t.attrs)n.setAttribute(T1.has(o)?o:$g(o),t.attrs[o])}class Ux extends v1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ve}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(jo.has(e)){const s=KS(e);return s&&s.default||0}return e=T1.has(e)?e:$g(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return u1(t,e,s)}build(t,e,s){r1(t,e,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,e,s,o){Lx(t,e,s,o)}mount(t){this.isSVGTag=o1(t.tagName),super.mount(t)}}const Bx=(n,t)=>Yg(n)?new Ux(t):new kx(t,{allowProjection:n!==ht.Fragment});function Eo(n,t,e){const s=n.getProps();return Qg(s,t,e!==void 0?e:s.custom,n)}const Bp=n=>Array.isArray(n);function jx(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,xo(e))}function zx(n){return Bp(n)?n[n.length-1]||0:n}function qx(n,t){const e=Eo(n,t);let{transitionEnd:s={},transition:o={},...u}=e||{};u={...u,...s};for(const c in u){const d=zx(u[c]);jx(n,c,d)}}function Fx(n){return!!(rn(n)&&n.add)}function jp(n,t){const e=n.getValue("willChange");if(Fx(e))return e.add(t);if(!e&&us.WillChange){const s=new us.WillChange("auto");n.addValue("willChange",s),s.add(t)}}function E1(n){return n.props[c1]}const Hx=n=>n!==null;function Gx(n,{repeat:t,repeatType:e="loop"},s){const o=n.filter(Hx),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}const Kx={type:"spring",stiffness:500,damping:25,restSpeed:10},Yx=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Qx={type:"keyframes",duration:.8},Xx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$x=(n,{keyframes:t})=>t.length>2?Qx:jo.has(n)?n.startsWith("scale")?Yx(t[1]):Kx:Xx;function Wx({when:n,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const Wg=(n,t,e,s={},o,u)=>c=>{const d=Bg(s,n)||{},p=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Ai(p);const v={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:A=>{t.set(A),d.onUpdate&&d.onUpdate(A)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:o};Wx(d)||Object.assign(v,$x(n,v)),v.duration&&(v.duration=Ai(v.duration)),v.repeatDelay&&(v.repeatDelay=Ai(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Op(v),v.delay===0&&(E=!0)),(us.instantAnimations||us.skipAnimations)&&(E=!0,Op(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,E&&!u&&t.get()!==void 0){const A=Gx(v.keyframes,d);if(A!==void 0){oe.update(()=>{v.onUpdate(A),v.onComplete()});return}}return d.isSync?new Lg(v):new A2(v)};function Zx({protectedKeys:n,needsAnimating:t},e){const s=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function A1(n,t,{delay:e=0,transitionOverride:s,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(u=s);const p=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in d){const E=n.getValue(v,n.latestValues[v]??null),A=d[v];if(A===void 0||g&&Zx(g,v))continue;const C={delay:e,...Bg(u||{},v)},V=E.get();if(V!==void 0&&!E.isAnimating&&!Array.isArray(A)&&A===V&&!C.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const tt=E1(n);if(tt){const nt=window.MotionHandoffAnimation(tt,v,oe);nt!==null&&(C.startTime=nt,F=!0)}}jp(n,v),E.start(Wg(v,E,A,n.shouldReduceMotion&&FS.has(v)?{type:!1}:C,n,F));const z=E.animation;z&&p.push(z)}return c&&Promise.all(p).then(()=>{oe.update(()=>{c&&qx(n,c)})}),p}function S1(n,t,e,s=0,o=1){const u=Array.from(n).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=n.size,d=(c-1)*s;return typeof e=="function"?e(u,c):o===1?u*s:d-u*s}function zp(n,t,e={}){const s=Eo(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(o=e.transitionOverride);const u=s?()=>Promise.all(A1(n,s,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:E}=o;return Jx(n,t,p,g,v,E,e)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,g]=d==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(e.delay)])}function Jx(n,t,e=0,s=0,o=0,u=1,c){const d=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),d.push(zp(p,t,{...c,delay:e+(typeof s=="function"?0:s)+S1(n.variantChildren,p,s,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(d)}function tD(n,t,e={}){n.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(u=>zp(n,u,e));s=Promise.all(o)}else if(typeof t=="string")s=zp(n,t,e);else{const o=typeof t=="function"?Eo(n,t,e.custom):t;s=Promise.all(A1(n,o,e))}return s.then(()=>{n.notify("AnimationComplete",t)})}function b1(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let s=0;s<e;s++)if(t[s]!==n[s])return!1;return!0}const eD=Hg.length;function w1(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?w1(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<eD;e++){const s=Hg[e],o=n.props[s];(bu(o)||o===!1)&&(t[s]=o)}return t}const nD=[...Fg].reverse(),iD=Fg.length;function sD(n){return t=>Promise.all(t.map(({animation:e,options:s})=>tD(n,e,s)))}function rD(n){let t=sD(n),e=zT(),s=!0;const o=p=>(g,v)=>{const E=Eo(n,v,p==="exit"?n.presenceContext?.custom:void 0);if(E){const{transition:A,transitionEnd:C,...V}=E;g={...g,...V,...C}}return g};function u(p){t=p(n)}function c(p){const{props:g}=n,v=w1(n.parent)||{},E=[],A=new Set;let C={},V=1/0;for(let z=0;z<iD;z++){const tt=nD[z],nt=e[tt],W=g[tt]!==void 0?g[tt]:v[tt],dt=bu(W),st=tt===p?nt.isActive:null;st===!1&&(V=z);let mt=W===v[tt]&&W!==g[tt]&&dt;if(mt&&s&&n.manuallyAnimateOnMount&&(mt=!1),nt.protectedKeys={...C},!nt.isActive&&st===null||!W&&!nt.prevProp||_f(W)||typeof W=="boolean")continue;const M=aD(nt.prevProp,W);let w=M||tt===p&&nt.isActive&&!mt&&dt||z>V&&dt,R=!1;const O=Array.isArray(W)?W:[W];let P=O.reduce(o(tt),{});st===!1&&(P={});const{prevResolvedValues:L={}}=nt,x={...L,...P},Te=it=>{w=!0,A.has(it)&&(R=!0,A.delete(it)),nt.needsAnimating[it]=!0;const ut=n.getValue(it);ut&&(ut.liveStyle=!1)};for(const it in x){const ut=P[it],Ct=L[it];if(C.hasOwnProperty(it))continue;let D=!1;Bp(ut)&&Bp(Ct)?D=!b1(ut,Ct):D=ut!==Ct,D?ut!=null?Te(it):A.add(it):ut!==void 0&&A.has(it)?Te(it):nt.protectedKeys[it]=!0}nt.prevProp=W,nt.prevResolvedValues=P,nt.isActive&&(C={...C,...P}),s&&n.blockInitialAnimation&&(w=!1);const ne=mt&&M;w&&(!ne||R)&&E.push(...O.map(it=>{const ut={type:tt};if(typeof it=="string"&&s&&!ne&&n.manuallyAnimateOnMount&&n.parent){const{parent:Ct}=n,D=Eo(Ct,it);if(Ct.enteringChildren&&D){const{delayChildren:et}=D.transition||{};ut.delay=S1(Ct.enteringChildren,n,et)}}return{animation:it,options:ut}}))}if(A.size){const z={};if(typeof g.initial!="boolean"){const tt=Eo(n,Array.isArray(g.initial)?g.initial[0]:g.initial);tt&&tt.transition&&(z.transition=tt.transition)}A.forEach(tt=>{const nt=n.getBaseTarget(tt),W=n.getValue(tt);W&&(W.liveStyle=!0),z[tt]=nt??null}),E.push({animation:z})}let F=!!E.length;return s&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(F=!1),s=!1,F?t(E):Promise.resolve()}function d(p,g){if(e[p].isActive===g)return Promise.resolve();n.variantChildren?.forEach(E=>E.animationState?.setActive(p,g)),e[p].isActive=g;const v=c(p);for(const E in e)e[E].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>e,reset:()=>{e=zT(),s=!0}}}function aD(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!b1(t,n):!1}function ta(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zT(){return{animate:ta(!0),whileInView:ta(),whileHover:ta(),whileTap:ta(),whileDrag:ta(),whileFocus:ta(),exit:ta()}}class gr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class oD extends gr{constructor(t){super(t),t.animationState||(t.animationState=rD(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();_f(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let lD=0;class uD extends gr{constructor(){super(...arguments),this.id=lD++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const cD={animation:{Feature:oD},exit:{Feature:uD}};function Ru(n,t,e,s={passive:!0}){return n.addEventListener(t,e,s),()=>n.removeEventListener(t,e)}function ju(n){return{point:{x:n.pageX,y:n.pageY}}}const hD=n=>t=>qg(t)&&n(t,ju(t));function du(n,t,e,s){return Ru(n,t,hD(e),s)}const R1=1e-4,fD=1-R1,dD=1+R1,I1=.01,mD=0-I1,pD=0+I1;function hn(n){return n.max-n.min}function gD(n,t,e){return Math.abs(n-t)<=e}function qT(n,t,e,s=.5){n.origin=s,n.originPoint=ue(t.min,t.max,n.origin),n.scale=hn(e)/hn(t),n.translate=ue(e.min,e.max,n.origin)-n.originPoint,(n.scale>=fD&&n.scale<=dD||isNaN(n.scale))&&(n.scale=1),(n.translate>=mD&&n.translate<=pD||isNaN(n.translate))&&(n.translate=0)}function mu(n,t,e,s){qT(n.x,t.x,e.x,s?s.originX:void 0),qT(n.y,t.y,e.y,s?s.originY:void 0)}function FT(n,t,e){n.min=e.min+t.min,n.max=n.min+hn(t)}function yD(n,t,e){FT(n.x,t.x,e.x),FT(n.y,t.y,e.y)}function HT(n,t,e){n.min=t.min-e.min,n.max=n.min+hn(t)}function pu(n,t,e){HT(n.x,t.x,e.x),HT(n.y,t.y,e.y)}function zn(n){return[n("x"),n("y")]}const C1=({current:n})=>n?n.ownerDocument.defaultView:null,GT=(n,t)=>Math.abs(n-t);function vD(n,t){const e=GT(n.x,t.x),s=GT(n.y,t.y);return Math.sqrt(e**2+s**2)}class x1{constructor(t,e,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=rp(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,V=vD(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!V)return;const{point:F}=A,{timestamp:z}=Qe;this.history.push({...F,timestamp:z});const{onStart:tt,onMove:nt}=this.handlers;C||(tt&&tt(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),nt&&nt(this.lastMoveEvent,A)},this.handlePointerMove=(A,C)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=sp(C,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(A,C)=>{this.end();const{onEnd:V,onSessionEnd:F,resumeAnimation:z}=this.handlers;if(this.dragSnapToOrigin&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const tt=rp(A.type==="pointercancel"?this.lastMoveEventInfo:sp(C,this.transformPagePoint),this.history);this.startEvent&&V&&V(A,tt),F&&F(A,tt)},!qg(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const d=ju(t),p=sp(d,this.transformPagePoint),{point:g}=p,{timestamp:v}=Qe;this.history=[{...g,timestamp:v}];const{onSessionStart:E}=e;E&&E(t,rp(p,this.history)),this.removeListeners=Lu(du(this.contextWindow,"pointermove",this.handlePointerMove),du(this.contextWindow,"pointerup",this.handlePointerUp),du(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ar(this.updatePoint)}}function sp(n,t){return t?{point:t(n.point)}:n}function KT(n,t){return{x:n.x-t.x,y:n.y-t.y}}function rp({point:n},t){return{point:n,delta:KT(n,D1(t)),offset:KT(n,_D(t)),velocity:TD(t,.1)}}function _D(n){return n[0]}function D1(n){return n[n.length-1]}function TD(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,s=null;const o=D1(n);for(;e>=0&&(s=n[e],!(o.timestamp-s.timestamp>Ai(t)));)e--;if(!s)return{x:0,y:0};const u=Si(o.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-s.x)/u,y:(o.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function ED(n,{min:t,max:e},s){return t!==void 0&&n<t?n=s?ue(t,n,s.min):Math.max(n,t):e!==void 0&&n>e&&(n=s?ue(e,n,s.max):Math.min(n,e)),n}function YT(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function AD(n,{top:t,left:e,bottom:s,right:o}){return{x:YT(n.x,e,o),y:YT(n.y,t,s)}}function QT(n,t){let e=t.min-n.min,s=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,s]=[s,e]),{min:e,max:s}}function SD(n,t){return{x:QT(n.x,t.x),y:QT(n.y,t.y)}}function bD(n,t){let e=.5;const s=hn(n),o=hn(t);return o>s?e=Eu(t.min,t.max-s,n.min):s>o&&(e=Eu(n.min,n.max-o,t.min)),ls(0,1,e)}function wD(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const qp=.35;function RD(n=qp){return n===!1?n=0:n===!0&&(n=qp),{x:XT(n,"left","right"),y:XT(n,"top","bottom")}}function XT(n,t,e){return{min:$T(n,t),max:$T(n,e)}}function $T(n,t){return typeof n=="number"?n:n[t]||0}const ID=new WeakMap;class CD{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(ju(E).point)},c=(E,A)=>{const{drag:C,dragPropagation:V,onDragStart:F}=this.getProps();if(C&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=B2(C),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(tt=>{let nt=this.getAxisMotionValue(tt).get()||0;if(bi.test(nt)){const{projection:W}=this.visualElement;if(W&&W.layout){const dt=W.layout.layoutBox[tt];dt&&(nt=hn(dt)*(parseFloat(nt)/100))}}this.originPoint[tt]=nt}),F&&oe.postRender(()=>F(E,A)),jp(this.visualElement,"transform");const{animationState:z}=this.visualElement;z&&z.setActive("whileDrag",!0)},d=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A;const{dragPropagation:C,dragDirectionLock:V,onDirectionLock:F,onDrag:z}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:tt}=A;if(V&&this.currentDirection===null){this.currentDirection=xD(tt),this.currentDirection!==null&&F&&F(this.currentDirection);return}this.updateAxis("x",A.point,tt),this.updateAxis("y",A.point,tt),this.visualElement.render(),z&&z(E,A)},p=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A,this.stop(E,A),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>zn(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new x1(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:C1(this.visualElement)})}stop(t,e){const s=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&oe.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,s){const{drag:o}=this.getProps();if(!s||!Ah(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=ED(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&go(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=AD(s.layoutBox,t):this.constraints=!1,this.elastic=RD(e),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&zn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=wD(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!go(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=Dx(s,o.root,this.visualElement.getTransformPagePoint());let c=SD(o.layout.layoutBox,u);if(e){const d=e(Ix(c));this.hasMutatedConstraints=!!d,d&&(c=d1(d))}return c}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=zn(v=>{if(!Ah(v,e,this.currentDirection))return;let E=p&&p[v]||{};c&&(E={min:0,max:0});const A=o?200:1e6,C=o?40:1e7,V={type:"inertia",velocity:s?t[v]:0,bounceStiffness:A,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,V)});return Promise.all(g).then(d)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return jp(this.visualElement,t),s.start(Wg(t,s,0,e,this.visualElement,!1))}stopAnimation(){zn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[e];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){zn(e=>{const{drag:s}=this.getProps();if(!Ah(e,s,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[e];u.set(t[e]-ue(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!go(e)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};zn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();o[c]=bD({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),zn(c=>{if(!Ah(c,t,null))return;const d=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];d.set(ue(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;ID.set(this.visualElement,this);const t=this.visualElement.current,e=du(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();go(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),oe.read(s);const c=Ru(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(zn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=qp,dragMomentum:d=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function Ah(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function xD(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class DD extends gr{constructor(t){super(t),this.removeGroupControls=Hn,this.removeListeners=Hn,this.controls=new CD(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const WT=n=>(t,e)=>{n&&oe.postRender(()=>n(t,e))};class VD extends gr{constructor(){super(...arguments),this.removePointerDownListener=Hn}onPointerDown(t){this.session=new x1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:C1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:WT(t),onStart:WT(e),onMove:s,onEnd:(u,c)=>{delete this.session,o&&oe.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=du(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Oh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZT(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const ru={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(At.test(n))n=parseFloat(n);else return n;const e=ZT(n,t.target.x),s=ZT(n,t.target.y);return`${e}% ${s}%`}},MD={correct:(n,{treeScale:t,projectionDelta:e})=>{const s=n,o=or.parse(n);if(o.length>5)return s;const u=or.createTransformer(n),c=typeof o[0]!="number"?1:0,d=e.x.scale*t.x,p=e.y.scale*t.y;o[0+c]/=d,o[1+c]/=p;const g=ue(d,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}};let ap=!1;class ND extends ht.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:o}=this.props,{projection:u}=t;ex(OD),u&&(e.group&&e.group.add(u),s&&s.register&&o&&s.register(u),ap&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Oh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:o,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,ap=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||oe.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),zg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:o}=t;ap=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function V1(n){const[t,e]=Q2(),s=ht.useContext(uS);return G.jsx(ND,{...n,layoutGroup:s,switchLayoutGroup:ht.useContext(h1),isPresent:t,safeToRemove:e})}const OD={borderRadius:{...ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ru,borderTopRightRadius:ru,borderBottomLeftRadius:ru,borderBottomRightRadius:ru,boxShadow:MD};function PD(n,t,e){const s=rn(n)?n:xo(n);return s.start(Wg("",s,t,e)),s.animation}const kD=(n,t)=>n.depth-t.depth;class LD{constructor(){this.children=[],this.isDirty=!1}add(t){Ag(this.children,t),this.isDirty=!0}remove(t){Sg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(kD),this.isDirty=!1,this.children.forEach(t)}}function UD(n,t){const e=gn.now(),s=({timestamp:o})=>{const u=o-e;u>=t&&(ar(s),n(u-t))};return oe.setup(s,!0),()=>ar(s)}const M1=["TopLeft","TopRight","BottomLeft","BottomRight"],BD=M1.length,JT=n=>typeof n=="string"?parseFloat(n):n,tE=n=>typeof n=="number"||At.test(n);function jD(n,t,e,s,o,u){o?(n.opacity=ue(0,e.opacity??1,zD(s)),n.opacityExit=ue(t.opacity??1,0,qD(s))):u&&(n.opacity=ue(t.opacity??1,e.opacity??1,s));for(let c=0;c<BD;c++){const d=`border${M1[c]}Radius`;let p=eE(t,d),g=eE(e,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||tE(p)===tE(g)?(n[d]=Math.max(ue(JT(p),JT(g),s),0),(bi.test(g)||bi.test(p))&&(n[d]+="%")):n[d]=g}(t.rotate||e.rotate)&&(n.rotate=ue(t.rotate||0,e.rotate||0,s))}function eE(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const zD=N1(0,.5,TS),qD=N1(.5,.95,Hn);function N1(n,t,e){return s=>s<n?0:s>t?1:e(Eu(n,t,s))}function nE(n,t){n.min=t.min,n.max=t.max}function jn(n,t){nE(n.x,t.x),nE(n.y,t.y)}function iE(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function sE(n,t,e,s,o){return n-=t,n=Xh(n,1/e,s),o!==void 0&&(n=Xh(n,1/o,s)),n}function FD(n,t=0,e=1,s=.5,o,u=n,c=n){if(bi.test(t)&&(t=parseFloat(t),t=ue(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=ue(u.min,u.max,s);n===u&&(d-=t),n.min=sE(n.min,t,e,d,o),n.max=sE(n.max,t,e,d,o)}function rE(n,t,[e,s,o],u,c){FD(n,t[e],t[s],t[o],t.scale,u,c)}const HD=["x","scaleX","originX"],GD=["y","scaleY","originY"];function aE(n,t,e,s){rE(n.x,t,HD,e?e.x:void 0,s?s.x:void 0),rE(n.y,t,GD,e?e.y:void 0,s?s.y:void 0)}function oE(n){return n.translate===0&&n.scale===1}function O1(n){return oE(n.x)&&oE(n.y)}function lE(n,t){return n.min===t.min&&n.max===t.max}function KD(n,t){return lE(n.x,t.x)&&lE(n.y,t.y)}function uE(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function P1(n,t){return uE(n.x,t.x)&&uE(n.y,t.y)}function cE(n){return hn(n.x)/hn(n.y)}function hE(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class YD{constructor(){this.members=[]}add(t){Ag(this.members,t),t.scheduleRender()}remove(t){if(Sg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let s;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QD(n,t,e){let s="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(s=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:A,skewX:C,skewY:V}=e;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),E&&(s+=`rotateX(${E}deg) `),A&&(s+=`rotateY(${A}deg) `),C&&(s+=`skewX(${C}deg) `),V&&(s+=`skewY(${V}deg) `)}const d=n.x.scale*t.x,p=n.y.scale*t.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const op=["","X","Y","Z"],XD=1e3;let $D=0;function lp(n,t,e,s){const{latestValues:o}=t;o[n]&&(e[n]=o[n],t.setStaticValue(n,0),s&&(s[n]=0))}function k1(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=E1(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",oe,!(o||u))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&k1(s)}function L1({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=$D++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(JD),this.nodes.forEach(iV),this.nodes.forEach(sV),this.nodes.forEach(tV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new LD)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Rg),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=ZS(c)&&!G2(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),n){let v,E=0;const A=()=>this.root.updateBlockedByResize=!1;oe.read(()=>{E=window.innerWidth}),n(c,()=>{const C=window.innerWidth;C!==E&&(E=C,this.root.updateBlockedByResize=!0,v&&v(),v=UD(A,250),Oh.hasAnimatedSinceResize&&(Oh.hasAnimatedSinceResize=!1,this.nodes.forEach(mE)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:A,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||g.getDefaultTransition()||uV,{onLayoutAnimationStart:F,onLayoutAnimationComplete:z}=g.getProps(),tt=!this.targetLayout||!P1(this.targetLayout,C),nt=!E&&A;if(this.options.layoutRoot||this.resumeFrom||nt||E&&(tt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const W={...Bg(V,"layout"),onPlay:F,onComplete:z};(g.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W),this.setAnimationOrigin(v,nt)}else E||mE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ar(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&k1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(dE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nV),this.nodes.forEach(WD),this.nodes.forEach(ZD)):this.nodes.forEach(dE),this.clearAllSnapshots();const d=gn.now();Qe.delta=ls(0,1e3/60,d-Qe.timestamp),Qe.timestamp=d,Qe.isProcessing=!0,$m.update.process(Qe),$m.preRender.process(Qe),$m.render.process(Qe),Qe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eV),this.sharedNodes.forEach(aV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!O1(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||na(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),cV(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ve();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(hV))){const{scroll:g}=this.root;g&&(yo(d.x,g.offset.x),yo(d.y,g.offset.y))}return d}removeElementScroll(c){const d=ve();if(jn(d,c),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:E}=g;g!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&jn(d,c),yo(d.x,v.offset.x),yo(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const p=ve();jn(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&vo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),na(v.latestValues)&&vo(p,v.latestValues)}return na(this.latestValues)&&vo(p,this.latestValues),p}removeTransform(c){const d=ve();jn(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!na(g.latestValues))continue;kp(g.latestValues)&&g.updateSnapshot();const v=ve(),E=g.measurePageBox();jn(v,E),aE(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return na(this.latestValues)&&aE(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=Qe.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),pu(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jn(this.target,this.layout.layoutBox),p1(this.target,this.targetDelta)):jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),pu(this.relativeTargetOrigin,this.target,A.target),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||kp(this.parent.latestValues)||m1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Qe.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;jn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,A=this.treeScale.y;xx(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ve());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(iE(this.prevProjectionDelta.x,this.projectionDelta.x),iE(this.prevProjectionDelta.y,this.projectionDelta.y)),mu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==A||!hE(this.projectionDelta.x,this.prevProjectionDelta.x)||!hE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_o(),this.projectionDelta=_o(),this.projectionDeltaWithTransform=_o()}setAnimationOrigin(c,d=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=_o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const A=ve(),C=p?p.source:void 0,V=this.layout?this.layout.source:void 0,F=C!==V,z=this.getStack(),tt=!z||z.members.length<=1,nt=!!(F&&!tt&&this.options.crossfade===!0&&!this.path.some(lV));this.animationProgress=0;let W;this.mixTargetDelta=dt=>{const st=dt/1e3;pE(E.x,c.x,st),pE(E.y,c.y,st),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pu(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oV(this.relativeTarget,this.relativeTargetOrigin,A,st),W&&KD(this.relativeTarget,W)&&(this.isProjectionDirty=!1),W||(W=ve()),jn(W,this.relativeTarget)),F&&(this.animationValues=v,jD(v,g,this.latestValues,st,nt,tt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=st},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ar(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{Oh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xo(0)),this.currentAnimation=PD(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(XD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:v}=c;if(!(!d||!p||!g)){if(this!==c&&this.layout&&g&&U1(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ve();const E=hn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+E;const A=hn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+A}jn(d,p),vo(d,v),mu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new YD),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&lp("z",c,g,this.animationValues);for(let v=0;v<op.length;v++)lp(`rotate${op[v]}`,c,g,this.animationValues),lp(`skew${op[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Nh(d?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Nh(d?.pointerEvents)||""),this.hasProjected&&!na(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=QD(this.projectionDeltaWithTransform,this.treeScale,v);p&&(E=p(v,E)),c.transform=E;const{x:A,y:C}=this.projectionDelta;c.transformOrigin=`${A.origin*100}% ${C.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const V in wu){if(v[V]===void 0)continue;const{correct:F,applyTo:z,isCSSVariable:tt}=wu[V],nt=E==="none"?v[V]:F(v[V],g);if(z){const W=z.length;for(let dt=0;dt<W;dt++)c[z[dt]]=nt}else tt?this.options.visualElement.renderState.vars[V]=nt:c[V]=nt}this.options.layoutId&&(c.pointerEvents=g===this?Nh(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(fE),this.root.sharedNodes.clear()}}}function WD(n){n.updateLayout()}function ZD(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:s}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?zn(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],A=hn(E);E.min=e[v].min,E.max=E.min+A}):U1(o,t.layoutBox,e)&&zn(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],A=hn(e[v]);E.max=E.min+A,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+A)});const c=_o();mu(c,e,t.layoutBox);const d=_o();u?mu(d,n.applyTransform(s,!0),t.measuredBox):mu(d,e,t.layoutBox);const p=!O1(c);let g=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:E,layout:A}=v;if(E&&A){const C=ve();pu(C,t.layoutBox,E.layoutBox);const V=ve();pu(V,e,A.layoutBox),P1(C,V)||(g=!0),v.options.layoutRoot&&(n.relativeTarget=V,n.relativeTargetOrigin=C,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function JD(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function tV(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function eV(n){n.clearSnapshot()}function fE(n){n.clearMeasurements()}function dE(n){n.isLayoutDirty=!1}function nV(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function mE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function iV(n){n.resolveTargetDelta()}function sV(n){n.calcProjection()}function rV(n){n.resetSkewAndRotation()}function aV(n){n.removeLeadSnapshot()}function pE(n,t,e){n.translate=ue(t.translate,0,e),n.scale=ue(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function gE(n,t,e,s){n.min=ue(t.min,e.min,s),n.max=ue(t.max,e.max,s)}function oV(n,t,e,s){gE(n.x,t.x,e.x,s),gE(n.y,t.y,e.y,s)}function lV(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const uV={duration:.45,ease:[.4,0,.1,1]},yE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),vE=yE("applewebkit/")&&!yE("chrome/")?Math.round:Hn;function _E(n){n.min=vE(n.min),n.max=vE(n.max)}function cV(n){_E(n.x),_E(n.y)}function U1(n,t,e){return n==="position"||n==="preserve-aspect"&&!gD(cE(t),cE(e),.2)}function hV(n){return n!==n.root&&n.scroll?.wasRoot}const fV=L1({attachResizeListener:(n,t)=>Ru(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),up={current:void 0},B1=L1({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!up.current){const n=new fV({});n.mount(window),n.setOptions({layoutScroll:!0}),up.current=n}return up.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),dV={pan:{Feature:VD},drag:{Feature:DD,ProjectionNode:B1,MeasureLayout:V1}};function TE(n,t,e){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=s[o];u&&oe.postRender(()=>u(t,ju(t)))}class mV extends gr{mount(){const{current:t}=this.node;t&&(this.unmount=j2(t,(e,s)=>(TE(this.node,s,"Start"),o=>TE(this.node,o,"End"))))}unmount(){}}class pV extends gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lu(Ru(this.node.current,"focus",()=>this.onFocus()),Ru(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function EE(n,t,e){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=s[o];u&&oe.postRender(()=>u(t,ju(t)))}class gV extends gr{mount(){const{current:t}=this.node;t&&(this.unmount=H2(t,(e,s)=>(EE(this.node,s,"Start"),(o,{success:u})=>EE(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fp=new WeakMap,cp=new WeakMap,yV=n=>{const t=Fp.get(n.target);t&&t(n)},vV=n=>{n.forEach(yV)};function _V({root:n,...t}){const e=n||document;cp.has(e)||cp.set(e,{});const s=cp.get(e),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(vV,{root:n,...t})),s[o]}function TV(n,t,e){const s=_V(t);return Fp.set(n,e),s.observe(n),()=>{Fp.delete(n),s.unobserve(n)}}const EV={some:0,all:1};class AV extends gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:EV[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),A=g?v:E;A&&A(p)};return TV(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(SV(t,e))&&this.startObserver()}unmount(){}}function SV({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const bV={inView:{Feature:AV},tap:{Feature:gV},focus:{Feature:pV},hover:{Feature:mV}},wV={layout:{ProjectionNode:B1,MeasureLayout:V1}},RV={...cD,...bV,...dV,...wV},AE=Rx(RV,Bx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CV=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,s)=>s?s.toUpperCase():e.toLowerCase()),SE=n=>{const t=CV(n);return t.charAt(0).toUpperCase()+t.slice(1)},j1=(...n)=>n.filter((t,e,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===e).join(" ").trim(),xV=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=ht.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:c,...d},p)=>ht.createElement("svg",{ref:p,...DV,width:t,height:t,stroke:n,strokeWidth:s?Number(e)*24/Number(t):e,className:j1("lucide",o),...!u&&!xV(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,v])=>ht.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=(n,t)=>{const e=ht.forwardRef(({className:s,...o},u)=>ht.createElement(VV,{ref:u,iconNode:t,className:j1(`lucide-${IV(SE(n))}`,`lucide-${n}`,s),...o}));return e.displayName=SE(n),e};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],bE=Gn("calendar-days",MV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],z1=Gn("check",NV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],PV=Gn("chevron-down",OV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],LV=Gn("chevron-left",kV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BV=Gn("chevron-right",UV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],zV=Gn("copy",jV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],FV=Gn("heart",qV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],GV=Gn("image",HV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],YV=Gn("mail",KV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],wE=Gn("map-pin",QV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],$V=Gn("phone",XV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ZV=Gn("x",WV),JV=()=>{};var RE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},tM=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const o=n[e++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],c=n[e++],d=n[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=n[e++],c=n[e++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},Zg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,E=(u&3)<<4|d>>4;let A=(d&15)<<2|g>>6,C=g&63;p||(C=64,c||(A=64)),s.push(e[v],e[E],e[A],e[C])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(q1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):tM(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],d=o<n.length?e[n.charAt(o)]:0;++o;const g=o<n.length?e[n.charAt(o)]:64;++o;const E=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||E==null)throw new eM;const A=u<<2|d>>4;if(s.push(A),g!==64){const C=d<<4&240|g>>2;if(s.push(C),E!==64){const V=g<<6&192|E;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class eM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nM=function(n){const t=q1(n);return Zg.encodeByteArray(t,!0)},$h=function(n){return nM(n).replace(/\./g,"")},F1=function(n){try{return Zg.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=()=>iM().__FIREBASE_DEFAULTS__,rM=()=>{if(typeof process>"u"||typeof RE>"u")return;const n=RE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&F1(n[1]);return t&&JSON.parse(t)},Ef=()=>{try{return JV()||sM()||rM()||aM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},H1=n=>Ef()?.emulatorHosts?.[n],oM=n=>{const t=H1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},G1=()=>Ef()?.config,K1=n=>Ef()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Y1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[$h(JSON.stringify(e)),$h(JSON.stringify(c)),""].join(".")}const gu={};function uM(){const n={prod:[],emulator:[]};for(const t of Object.keys(gu))gu[t]?n.emulator.push(t):n.prod.push(t);return n}function cM(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let IE=!1;function Q1(n,t){if(typeof window>"u"||typeof document>"u"||!zo(window.location.host)||gu[n]===t||gu[n]||IE)return;gu[n]=t;function e(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=uM().prod.length>0;function c(){const A=document.getElementById(s);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,C){A.setAttribute("width","24"),A.setAttribute("id",C),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{IE=!0,c()},A}function v(A,C){A.setAttribute("id",C),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=cM(s),C=e("text"),V=document.getElementById(C)||document.createElement("span"),F=e("learnmore"),z=document.getElementById(F)||document.createElement("a"),tt=e("preprendIcon"),nt=document.getElementById(tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const W=A.element;d(W),v(z,F);const dt=g();p(nt,tt),W.append(nt,V,z,dt),document.body.appendChild(W)}u?(V.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function fM(){const n=Ef()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gM(){const n=an();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yM(){return!fM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X1(){try{return typeof indexedDB=="object"}catch{return!1}}function vM(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="FirebaseError";class gs extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=_M,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qo.prototype.create)}}class qo{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?TM(u,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new gs(o,d,s)}}function TM(n,t){return n.replace(EM,(e,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const EM=/\{\$([^}]+)}/g;function AM(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function ua(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const o of e){if(!s.includes(o))return!1;const u=n[o],c=t[o];if(CE(u)&&CE(c)){if(!ua(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!e.includes(o))return!1;return!0}function CE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function SM(n,t){const e=new bM(n,t);return e.subscribe.bind(e)}class bM{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let o;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");wM(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:s},o.next===void 0&&(o.next=hp),o.error===void 0&&(o.error=hp),o.complete===void 0&&(o.complete=hp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wM(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function hp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(n){return n&&n._delegate?n._delegate:n}class cs{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new Hp;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(CM(t))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ia){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ia){return this.instances.has(t)}getOptions(t=ia){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(o)}return o}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const o of s)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:IM(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ia){return this.component?this.component.multipleInstances?t:ia:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IM(n){return n===ia?void 0:n}function CM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new RM(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ot||(Ot={}));const DM={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},VM=Ot.INFO,MM={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},NM=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),o=MM[t];if(o)console[o](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Af{constructor(t){this.name=t,this._logLevel=VM,this._logHandler=NM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?DM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const OM=(n,t)=>t.some(e=>n instanceof e);let xE,DE;function PM(){return xE||(xE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kM(){return DE||(DE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $1=new WeakMap,Gp=new WeakMap,W1=new WeakMap,fp=new WeakMap,Jg=new WeakMap;function LM(n){const t=new Promise((e,s)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{e(tr(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&$1.set(e,n)}).catch(()=>{}),Jg.set(t,n),t}function UM(n){if(Gp.has(n))return;const t=new Promise((e,s)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Gp.set(n,t)}let Kp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Gp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||W1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return tr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function BM(n){Kp=n(Kp)}function jM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(dp(this),t,...e);return W1.set(s,t.sort?t.sort():[t]),tr(s)}:kM().includes(n)?function(...t){return n.apply(dp(this),t),tr($1.get(this))}:function(...t){return tr(n.apply(dp(this),t))}}function zM(n){return typeof n=="function"?jM(n):(n instanceof IDBTransaction&&UM(n),OM(n,PM())?new Proxy(n,Kp):n)}function tr(n){if(n instanceof IDBRequest)return LM(n);if(fp.has(n))return fp.get(n);const t=zM(n);return t!==n&&(fp.set(n,t),Jg.set(t,n)),t}const dp=n=>Jg.get(n);function qM(n,t,{blocked:e,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),d=tr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(tr(c.result),p.oldVersion,p.newVersion,tr(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const FM=["get","getKey","getAll","getAllKeys","count"],HM=["put","add","delete","clear"],mp=new Map;function VE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(mp.get(t))return mp.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,o=HM.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(o||FM.includes(e)))return;const u=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&p.done]))[0]};return mp.set(t,u),u}BM(n=>({...n,get:(t,e,s)=>VE(t,e)||n.get(t,e,s),has:(t,e)=>!!VE(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(KM(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function KM(n){return n.getComponent()?.type==="VERSION"}const Yp="@firebase/app",ME="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Af("@firebase/app"),YM="@firebase/app-compat",QM="@firebase/analytics-compat",XM="@firebase/analytics",$M="@firebase/app-check-compat",WM="@firebase/app-check",ZM="@firebase/auth",JM="@firebase/auth-compat",tN="@firebase/database",eN="@firebase/data-connect",nN="@firebase/database-compat",iN="@firebase/functions",sN="@firebase/functions-compat",rN="@firebase/installations",aN="@firebase/installations-compat",oN="@firebase/messaging",lN="@firebase/messaging-compat",uN="@firebase/performance",cN="@firebase/performance-compat",hN="@firebase/remote-config",fN="@firebase/remote-config-compat",dN="@firebase/storage",mN="@firebase/storage-compat",pN="@firebase/firestore",gN="@firebase/ai",yN="@firebase/firestore-compat",vN="firebase",_N="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="[DEFAULT]",TN={[Yp]:"fire-core",[YM]:"fire-core-compat",[XM]:"fire-analytics",[QM]:"fire-analytics-compat",[WM]:"fire-app-check",[$M]:"fire-app-check-compat",[ZM]:"fire-auth",[JM]:"fire-auth-compat",[tN]:"fire-rtdb",[eN]:"fire-data-connect",[nN]:"fire-rtdb-compat",[iN]:"fire-fn",[sN]:"fire-fn-compat",[rN]:"fire-iid",[aN]:"fire-iid-compat",[oN]:"fire-fcm",[lN]:"fire-fcm-compat",[uN]:"fire-perf",[cN]:"fire-perf-compat",[hN]:"fire-rc",[fN]:"fire-rc-compat",[dN]:"fire-gcs",[mN]:"fire-gcs-compat",[pN]:"fire-fst",[yN]:"fire-fst-compat",[gN]:"fire-vertex","fire-js":"fire-js",[vN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new Map,EN=new Map,Xp=new Map;function NE(n,t){try{n.container.addComponent(t)}catch(e){hs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function lr(n){const t=n.name;if(Xp.has(t))return hs.debug(`There were multiple attempts to register component ${t}.`),!1;Xp.set(t,n);for(const e of Wh.values())NE(e,n);for(const e of EN.values())NE(e,n);return!0}function ty(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Jn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new qo("app","Firebase",AN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=_N;function Z1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s={name:Qp,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw er.create("bad-app-name",{appName:String(o)});if(e||(e=G1()),!e)throw er.create("no-options");const u=Wh.get(o);if(u){if(ua(e,u.options)&&ua(s,u.config))return u;throw er.create("duplicate-app",{appName:o})}const c=new xM(o);for(const p of Xp.values())c.addComponent(p);const d=new SN(e,s,c);return Wh.set(o,d),d}function J1(n=Qp){const t=Wh.get(n);if(!t&&n===Qp&&G1())return Z1();if(!t)throw er.create("no-app",{appName:n});return t}function as(n,t,e){let s=TN[n]??n;e&&(s+=`-${e}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hs.warn(c.join(" "));return}lr(new cs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="firebase-heartbeat-database",wN=1,Iu="firebase-heartbeat-store";let pp=null;function tb(){return pp||(pp=qM(bN,wN,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Iu)}catch(e){console.warn(e)}}}}).catch(n=>{throw er.create("idb-open",{originalErrorMessage:n.message})})),pp}async function RN(n){try{const e=(await tb()).transaction(Iu),s=await e.objectStore(Iu).get(eb(n));return await e.done,s}catch(t){if(t instanceof gs)hs.warn(t.message);else{const e=er.create("idb-get",{originalErrorMessage:t?.message});hs.warn(e.message)}}}async function OE(n,t){try{const s=(await tb()).transaction(Iu,"readwrite");await s.objectStore(Iu).put(t,eb(n)),await s.done}catch(e){if(e instanceof gs)hs.warn(e.message);else{const s=er.create("idb-set",{originalErrorMessage:e?.message});hs.warn(s.message)}}}function eb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=1024,CN=30;class xN{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new VN(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>CN){const o=MN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){hs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=PE(),{heartbeatsToSend:e,unsentEntries:s}=DN(this._heartbeatsCache.heartbeats),o=$h(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return hs.warn(t),""}}}function PE(){return new Date().toISOString().substring(0,10)}function DN(n,t=IN){const e=[];let s=n.slice();for(const o of n){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),kE(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),kE(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class VN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return X1()?vM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await RN(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return OE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return OE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function kE(n){return $h(JSON.stringify({version:2,heartbeats:n})).length}function MN(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(n){lr(new cs("platform-logger",t=>new GM(t),"PRIVATE")),lr(new cs("heartbeat",t=>new xN(t),"PRIVATE")),as(Yp,ME,n),as(Yp,ME,"esm2020"),as("fire-js","")}NN("");var LE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nr,nb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,w){function R(){}R.prototype=w.prototype,M.D=w.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(O,P,L){for(var x=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)x[Te-2]=arguments[Te];return w.prototype[P].apply(O,x)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,w,R){R||(R=0);var O=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)O[P]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(P=0;16>P;++P)O[P]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=M.g[0],R=M.g[1],P=M.g[2];var L=M.g[3],x=w+(L^R&(P^L))+O[0]+3614090360&4294967295;w=R+(x<<7&4294967295|x>>>25),x=L+(P^w&(R^P))+O[1]+3905402710&4294967295,L=w+(x<<12&4294967295|x>>>20),x=P+(R^L&(w^R))+O[2]+606105819&4294967295,P=L+(x<<17&4294967295|x>>>15),x=R+(w^P&(L^w))+O[3]+3250441966&4294967295,R=P+(x<<22&4294967295|x>>>10),x=w+(L^R&(P^L))+O[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=L+(P^w&(R^P))+O[5]+1200080426&4294967295,L=w+(x<<12&4294967295|x>>>20),x=P+(R^L&(w^R))+O[6]+2821735955&4294967295,P=L+(x<<17&4294967295|x>>>15),x=R+(w^P&(L^w))+O[7]+4249261313&4294967295,R=P+(x<<22&4294967295|x>>>10),x=w+(L^R&(P^L))+O[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=L+(P^w&(R^P))+O[9]+2336552879&4294967295,L=w+(x<<12&4294967295|x>>>20),x=P+(R^L&(w^R))+O[10]+4294925233&4294967295,P=L+(x<<17&4294967295|x>>>15),x=R+(w^P&(L^w))+O[11]+2304563134&4294967295,R=P+(x<<22&4294967295|x>>>10),x=w+(L^R&(P^L))+O[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=L+(P^w&(R^P))+O[13]+4254626195&4294967295,L=w+(x<<12&4294967295|x>>>20),x=P+(R^L&(w^R))+O[14]+2792965006&4294967295,P=L+(x<<17&4294967295|x>>>15),x=R+(w^P&(L^w))+O[15]+1236535329&4294967295,R=P+(x<<22&4294967295|x>>>10),x=w+(P^L&(R^P))+O[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=L+(R^P&(w^R))+O[6]+3225465664&4294967295,L=w+(x<<9&4294967295|x>>>23),x=P+(w^R&(L^w))+O[11]+643717713&4294967295,P=L+(x<<14&4294967295|x>>>18),x=R+(L^w&(P^L))+O[0]+3921069994&4294967295,R=P+(x<<20&4294967295|x>>>12),x=w+(P^L&(R^P))+O[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=L+(R^P&(w^R))+O[10]+38016083&4294967295,L=w+(x<<9&4294967295|x>>>23),x=P+(w^R&(L^w))+O[15]+3634488961&4294967295,P=L+(x<<14&4294967295|x>>>18),x=R+(L^w&(P^L))+O[4]+3889429448&4294967295,R=P+(x<<20&4294967295|x>>>12),x=w+(P^L&(R^P))+O[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=L+(R^P&(w^R))+O[14]+3275163606&4294967295,L=w+(x<<9&4294967295|x>>>23),x=P+(w^R&(L^w))+O[3]+4107603335&4294967295,P=L+(x<<14&4294967295|x>>>18),x=R+(L^w&(P^L))+O[8]+1163531501&4294967295,R=P+(x<<20&4294967295|x>>>12),x=w+(P^L&(R^P))+O[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=L+(R^P&(w^R))+O[2]+4243563512&4294967295,L=w+(x<<9&4294967295|x>>>23),x=P+(w^R&(L^w))+O[7]+1735328473&4294967295,P=L+(x<<14&4294967295|x>>>18),x=R+(L^w&(P^L))+O[12]+2368359562&4294967295,R=P+(x<<20&4294967295|x>>>12),x=w+(R^P^L)+O[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=L+(w^R^P)+O[8]+2272392833&4294967295,L=w+(x<<11&4294967295|x>>>21),x=P+(L^w^R)+O[11]+1839030562&4294967295,P=L+(x<<16&4294967295|x>>>16),x=R+(P^L^w)+O[14]+4259657740&4294967295,R=P+(x<<23&4294967295|x>>>9),x=w+(R^P^L)+O[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=L+(w^R^P)+O[4]+1272893353&4294967295,L=w+(x<<11&4294967295|x>>>21),x=P+(L^w^R)+O[7]+4139469664&4294967295,P=L+(x<<16&4294967295|x>>>16),x=R+(P^L^w)+O[10]+3200236656&4294967295,R=P+(x<<23&4294967295|x>>>9),x=w+(R^P^L)+O[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=L+(w^R^P)+O[0]+3936430074&4294967295,L=w+(x<<11&4294967295|x>>>21),x=P+(L^w^R)+O[3]+3572445317&4294967295,P=L+(x<<16&4294967295|x>>>16),x=R+(P^L^w)+O[6]+76029189&4294967295,R=P+(x<<23&4294967295|x>>>9),x=w+(R^P^L)+O[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=L+(w^R^P)+O[12]+3873151461&4294967295,L=w+(x<<11&4294967295|x>>>21),x=P+(L^w^R)+O[15]+530742520&4294967295,P=L+(x<<16&4294967295|x>>>16),x=R+(P^L^w)+O[2]+3299628645&4294967295,R=P+(x<<23&4294967295|x>>>9),x=w+(P^(R|~L))+O[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=L+(R^(w|~P))+O[7]+1126891415&4294967295,L=w+(x<<10&4294967295|x>>>22),x=P+(w^(L|~R))+O[14]+2878612391&4294967295,P=L+(x<<15&4294967295|x>>>17),x=R+(L^(P|~w))+O[5]+4237533241&4294967295,R=P+(x<<21&4294967295|x>>>11),x=w+(P^(R|~L))+O[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=L+(R^(w|~P))+O[3]+2399980690&4294967295,L=w+(x<<10&4294967295|x>>>22),x=P+(w^(L|~R))+O[10]+4293915773&4294967295,P=L+(x<<15&4294967295|x>>>17),x=R+(L^(P|~w))+O[1]+2240044497&4294967295,R=P+(x<<21&4294967295|x>>>11),x=w+(P^(R|~L))+O[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=L+(R^(w|~P))+O[15]+4264355552&4294967295,L=w+(x<<10&4294967295|x>>>22),x=P+(w^(L|~R))+O[6]+2734768916&4294967295,P=L+(x<<15&4294967295|x>>>17),x=R+(L^(P|~w))+O[13]+1309151649&4294967295,R=P+(x<<21&4294967295|x>>>11),x=w+(P^(R|~L))+O[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=L+(R^(w|~P))+O[11]+3174756917&4294967295,L=w+(x<<10&4294967295|x>>>22),x=P+(w^(L|~R))+O[2]+718787259&4294967295,P=L+(x<<15&4294967295|x>>>17),x=R+(L^(P|~w))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(P+(x<<21&4294967295|x>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+L&4294967295}s.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var R=w-this.blockSize,O=this.B,P=this.h,L=0;L<w;){if(P==0)for(;L<=R;)o(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<w;)if(O[P++]=M.charCodeAt(L++),P==this.blockSize){o(this,O),P=0;break}}else for(;L<w;)if(O[P++]=M[L++],P==this.blockSize){o(this,O),P=0;break}}this.h=P,this.o+=w},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var R=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=R&255,R/=256;for(this.u(M),M=Array(16),w=R=0;4>w;++w)for(var O=0;32>O;O+=8)M[R++]=this.g[w]>>>O&255;return M};function u(M,w){var R=d;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=w(M)}function c(M,w){this.h=w;for(var R=[],O=!0,P=M.length-1;0<=P;P--){var L=M[P]|0;O&&L==w||(R[P]=L,O=!1)}this.g=R}var d={};function p(M){return-128<=M&&128>M?u(M,function(w){return new c([w|0],0>w?-1:0)}):new c([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return E;if(0>M)return z(g(-M));for(var w=[],R=1,O=0;M>=R;O++)w[O]=M/R|0,R*=4294967296;return new c(w,0)}function v(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return z(v(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),O=E,P=0;P<M.length;P+=8){var L=Math.min(8,M.length-P),x=parseInt(M.substring(P,P+L),w);8>L?(L=g(Math.pow(w,L)),O=O.j(L).add(g(x))):(O=O.j(R),O=O.add(g(x)))}return O}var E=p(0),A=p(1),C=p(16777216);n=c.prototype,n.m=function(){if(F(this))return-z(this).m();for(var M=0,w=1,R=0;R<this.g.length;R++){var O=this.i(R);M+=(0<=O?O:4294967296+O)*w,w*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(V(this))return"0";if(F(this))return"-"+z(this).toString(M);for(var w=g(Math.pow(M,6)),R=this,O="";;){var P=dt(R,w).g;R=tt(R,P.j(w));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=P,V(R))return L+O;for(;6>L.length;)L="0"+L;O=L+O}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function V(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function F(M){return M.h==-1}n.l=function(M){return M=tt(this,M),F(M)?-1:V(M)?0:1};function z(M){for(var w=M.g.length,R=[],O=0;O<w;O++)R[O]=~M.g[O];return new c(R,~M.h).add(A)}n.abs=function(){return F(this)?z(this):this},n.add=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],O=0,P=0;P<=w;P++){var L=O+(this.i(P)&65535)+(M.i(P)&65535),x=(L>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);O=x>>>16,L&=65535,x&=65535,R[P]=x<<16|L}return new c(R,R[R.length-1]&-2147483648?-1:0)};function tt(M,w){return M.add(z(w))}n.j=function(M){if(V(this)||V(M))return E;if(F(this))return F(M)?z(this).j(z(M)):z(z(this).j(M));if(F(M))return z(this.j(z(M)));if(0>this.l(C)&&0>M.l(C))return g(this.m()*M.m());for(var w=this.g.length+M.g.length,R=[],O=0;O<2*w;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<M.g.length;P++){var L=this.i(O)>>>16,x=this.i(O)&65535,Te=M.i(P)>>>16,ne=M.i(P)&65535;R[2*O+2*P]+=x*ne,nt(R,2*O+2*P),R[2*O+2*P+1]+=L*ne,nt(R,2*O+2*P+1),R[2*O+2*P+1]+=x*Te,nt(R,2*O+2*P+1),R[2*O+2*P+2]+=L*Te,nt(R,2*O+2*P+2)}for(O=0;O<w;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=w;O<2*w;O++)R[O]=0;return new c(R,0)};function nt(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function W(M,w){this.g=M,this.h=w}function dt(M,w){if(V(w))throw Error("division by zero");if(V(M))return new W(E,E);if(F(M))return w=dt(z(M),w),new W(z(w.g),z(w.h));if(F(w))return w=dt(M,z(w)),new W(z(w.g),w.h);if(30<M.g.length){if(F(M)||F(w))throw Error("slowDivide_ only works with positive integers.");for(var R=A,O=w;0>=O.l(M);)R=st(R),O=st(O);var P=mt(R,1),L=mt(O,1);for(O=mt(O,2),R=mt(R,2);!V(O);){var x=L.add(O);0>=x.l(M)&&(P=P.add(R),L=x),O=mt(O,1),R=mt(R,1)}return w=tt(M,P.j(w)),new W(P,w)}for(P=E;0<=M.l(w);){for(R=Math.max(1,Math.floor(M.m()/w.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),L=g(R),x=L.j(w);F(x)||0<x.l(M);)R-=O,L=g(R),x=L.j(w);V(L)&&(L=A),P=P.add(L),M=tt(M,x)}return new W(P,M)}n.A=function(M){return dt(this,M).h},n.and=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)&M.i(O);return new c(R,this.h&M.h)},n.or=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)|M.i(O);return new c(R,this.h|M.h)},n.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)^M.i(O);return new c(R,this.h^M.h)};function st(M){for(var w=M.g.length+1,R=[],O=0;O<w;O++)R[O]=M.i(O)<<1|M.i(O-1)>>>31;return new c(R,M.h)}function mt(M,w){var R=w>>5;w%=32;for(var O=M.g.length-R,P=[],L=0;L<O;L++)P[L]=0<w?M.i(L+R)>>>w|M.i(L+R+1)<<32-w:M.i(L+R);return new c(P,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,nb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,nr=c}).apply(typeof LE<"u"?LE:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ib,ou,sb,Ph,$p,rb,ab,ob;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=e(this);function o(h,y){if(y)t:{var _=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var U=h[b];if(!(U in _))break t;_=_[U]}h=h[h.length-1],b=_[h],y=y(b),y!=b&&y!=null&&t(_,h,{configurable:!0,writable:!0,value:y})}}function u(h,y){h instanceof String&&(h+="");var _=0,b=!1,U={next:function(){if(!b&&_<h.length){var K=_++;return{value:y(K,h[K]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(h){return h||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function E(h,y,_){if(!h)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),h.apply(y,U)}}return function(){return h.apply(y,arguments)}}function A(h,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,A.apply(null,arguments)}function C(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function V(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(b,U,K){for(var at=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)at[Lt-2]=arguments[Lt];return y.prototype[U].apply(b,at)}}function F(h){const y=h.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=h[b];return _}return[]}function z(h,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const U=h.length||0,K=b.length||0;h.length=U+K;for(let at=0;at<K;at++)h[U+at]=b[at]}else h.push(b)}}class tt{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function nt(h){return/^[\s\xa0]*$/.test(h)}function W(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function dt(h){return dt[" "](h),h}dt[" "]=function(){};var st=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function mt(h,y,_){for(const b in h)y.call(_,h[b],b,h)}function M(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function w(h){const y={};for(const _ in h)y[_]=h[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,y){let _,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(_ in b)h[_]=b[_];for(let K=0;K<R.length;K++)_=R[K],Object.prototype.hasOwnProperty.call(b,_)&&(h[_]=b[_])}}function P(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function L(h){d.setTimeout(()=>{throw h},0)}function x(){var h=Ct;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Te{constructor(){this.h=this.g=null}add(y,_){const b=ne.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ne=new tt(()=>new Y,h=>h.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ut=!1,Ct=new Te,D=()=>{const h=d.Promise.resolve(void 0);it=()=>{h.then(et)}};var et=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(_){L(_)}var y=ne;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ut=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var yt=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h})();function Dt(h,y){if(rt.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(st){t:{try{dt(y.nodeName);var U=!0;break t}catch{}U=!1}U||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:bt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Dt.aa.h.call(this)}}V(Dt,rt);var bt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),te=0;function si(h,y,_,b,U){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=U,this.key=++te,this.da=this.fa=!1}function vs(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Mi(h){this.src=h,this.g={},this.h=0}Mi.prototype.add=function(h,y,_,b,U){var K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);var at=vr(h,y,b,U);return-1<at?(y=h[at],_||(y.fa=!1)):(y=new si(y,this.src,K,!!b,U),y.fa=_,h.push(y)),y};function yr(h,y){var _=y.type;if(_ in h.g){var b=h.g[_],U=Array.prototype.indexOf.call(b,y,void 0),K;(K=0<=U)&&Array.prototype.splice.call(b,U,1),K&&(vs(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function vr(h,y,_,b){for(var U=0;U<h.length;++U){var K=h[U];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==b)return U}return-1}var _r="closure_lm_"+(1e6*Math.random()|0),Xo={};function $u(h,y,_,b,U){if(Array.isArray(y)){for(var K=0;K<y.length;K++)$u(h,y[K],_,b,U);return null}return _=Wu(_),h&&h[Pe]?h.K(y,_,g(b)?!!b.capture:!1,U):In(h,y,_,!1,b,U)}function In(h,y,_,b,U,K){if(!y)throw Error("Invalid event type");var at=g(U)?!!U.capture:!!U,Lt=_a(h);if(Lt||(h[_r]=Lt=new Mi(h)),_=Lt.add(y,_,b,at,K),_.proxy)return _;if(b=Hf(),_.proxy=b,b.src=h,b.listener=_,h.addEventListener)yt||(U=at),U===void 0&&(U=!1),h.addEventListener(y.toString(),b,U);else if(h.attachEvent)h.attachEvent(Tr(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Hf(){function h(_){return y.call(h.src,h.listener,_)}const y=Gf;return h}function $o(h,y,_,b,U){if(Array.isArray(y))for(var K=0;K<y.length;K++)$o(h,y[K],_,b,U);else b=g(b)?!!b.capture:!!b,_=Wu(_),h&&h[Pe]?(h=h.i,y=String(y).toString(),y in h.g&&(K=h.g[y],_=vr(K,_,b,U),-1<_&&(vs(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete h.g[y],h.h--)))):h&&(h=_a(h))&&(y=h.g[y.toString()],h=-1,y&&(h=vr(y,_,b,U)),(_=-1<h?y[h]:null)&&va(_))}function va(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Pe])yr(y.i,h);else{var _=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(_,b,h.capture):y.detachEvent?y.detachEvent(Tr(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=_a(y))?(yr(_,h),_.h==0&&(_.src=null,y[_r]=null)):vs(h)}}}function Tr(h){return h in Xo?Xo[h]:Xo[h]="on"+h}function Gf(h,y){if(h.da)h=!0;else{y=new Dt(y,this);var _=h.listener,b=h.ha||h.src;h.fa&&va(h),h=_.call(b,y)}return h}function _a(h){return h=h[_r],h instanceof Mi?h:null}var Wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wu(h){return typeof h=="function"?h:(h[Wo]||(h[Wo]=function(y){return h.handleEvent(y)}),h[Wo])}function he(){lt.call(this),this.i=new Mi(this),this.M=this,this.F=null}V(he,lt),he.prototype[Pe]=!0,he.prototype.removeEventListener=function(h,y,_,b){$o(this,h,y,_,b)};function Gt(h,y){var _,b=h.F;if(b)for(_=[];b;b=b.F)_.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new rt(y,h);else if(y instanceof rt)y.target=y.target||h;else{var U=y;y=new rt(b,h),O(y,U)}if(U=!0,_)for(var K=_.length-1;0<=K;K--){var at=y.g=_[K];U=vn(at,b,!0,y)&&U}if(at=y.g=h,U=vn(at,b,!0,y)&&U,U=vn(at,b,!1,y)&&U,_)for(K=0;K<_.length;K++)at=y.g=_[K],U=vn(at,b,!1,y)&&U}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],b=0;b<_.length;b++)vs(_[b]);delete h.g[y],h.h--}}this.F=null},he.prototype.K=function(h,y,_,b){return this.i.add(String(h),y,!1,_,b)},he.prototype.L=function(h,y,_,b){return this.i.add(String(h),y,!0,_,b)};function vn(h,y,_,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,K=0;K<y.length;++K){var at=y[K];if(at&&!at.da&&at.capture==_){var Lt=at.listener,De=at.ha||at.src;at.fa&&yr(h.i,at),U=Lt.call(De,b)!==!1&&U}}return U&&!b.defaultPrevented}function Ze(h,y,_){if(typeof h=="function")_&&(h=A(h,_));else if(h&&typeof h.handleEvent=="function")h=A(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function Zu(h){h.g=Ze(()=>{h.g=null,h.i&&(h.i=!1,Zu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Kf extends lt{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Zu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(h){lt.call(this),this.h=h,this.g={}}V(Er,lt);var Ar=[];function Sr(h){mt(h.g,function(y,_){this.g.hasOwnProperty(_)&&va(y)},h),h.g={}}Er.prototype.N=function(){Er.aa.N.call(this),Sr(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=d.JSON.stringify,Ta=d.JSON.parse,br=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Zo(){}Zo.prototype.h=null;function Jo(h){return h.h||(h.h=h.i())}function tl(){}var Ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Oi(){rt.call(this,"d")}V(Oi,rt);function el(){rt.call(this,"c")}V(el,rt);var ri={},nl=null;function _s(){return nl=nl||new he}ri.La="serverreachability";function Ea(h){rt.call(this,ri.La,h)}V(Ea,rt);function Ts(h){const y=_s();Gt(y,new Ea(y))}ri.STAT_EVENT="statevent";function Ju(h,y){rt.call(this,ri.STAT_EVENT,h),this.stat=y}V(Ju,rt);function re(h){const y=_s();Gt(y,new Ju(y,h))}ri.Ma="timingevent";function xe(h,y){rt.call(this,ri.Ma,h),this.size=y}V(xe,rt);function Ee(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function il(h,y,_,b,U,K){h.info(function(){if(h.g)if(K)for(var at="",Lt=K.split("&"),De=0;De<Lt.length;De++){var Ut=Lt[De].split("=");if(1<Ut.length){var Le=Ut[0];Ut=Ut[1];var Ve=Le.split("_");at=2<=Ve.length&&Ve[1]=="type"?at+(Le+"="+Ut+"&"):at+(Le+"=redacted&")}}else at=null;else at=K;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+y+`
`+_+`
`+at})}function Yf(h,y,_,b,U,K,at){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+y+`
`+_+`
`+K+" "+at})}function Es(h,y,_,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+wr(h,_)+(b?" "+b:"")})}function tc(h,y){h.info(function(){return"TIMEOUT: "+y})}Cn.prototype.info=function(){};function wr(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var b=_[h];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var K=U[0];if(K!="noop"&&K!="stop"&&K!="close")for(var at=1;at<U.length;at++)U[at]=""}}}}return Kn(_)}catch{return y}}var As={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ai;function oi(){}V(oi,Zo),oi.prototype.g=function(){return new XMLHttpRequest},oi.prototype.i=function(){return{}},ai=new oi;function on(h,y,_,b){this.j=h,this.i=y,this.l=_,this.R=b||1,this.U=new Er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var sl={},Aa={};function Yn(h,y,_){h.L=1,h.v=Dr(_n(y)),h.m=_,h.P=!0,ki(h,null)}function ki(h,y){h.F=Date.now(),Rr(h),h.A=_n(h.v);var _=h.A,b=h.R;Array.isArray(b)||(b=[String(b)]),cl(_.i,"t",b),h.C=0,_=h.j.J,h.h=new pe,h.g=gc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new Kf(A(h.Y,h,h.g),h.O)),y=h.U,_=h.g,b=h.ca;var U="readystatechange";Array.isArray(U)||(U&&(Ar[0]=U.toString()),U=Ar);for(var K=0;K<U.length;K++){var at=$u(_,U[K],b||y.handleEvent,!1,y.h||y);if(!at)break;y.g[at.key]=at}y=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Ts(),il(h.i,h.u,h.A,h.l,h.R,h.m)}on.prototype.ca=function(h){h=h.target;const y=this.M;y&&Mn(h)==3?y.j():this.Y(h)},on.prototype.Y=function(h){try{if(h==this.g)t:{const Ve=Mn(this.g);var y=this.g.Ba();const Hi=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||lc(this.g)))){this.J||Ve!=4||y==7||(y==8||0>=Hi?Ts(3):Ts(2)),Ss(this);var _=this.g.Z();this.X=_;e:if(ec(this)){var b=lc(this.g);h="";var U=b.length,K=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fe(this),li(this);var at="";break e}this.h.i=new d.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,h+=this.h.i.decode(b[y],{stream:!(K&&y==U-1)});b.length=0,this.h.g+=h,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=_==200,Yf(this.i,this.u,this.A,this.l,this.R,Ve,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,De=this.g;if((Lt=De.g?De.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(Lt)){var Ut=Lt;break e}}Ut=null}if(_=Ut)Es(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ir(this,_);else{this.o=!1,this.s=3,re(12),Fe(this),li(this);break t}}if(this.P){_=!0;let He;for(;!this.J&&this.C<at.length;)if(He=nc(this,at),He==Aa){Ve==4&&(this.s=4,re(14),_=!1),Es(this.i,this.l,null,"[Incomplete Response]");break}else if(He==sl){this.s=4,re(15),Es(this.i,this.l,at,"[Invalid Chunk]"),_=!1;break}else Es(this.i,this.l,He,null),Ir(this,He);if(ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||at.length!=0||this.h.h||(this.s=1,re(16),_=!1),this.o=this.o&&_,!_)Es(this.i,this.l,at,"[Invalid Chunked Response]"),Fe(this),li(this);else if(0<at.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Ur(Le),Le.M=!0,re(11))}}else Es(this.i,this.l,at,null),Ir(this,at);Ve==4&&Fe(this),this.o&&!this.J&&(Ve==4?dc(this.j,this):(this.o=!1,Rr(this)))}else Zf(this.g),_==400&&0<at.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),Fe(this),li(this)}}}catch{}finally{}};function ec(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function nc(h,y){var _=h.C,b=y.indexOf(`
`,_);return b==-1?Aa:(_=Number(y.substring(_,b)),isNaN(_)?sl:(b+=1,b+_>y.length?Aa:(y=y.slice(b,b+_),h.C=b+_,y)))}on.prototype.cancel=function(){this.J=!0,Fe(this)};function Rr(h){h.S=Date.now()+h.I,ic(h,h.I)}function ic(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ee(A(h.ba,h),y)}function Ss(h){h.B&&(d.clearTimeout(h.B),h.B=null)}on.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(tc(this.i,this.A),this.L!=2&&(Ts(),re(17)),Fe(this),this.s=2,li(this)):ic(this,this.S-h)};function li(h){h.j.G==0||h.J||dc(h.j,h)}function Fe(h){Ss(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Sr(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Ir(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||rl(_.h,h))){if(!h.K&&rl(_.h,h)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Oa(_),Ma(_);else break t;pl(_),re(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ee(A(_.Za,_),6e3));if(1>=ba(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Fi(_,11)}else if((h.K||_.g==h)&&Oa(_),!nt(y))for(U=_.Da.g.parse(y),y=0;y<U.length;y++){let Ut=U[y];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Le=Ut[3];Le!=null&&(_.la=Le,_.j.info("VER="+_.la));const Ve=Ut[4];Ve!=null&&(_.Aa=Ve,_.j.info("SVER="+_.Aa));const Hi=Ut[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(b=1.5*Hi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const He=h.g;if(He){const pi=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var K=b.h;K.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(wa(K,K.h),K.h=null))}if(b.D){const yl=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;yl&&(b.ya=yl,Qt(b.I,b.D,yl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var at=h;if(b.qa=pc(b,b.J?b.ia:null,b.W),at.K){ln(b.h,at);var Lt=at,De=b.L;De&&(Lt.I=De),Lt.B&&(Ss(Lt),Rr(Lt)),b.g=at}else hc(b);0<_.i.length&&Na(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Fi(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Fi(_,7):dl(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}Ts(4)}catch{}}var sc=class{constructor(h,y){this.g=h,this.map=y}};function Li(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ba(h){return h.h?1:h.g?h.g.size:0}function rl(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function wa(h,y){h.g?h.g.add(y):h.h=y}function ln(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Li.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function al(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return F(h.i)}function Qf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],_=h.length,b=0;b<_;b++)y.push(h[b]);return y}y=[],_=0;for(b in h)y[_++]=h[b];return y}function Ra(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const b in h)y[_++]=b;return y}}}function ol(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=Ra(h),b=Qf(h),U=b.length,K=0;K<U;K++)y.call(void 0,b[K],_&&_[K],h)}var Cr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xf(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var b=h[_].indexOf("="),U=null;if(0<=b){var K=h[_].substring(0,b);U=h[_].substring(b+1)}else K=h[_];y(K,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ae(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ae){this.h=h.h,xr(this,h.j),this.o=h.o,this.g=h.g,bs(this,h.s),this.l=h.l;var y=h.i,_=new Bi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ui(this,_),this.m=h.m}else h&&(y=String(h).match(Cr))?(this.h=!1,xr(this,y[1]||"",!0),this.o=xn(y[2]||""),this.g=xn(y[3]||"",!0),bs(this,y[4]),this.l=xn(y[5]||"",!0),Ui(this,y[6]||"",!0),this.m=xn(y[7]||"")):(this.h=!1,this.i=new Bi(null,this.h))}Ae.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Vr(y,ll,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Vr(y,ll,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Vr(_,_.charAt(0)=="/"?$f:ul,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Vr(_,Ia)),h.join("")};function _n(h){return new Ae(h)}function xr(h,y,_){h.j=_?xn(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function bs(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Ui(h,y,_){y instanceof Bi?(h.i=y,ac(h.i,h.h)):(_||(y=Vr(y,Wf)),h.i=new Bi(y,h.h))}function Qt(h,y,_){h.i.set(y,_)}function Dr(h){return Qt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function xn(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Vr(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,rc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function rc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ll=/[#\/\?@]/g,ul=/[#\?:]/g,$f=/[#\?]/g,Wf=/[#\?@]/g,Ia=/#/g;function Bi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Xf(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Bi.prototype,n.add=function(h,y){Dn(this),this.i=null,h=ui(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function ji(h,y){Dn(h),y=ui(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function zi(h,y){return Dn(h),y=ui(h,y),h.g.has(y)}n.forEach=function(h,y){Dn(this),this.g.forEach(function(_,b){_.forEach(function(U){h.call(y,U,b,this)},this)},this)},n.na=function(){Dn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const U=h[b];for(let K=0;K<U.length;K++)_.push(y[b])}return _},n.V=function(h){Dn(this);let y=[];if(typeof h=="string")zi(this,h)&&(y=y.concat(this.g.get(ui(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},n.set=function(h,y){return Dn(this),this.i=null,h=ui(this,h),zi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function cl(h,y,_){ji(h,y),0<_.length&&(h.i=null,h.g.set(ui(h,y),F(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const K=encodeURIComponent(String(b)),at=this.V(b);for(b=0;b<at.length;b++){var U=K;at[b]!==""&&(U+="="+encodeURIComponent(String(at[b]))),h.push(U)}}return this.i=h.join("&")};function ui(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function ac(h,y){y&&!h.j&&(Dn(h),h.i=null,h.g.forEach(function(_,b){var U=b.toLowerCase();b!=U&&(ji(this,b),cl(this,U,_))},h)),h.j=y}function Mr(h,y){const _=new Cn;if(d.Image){const b=new Image;b.onload=C(Vn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=C(Vn,_,"TestLoadImage: error",!1,y,b),b.onabort=C(Vn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=C(Vn,_,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function Qn(h,y){const _=new Cn,b=new AbortController,U=setTimeout(()=>{b.abort(),Vn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(K=>{clearTimeout(U),K.ok?Vn(_,"TestPingServer: ok",!0,y):Vn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Vn(_,"TestPingServer: error",!1,y)})}function Vn(h,y,_,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(_)}catch{}}function Nr(){this.g=new br}function ci(h,y,_){const b=_||"";try{ol(h,function(U,K){let at=U;g(U)&&(at=Kn(U)),y.push(b+K+"="+encodeURIComponent(at))})}catch(U){throw y.push(b+"type="+encodeURIComponent("_badmap")),U}}function ws(h){this.l=h.Ub||null,this.j=h.eb||!1}V(ws,Zo),ws.prototype.g=function(){return new qi(this.l,this.j)},ws.prototype.i=(function(h){return function(){return h}})({});function qi(h,y){he.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(qi,he),n=qi.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,fi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function hl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?hi(this):fi(this),this.readyState==3&&hl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,hi(this))},n.Qa=function(h){this.g&&(this.response=h,hi(this))},n.ga=function(){this.g&&hi(this)};function hi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,fi(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function fi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function fl(h){let y="";return mt(h,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function ke(h,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=fl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Qt(h,y,_))}function Ft(h){he.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Ft,he);var Ca=/^https?$/i,Or=["POST","PUT"];n=Ft.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ai.g(),this.v=this.o?Jo(this.o):Jo(ai),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(K){oc(this,K);return}if(h=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)_.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const K of b.keys())_.set(K,b.get(K));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),U=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Or,y,void 0))||b||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,at]of _)this.g.setRequestHeader(K,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pr(this),this.u=!0,this.g.send(h),this.u=!1}catch(K){oc(this,K)}};function oc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,xa(h),di(h)}function xa(h){h.A||(h.A=!0,Gt(h,"complete"),Gt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Gt(this,"complete"),Gt(this,"abort"),di(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),Ft.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Da(this):this.bb())},n.bb=function(){Da(this)};function Da(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Mn(h)!=4||h.Z()!=2)){if(h.u&&Mn(h)==4)Ze(h.Ea,0,h);else if(Gt(h,"readystatechange"),Mn(h)==4){h.h=!1;try{const at=h.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=at===0){var U=String(h.D).match(Cr)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),b=!Ca.test(U?U.toLowerCase():"")}_=b}if(_)Gt(h,"complete"),Gt(h,"success");else{h.m=6;try{var K=2<Mn(h)?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.Z()+"]",xa(h)}}finally{di(h)}}}}function di(h,y){if(h.g){Pr(h);const _=h.g,b=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Gt(h,"ready");try{_.onreadystatechange=b}catch{}}}function Pr(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Mn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Ta(y)}};function lc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Zf(h){const y={};h=(h.g&&2<=Mn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(nt(h[b]))continue;var _=P(h[b]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[U]||[];y[U]=K,K.push(_)}M(y,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kr(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function Va(h){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kr("baseRetryDelayMs",5e3,h),this.cb=kr("retryDelaySeedMs",1e4,h),this.Wa=kr("forwardChannelMaxRetries",2,h),this.wa=kr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Li(h&&h.concurrentRequestLimit),this.Da=new Nr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Va.prototype,n.la=8,n.G=1,n.connect=function(h,y,_,b){re(0),this.W=h,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=pc(this,null,this.W),Na(this)};function dl(h){if(uc(h),h.G==3){var y=h.U++,_=_n(h.I);if(Qt(_,"SID",h.K),Qt(_,"RID",y),Qt(_,"TYPE","terminate"),Lr(h,_),y=new on(h,h.j,y),y.L=2,y.v=Dr(_n(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=gc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Rr(y)}mc(h)}function Ma(h){h.g&&(Ur(h),h.g.cancel(),h.g=null)}function uc(h){Ma(h),h.u&&(d.clearTimeout(h.u),h.u=null),Oa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Na(h){if(!Sa(h.h)&&!h.s){h.s=!0;var y=h.Ga;it||D(),ut||(it(),ut=!0),Ct.add(y,h),h.B=0}}function Jf(h,y){return ba(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ee(A(h.Ga,h,y),gl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const U=new on(this,this.j,h);let K=this.o;if(this.S&&(K?(K=w(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(U.H=K,K=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=cc(this,U,y),_=_n(this.I),Qt(_,"RID",h),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),Lr(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(fl(K)))+"&"+y:this.m&&ke(_,this.m,K)),wa(this.h,U),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",y),Qt(_,"SID","null"),U.T=!0,Yn(U,_,null)):Yn(U,_,y),this.G=2}}else this.G==3&&(h?ml(this,h):this.i.length==0||Sa(this.h)||ml(this))};function ml(h,y){var _;y?_=y.l:_=h.U++;const b=_n(h.I);Qt(b,"SID",h.K),Qt(b,"RID",_),Qt(b,"AID",h.T),Lr(h,b),h.m&&h.o&&ke(b,h.m,h.o),_=new on(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=cc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),wa(h.h,_),Yn(_,b,y)}function Lr(h,y){h.H&&mt(h.H,function(_,b){Qt(y,b,_)}),h.l&&ol({},function(_,b){Qt(y,b,_)})}function cc(h,y,_){_=Math.min(h.i.length,_);var b=h.l?A(h.l.Na,h.l,h):null;t:{var U=h.i;let K=-1;for(;;){const at=["count="+_];K==-1?0<_?(K=U[0].g,at.push("ofs="+K)):K=0:at.push("ofs="+K);let Lt=!0;for(let De=0;De<_;De++){let Ut=U[De].g;const Le=U[De].map;if(Ut-=K,0>Ut)K=Math.max(0,U[De].g-100),Lt=!1;else try{ci(Le,at,"req"+Ut+"_")}catch{b&&b(Le)}}if(Lt){b=at.join("&");break t}}}return h=h.i.splice(0,_),y.D=h,b}function hc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;it||D(),ut||(it(),ut=!0),Ct.add(y,h),h.v=0}}function pl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ee(A(h.Fa,h),gl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,fc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ee(A(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),Ma(this),fc(this))};function Ur(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function fc(h){h.g=new on(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=_n(h.qa);Qt(y,"RID","rpc"),Qt(y,"SID",h.K),Qt(y,"AID",h.T),Qt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Qt(y,"TO",h.ja),Qt(y,"TYPE","xmlhttp"),Lr(h,y),h.m&&h.o&&ke(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Dr(_n(y)),_.m=null,_.P=!0,ki(_,h)}n.Za=function(){this.C!=null&&(this.C=null,Ma(this),pl(this),re(19))};function Oa(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function dc(h,y){var _=null;if(h.g==y){Oa(h),Ur(h),h.g=null;var b=2}else if(rl(h.h,y))_=y.D,ln(h.h,y),b=1;else return;if(h.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var U=h.B;b=_s(),Gt(b,new xe(b,_)),Na(h)}else hc(h);else if(U=y.s,U==3||U==0&&0<y.X||!(b==1&&Jf(h,y)||b==2&&pl(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),U){case 1:Fi(h,5);break;case 4:Fi(h,10);break;case 3:Fi(h,6);break;default:Fi(h,2)}}}function gl(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function Fi(h,y){if(h.j.info("Error code "+y),y==2){var _=A(h.fb,h),b=h.Xa;const U=!b;b=new Ae(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xr(b,"https"),Dr(b),U?Mr(b.toString(),_):Qn(b.toString(),_)}else re(2);h.G=0,h.l&&h.l.sa(y),mc(h),uc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function mc(h){if(h.G=0,h.ka=[],h.l){const y=al(h.h);(y.length!=0||h.i.length!=0)&&(z(h.ka,y),z(h.ka,h.i),h.h.i.length=0,F(h.i),h.i.length=0),h.l.ra()}}function pc(h,y,_){var b=_ instanceof Ae?_n(_):new Ae(_);if(b.g!="")y&&(b.g=y+"."+b.g),bs(b,b.s);else{var U=d.location;b=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var K=new Ae(null);b&&xr(K,b),y&&(K.g=y),U&&bs(K,U),_&&(K.l=_),b=K}return _=h.D,y=h.ya,_&&y&&Qt(b,_,y),Qt(b,"VER",h.la),Lr(h,b),b}function gc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ft(new ws({eb:_})):new Ft(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yc(){}n=yc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Pa(){}Pa.prototype.g=function(h,y){return new un(h,y)};function un(h,y){he.call(this),this.g=new Va(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!nt(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!nt(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new mi(this)}V(un,he),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){dl(this.g)},un.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Kn(h),h=_);y.i.push(new sc(y.Ya++,h)),y.G==3&&Na(y)},un.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,un.aa.N.call(this)};function vc(h){Oi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const _ in y){h=_;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}V(vc,Oi);function _c(){el.call(this),this.status=1}V(_c,el);function mi(h){this.g=h}V(mi,yc),mi.prototype.ua=function(){Gt(this.g,"a")},mi.prototype.ta=function(h){Gt(this.g,new vc(h))},mi.prototype.sa=function(h){Gt(this.g,new _c)},mi.prototype.ra=function(){Gt(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,ob=function(){return new Pa},ab=function(){return _s()},rb=ri,$p={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,Ph=As,Pi.COMPLETE="complete",sb=Pi,tl.EventType=Ni,Ni.OPEN="a",Ni.CLOSE="b",Ni.ERROR="c",Ni.MESSAGE="d",he.prototype.listen=he.prototype.K,ou=tl,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,ib=Ft}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});const UE="@firebase/firestore",BE="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new Af("@firebase/firestore");function co(){return ca.logLevel}function ct(n,...t){if(ca.logLevel<=Ot.DEBUG){const e=t.map(ey);ca.debug(`Firestore (${Ho}): ${n}`,...e)}}function fs(n,...t){if(ca.logLevel<=Ot.ERROR){const e=t.map(ey);ca.error(`Firestore (${Ho}): ${n}`,...e)}}function Vo(n,...t){if(ca.logLevel<=Ot.WARN){const e=t.map(ey);ca.warn(`Firestore (${Ho}): ${n}`,...e)}}function ey(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,lb(n,s,e)}function lb(n,t,e){let s=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw fs(s),new Error(s)}function Ht(n,t,e,s){let o="Unexpected state";typeof e=="string"?o=e:s=e,n||lb(t,o,s)}function Rt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends gs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ON{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(nn.UNAUTHENTICATED)))}shutdown(){}}class PN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class kN{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ht(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,e(p)):Promise.resolve();let u=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ir,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ir)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new ub(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class LN{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UN{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new LN(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BN{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Ht(this.o===void 0,3512);const s=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Ht(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new jE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=jN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<e&&(s+=t.charAt(o[u]%62))}return s}}function Pt(n,t){return n<t?-1:n>t?1:0}function Wp(n,t){const e=Math.min(n.length,t.length);for(let s=0;s<e;s++){const o=n.charAt(s),u=t.charAt(s);if(o!==u)return gp(o)===gp(u)?Pt(o,u):gp(o)?1:-1}return Pt(n.length,t.length)}const zN=55296,qN=57343;function gp(n){const t=n.charCodeAt(0);return t>=zN&&t<=qN}function Mo(n,t,e){return n.length===t.length&&n.every(((s,o)=>e(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="__name__";class Ei{constructor(t,e,s){e===void 0?e=0:e>t.length&&Tt(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Tt(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let o=0;o<s;o++){const u=Ei.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Pt(t.length,e.length)}static compareSegments(t,e){const s=Ei.isNumericId(t),o=Ei.isNumericId(e);return s&&!o?-1:!s&&o?1:s&&o?Ei.extractNumericId(t).compare(Ei.extractNumericId(e)):Wp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return nr.fromString(t.substring(4,t.length-2))}}class Jt extends Ei{construct(t,e,s){return new Jt(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new ot(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((o=>o.length>0)))}return new Jt(e)}static emptyPath(){return new Jt([])}}const FN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Ei{construct(t,e,s){return new $e(t,e,s)}static isValidIdentifier(t){return FN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zE}static keyField(){return new $e([zE])}static fromServerFormat(t){const e=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new ot(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ot(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(u(),o++)}if(u(),c)throw new ot(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(e)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(Jt.fromString(t))}static fromName(t){return new gt(Jt.fromString(t).popFirst(5))}static empty(){return new gt(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Jt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(n,t,e){if(!e)throw new ot(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function HN(n,t,e,s){if(t===!0&&s===!0)throw new ot(X.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function qE(n){if(!gt.isDocumentKey(n))throw new ot(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FE(n){if(gt.isDocumentKey(n))throw new ot(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hb(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Sf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Tt(12329,{type:typeof n})}function Zh(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ot(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Sf(n);throw new ot(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function GN(n,t){if(t<=0)throw new ot(X.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n,t){const e={typeString:n};return t&&(e.value=t),e}function qu(n,t){if(!hb(n))throw new ot(X.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in n)){e=`JSON missing required field: '${s}'`;break}const c=n[s];if(o&&typeof c!==o){e=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${s}' field to equal '${u.value}'`;break}}if(e)throw new ot(X.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=-62135596800,GE=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*GE);return new se(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<HE)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GE}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(qu(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-HE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ce("string",se._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new se(0,0))}static max(){return new wt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=-1;function KN(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=wt.fromTimestamp(s===1e9?new se(e+1,0):new se(e,s));return new ur(o,gt.empty(),t)}function YN(n){return new ur(n.readTime,n.key,Cu)}class ur{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new ur(wt.min(),gt.empty(),Cu)}static max(){return new ur(wt.max(),gt.empty(),Cu)}}function QN(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=gt.comparator(n.documentKey,t.documentKey),e!==0?e:Pt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $N{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==XN)throw n;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new J(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(s,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof J?e:J.resolve(e)}catch(e){return J.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):J.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):J.reject(e)}static resolve(t){return new J(((e,s)=>{e(t)}))}static reject(t){return new J(((e,s)=>{s(t)}))}static waitFor(t){return new J(((e,s)=>{let o=0,u=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&e()}),(p=>s(p)))})),c=!0,u===o&&e()}))}static or(t){let e=J.resolve(!1);for(const s of t)e=e.next((o=>o?J.resolve(o):s()));return e}static forEach(t,e){const s=[];return t.forEach(((o,u)=>{s.push(e.call(this,o,u))})),this.waitFor(s)}static mapArray(t,e){return new J(((s,o)=>{const u=t.length,c=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((v=>{c[g]=v,++d,d===u&&s(c)}),(v=>o(v)))}}))}static doWhile(t,e){return new J(((s,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):s()};u()}))}}function WN(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ko(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}bf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=-1;function wf(n){return n==null}function Jh(n){return n===0&&1/n==-1/0}function ZN(n){return typeof n=="number"&&Number.isInteger(n)&&!Jh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="";function JN(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=KE(t)),t=tO(n.get(e),t);return KE(t)}function tO(n,t){let e=t;const s=n.length;for(let o=0;o<s;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case fb:e+="";break;default:e+=u}}return e}function KE(n){return n+fb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function da(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function db(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,e){this.comparator=t,this.root=e||Xe.EMPTY}insert(t,e){return new ce(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bh(this.root,t,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bh(this.root,t,this.comparator,!0)}}class bh{constructor(t,e,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?s(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,e,s,o,u){this.key=t,this.value=e,this.color=s??Xe.RED,this.left=o??Xe.EMPTY,this.right=u??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,o,u){return new Xe(t??this.key,e??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,s),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Xe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,e,s,o,u){return this}insert(t,e,s){return new Xe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new QE(this.data.getIterator())}getIteratorFrom(t){return new QE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Oe(this.comparator);return e.data=t,e}}class QE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new ti([])}unionWith(t){let e=new Oe($e.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new ti(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Mo(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new mb("Invalid base64 string: "+u):u}})(t);return new We(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new We(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const eO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(n){if(Ht(!!n,39018),typeof n=="string"){let t=0;const e=eO.exec(n);if(Ht(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:_e(n.seconds),nanos:_e(n.nanos)}}function _e(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function hr(n){return typeof n=="string"?We.fromBase64String(n):We.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="server_timestamp",gb="__type__",yb="__previous_value__",vb="__local_write_time__";function Rf(n){return(n?.mapValue?.fields||{})[gb]?.stringValue===pb}function If(n){const t=n.mapValue.fields[yb];return Rf(t)?If(t):t}function xu(n){const t=cr(n.mapValue.fields[vb].timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(t,e,s,o,u,c,d,p,g,v){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const tf="(default)";class Du{constructor(t,e){this.projectId=t,this.database=e||tf}static empty(){return new Du("","")}get isDefaultDatabase(){return this.database===tf}isEqual(t){return t instanceof Du&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="__type__",iO="__max__",wh={mapValue:{}},Tb="__vector__",ef="value";function fr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rf(n)?4:rO(n)?9007199254740991:sO(n)?10:11:Tt(28295,{value:n})}function Vi(n,t){if(n===t)return!0;const e=fr(n);if(e!==fr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return xu(n).isEqual(xu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=cr(o.timestampValue),d=cr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return hr(o.bytesValue).isEqual(hr(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return _e(o.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _e(o.integerValue)===_e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=_e(o.doubleValue),d=_e(u.doubleValue);return c===d?Jh(c)===Jh(d):isNaN(c)&&isNaN(d)}return!1})(n,t);case 9:return Mo(n.arrayValue.values||[],t.arrayValue.values||[],Vi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(YE(c)!==YE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Vi(c[p],d[p])))return!1;return!0})(n,t);default:return Tt(52216,{left:n})}}function Vu(n,t){return(n.values||[]).find((e=>Vi(e,t)))!==void 0}function No(n,t){if(n===t)return 0;const e=fr(n),s=fr(t);if(e!==s)return Pt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=_e(u.integerValue||u.doubleValue),p=_e(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,t);case 3:return XE(n.timestampValue,t.timestampValue);case 4:return XE(xu(n),xu(t));case 5:return Wp(n.stringValue,t.stringValue);case 6:return(function(u,c){const d=hr(u),p=hr(c);return d.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Pt(d[g],p[g]);if(v!==0)return v}return Pt(d.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=Pt(_e(u.latitude),_e(c.latitude));return d!==0?d:Pt(_e(u.longitude),_e(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return $E(n.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},p=c.fields||{},g=d[ef]?.arrayValue,v=p[ef]?.arrayValue,E=Pt(g?.values?.length||0,v?.values?.length||0);return E!==0?E:$E(g,v)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===wh.mapValue&&c===wh.mapValue)return 0;if(u===wh.mapValue)return 1;if(c===wh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const A=Wp(p[E],v[E]);if(A!==0)return A;const C=No(d[p[E]],g[v[E]]);if(C!==0)return C}return Pt(p.length,v.length)})(n.mapValue,t.mapValue);default:throw Tt(23264,{he:e})}}function XE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Pt(n,t);const e=cr(n),s=cr(t),o=Pt(e.seconds,s.seconds);return o!==0?o:Pt(e.nanos,s.nanos)}function $E(n,t){const e=n.values||[],s=t.values||[];for(let o=0;o<e.length&&o<s.length;++o){const u=No(e[o],s[o]);if(u)return u}return Pt(e.length,s.length)}function Oo(n){return Zp(n)}function Zp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const s=cr(e);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return hr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return gt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let s="[",o=!0;for(const u of e.values||[])o?o=!1:s+=",",s+=Zp(u);return s+"]"})(n.arrayValue):"mapValue"in n?(function(e){const s=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${Zp(e.fields[c])}`;return o+"}"})(n.mapValue):Tt(61005,{value:n})}function kh(n){switch(fr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=If(n);return t?16+kh(t):16;case 5:return 2*n.stringValue.length;case 6:return hr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+kh(u)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return da(s.fields,((u,c)=>{o+=u.length+kh(c)})),o})(n.mapValue);default:throw Tt(13486,{value:n})}}function nf(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Jp(n){return!!n&&"integerValue"in n}function sy(n){return!!n&&"arrayValue"in n}function WE(n){return!!n&&"nullValue"in n}function ZE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lh(n){return!!n&&"mapValue"in n}function sO(n){return(n?.mapValue?.fields||{})[_b]?.stringValue===Tb}function yu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return da(n.mapValue.fields,((e,s)=>t.mapValue.fields[e]=yu(s))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=yu(n.arrayValue.values[e]);return t}return{...n}}function rO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===iO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!Lh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=yu(e)}setAll(t){let e=$e.emptyPath(),s={},o=[];t.forEach(((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,s,o),s={},o=[],e=d.popLast()}c?s[d.lastSegment()]=yu(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,s,o)}delete(t){const e=this.field(t.popLast());Lh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Vi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=e.mapValue.fields[t.get(s)];Lh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,s){da(e,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new qn(yu(this.value))}}function Eb(n){const t=[];return da(n.fields,((e,s)=>{const o=new $e([e]);if(Lh(s)){const u=Eb(s.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new ti(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,e,s,o,u,c,d){this.key=t,this.documentType=e,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new sn(t,0,wt.min(),wt.min(),wt.min(),qn.empty(),0)}static newFoundDocument(t,e,s,o){return new sn(t,1,e,wt.min(),s,o,0)}static newNoDocument(t,e){return new sn(t,2,e,wt.min(),wt.min(),qn.empty(),0)}static newUnknownDocument(t,e){return new sn(t,3,e,wt.min(),wt.min(),qn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t,e){this.position=t,this.inclusive=e}}function JE(n,t,e){let s=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?s=gt.comparator(gt.fromName(c.referenceValue),e.key):s=No(c,e.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function tA(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Vi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(t,e="asc"){this.field=t,this.dir=e}}function aO(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{}class Ie extends Ab{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new lO(t,e,s):e==="array-contains"?new hO(t,s):e==="in"?new fO(t,s):e==="not-in"?new dO(t,s):e==="array-contains-any"?new mO(t,s):new Ie(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new uO(t,s):new cO(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(No(e,this.value)):e!==null&&fr(this.value)===fr(e)&&this.matchesComparison(No(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends Ab{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ni(t,e)}matches(t){return Sb(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Sb(n){return n.op==="and"}function bb(n){return oO(n)&&Sb(n)}function oO(n){for(const t of n.filters)if(t instanceof ni)return!1;return!0}function tg(n){if(n instanceof Ie)return n.field.canonicalString()+n.op.toString()+Oo(n.value);if(bb(n))return n.filters.map((t=>tg(t))).join(",");{const t=n.filters.map((e=>tg(e))).join(",");return`${n.op}(${t})`}}function wb(n,t){return n instanceof Ie?(function(s,o){return o instanceof Ie&&s.op===o.op&&s.field.isEqual(o.field)&&Vi(s.value,o.value)})(n,t):n instanceof ni?(function(s,o){return o instanceof ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,d)=>u&&wb(c,o.filters[d])),!0):!1})(n,t):void Tt(19439)}function Rb(n){return n instanceof Ie?(function(e){return`${e.field.canonicalString()} ${e.op} ${Oo(e.value)}`})(n):n instanceof ni?(function(e){return e.op.toString()+" {"+e.getFilters().map(Rb).join(" ,")+"}"})(n):"Filter"}class lO extends Ie{constructor(t,e,s){super(t,e,s),this.key=gt.fromName(s.referenceValue)}matches(t){const e=gt.comparator(t.key,this.key);return this.matchesComparison(e)}}class uO extends Ie{constructor(t,e){super(t,"in",e),this.keys=Ib("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class cO extends Ie{constructor(t,e){super(t,"not-in",e),this.keys=Ib("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Ib(n,t){return(t.arrayValue?.values||[]).map((e=>gt.fromName(e.referenceValue)))}class hO extends Ie{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return sy(e)&&Vu(e.arrayValue,this.value)}}class fO extends Ie{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Vu(this.value.arrayValue,e)}}class dO extends Ie{constructor(t,e){super(t,"not-in",e)}matches(t){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Vu(this.value.arrayValue,e)}}class mO extends Ie{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!sy(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>Vu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(t,e=null,s=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function eA(n,t=null,e=[],s=[],o=null,u=null,c=null){return new pO(n,t,e,s,o,u,c)}function ry(n){const t=Rt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>tg(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),wf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>Oo(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>Oo(s))).join(",")),t.Te=e}return t.Te}function ay(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!aO(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!wb(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!tA(n.startAt,t.startAt)&&tA(n.endAt,t.endAt)}function eg(n){return gt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t,e=null,s=[],o=[],u=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gO(n,t,e,s,o,u,c,d){return new ma(n,t,e,s,o,u,c,d)}function Cb(n){return new ma(n)}function nA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function oy(n){return n.collectionGroup!==null}function Ao(n){const t=Rt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Oe($e.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Mu(u,s))})),e.has($e.keyField().canonicalString())||t.Ie.push(new Mu($e.keyField(),s))}return t.Ie}function wi(n){const t=Rt(n);return t.Ee||(t.Ee=yO(t,Ao(n))),t.Ee}function yO(n,t){if(n.limitType==="F")return eA(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Mu(o.field,u)}));const e=n.endAt?new Po(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Po(n.startAt.position,n.startAt.inclusive):null;return eA(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function ng(n,t){const e=n.filters.concat([t]);return new ma(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function sf(n,t,e){return new ma(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Cf(n,t){return ay(wi(n),wi(t))&&n.limitType===t.limitType}function xb(n){return`${ry(wi(n))}|lt:${n.limitType}`}function ho(n){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((o=>Rb(o))).join(", ")}]`),wf(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((o=>Oo(o))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((o=>Oo(o))).join(",")),`Target(${s})`})(wi(n))}; limitType=${n.limitType})`}function xf(n,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):gt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(n,t)&&(function(s,o){for(const u of Ao(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(s,o){return!(s.startAt&&!(function(c,d,p){const g=JE(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,Ao(s),o)||s.endAt&&!(function(c,d,p){const g=JE(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,Ao(s),o))})(n,t)}function vO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Db(n){return(t,e)=>{let s=!1;for(const o of Ao(n)){const u=_O(o,t,e);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function _O(n,t,e){const s=n.field.isKeyField()?gt.comparator(t.key,e.key):(function(u,c,d){const p=c.data.field(u),g=d.data.field(u);return p!==null&&g!==null?No(p,g):Tt(42886)})(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[e]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){da(this.inner,((e,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return db(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new ce(gt.comparator);function ds(){return TO}const Vb=new ce(gt.comparator);function lu(...n){let t=Vb;for(const e of n)t=t.insert(e.key,e);return t}function Mb(n){let t=Vb;return n.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function aa(){return vu()}function Nb(){return vu()}function vu(){return new pa((n=>n.toString()),((n,t)=>n.isEqual(t)))}const EO=new ce(gt.comparator),AO=new Oe(gt.comparator);function kt(...n){let t=AO;for(const e of n)t=t.add(e);return t}const SO=new Oe(Pt);function bO(){return SO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jh(t)?"-0":t}}function Ob(n){return{integerValue:""+n}}function wO(n,t){return ZN(t)?Ob(t):ly(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this._=void 0}}function RO(n,t,e){return n instanceof Nu?(function(o,u){const c={fields:{[gb]:{stringValue:pb},[vb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Rf(u)&&(u=If(u)),u&&(c.fields[yb]=u),{mapValue:c}})(e,t):n instanceof Ou?kb(n,t):n instanceof Pu?Lb(n,t):(function(o,u){const c=Pb(o,u),d=iA(c)+iA(o.Ae);return Jp(c)&&Jp(o.Ae)?Ob(d):ly(o.serializer,d)})(n,t)}function IO(n,t,e){return n instanceof Ou?kb(n,t):n instanceof Pu?Lb(n,t):e}function Pb(n,t){return n instanceof rf?(function(s){return Jp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Nu extends Df{}class Ou extends Df{constructor(t){super(),this.elements=t}}function kb(n,t){const e=Ub(t);for(const s of n.elements)e.some((o=>Vi(o,s)))||e.push(s);return{arrayValue:{values:e}}}class Pu extends Df{constructor(t){super(),this.elements=t}}function Lb(n,t){let e=Ub(t);for(const s of n.elements)e=e.filter((o=>!Vi(o,s)));return{arrayValue:{values:e}}}class rf extends Df{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function iA(n){return _e(n.integerValue||n.doubleValue)}function Ub(n){return sy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(t,e){this.field=t,this.transform=e}}function xO(n,t){return n.field.isEqual(t.field)&&(function(s,o){return s instanceof Ou&&o instanceof Ou||s instanceof Pu&&o instanceof Pu?Mo(s.elements,o.elements,Vi):s instanceof rf&&o instanceof rf?Vi(s.Ae,o.Ae):s instanceof Nu&&o instanceof Nu})(n.transform,t.transform)}class DO{constructor(t,e){this.version=t,this.transformResults=e}}class os{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new os}static exists(t){return new os(void 0,t)}static updateTime(t){return new os(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Vf{}function Bb(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new zb(n.key,os.none()):new Fu(n.key,n.data,os.none());{const e=n.data,s=qn.empty();let o=new Oe($e.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new ga(n.key,s,new ti(o.toArray()),os.none())}}function VO(n,t,e){n instanceof Fu?(function(o,u,c){const d=o.value.clone(),p=rA(o.fieldTransforms,u,c.transformResults);d.setAll(p),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,t,e):n instanceof ga?(function(o,u,c){if(!Uh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=rA(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(jb(o)),p.setAll(d),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function _u(n,t,e,s){return n instanceof Fu?(function(u,c,d,p){if(!Uh(u.precondition,c))return d;const g=u.value.clone(),v=aA(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,e,s):n instanceof ga?(function(u,c,d,p){if(!Uh(u.precondition,c))return d;const g=aA(u.fieldTransforms,p,c),v=c.data;return v.setAll(jb(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(n,t,e,s):(function(u,c,d){return Uh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,t,e)}function MO(n,t){let e=null;for(const s of n.fieldTransforms){const o=t.data.field(s.field),u=Pb(s.transform,o||null);u!=null&&(e===null&&(e=qn.empty()),e.set(s.field,u))}return e||null}function sA(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Mo(s,o,((u,c)=>xO(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Fu extends Vf{constructor(t,e,s,o=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ga extends Vf{constructor(t,e,s,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function jb(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}})),t}function rA(n,t,e){const s=new Map;Ht(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let o=0;o<e.length;o++){const u=n[o],c=u.transform,d=t.data.field(u.field);s.set(u.field,IO(c,d,e[o]))}return s}function aA(n,t,e){const s=new Map;for(const o of n){const u=o.transform,c=e.data.field(o.field);s.set(o.field,RO(u,c,t))}return s}class zb extends Vf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NO extends Vf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&VO(u,t,s[o])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=_u(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=_u(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=Nb();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=e.has(o.key)?null:d;const p=Bb(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(wt.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),kt())}isEqual(t){return this.batchId===t.batchId&&Mo(this.mutations,t.mutations,((e,s)=>sA(e,s)))&&Mo(this.baseMutations,t.baseMutations,((e,s)=>sA(e,s)))}}class uy{constructor(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}static from(t,e,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return EO})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new uy(t,e,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,jt;function LO(n){switch(n){case X.OK:return Tt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Tt(15467,{code:n})}}function qb(n){if(n===void 0)return fs("GRPC error has no .code"),X.UNKNOWN;switch(n){case we.OK:return X.OK;case we.CANCELLED:return X.CANCELLED;case we.UNKNOWN:return X.UNKNOWN;case we.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case we.INTERNAL:return X.INTERNAL;case we.UNAVAILABLE:return X.UNAVAILABLE;case we.UNAUTHENTICATED:return X.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case we.NOT_FOUND:return X.NOT_FOUND;case we.ALREADY_EXISTS:return X.ALREADY_EXISTS;case we.PERMISSION_DENIED:return X.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case we.ABORTED:return X.ABORTED;case we.OUT_OF_RANGE:return X.OUT_OF_RANGE;case we.UNIMPLEMENTED:return X.UNIMPLEMENTED;case we.DATA_LOSS:return X.DATA_LOSS;default:return Tt(39323,{code:n})}}(jt=we||(we={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new nr([4294967295,4294967295],0);function oA(n){const t=UO().encode(n),e=new nb;return e.update(t),new Uint8Array(e.digest())}function lA(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new nr([e,s],0),new nr([o,u],0)]}class cy{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new uu(`Invalid padding: ${e}`);if(s<0)throw new uu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new uu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=nr.fromNumber(this.ge)}ye(t,e,s){let o=t.add(e.multiply(nr.fromNumber(s)));return o.compare(BO)===1&&(o=new nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=oA(t),[s,o]=lA(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(t,e,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new cy(u,o,e);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const e=oA(t),[s,o]=lA(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(t,e,s,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const o=new Map;return o.set(t,Hu.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Mf(wt.min(),o,new ce(Pt),ds(),kt())}}class Hu{constructor(t,e,s,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Hu(s,e,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,e,s,o){this.be=t,this.removedTargetIds=e,this.key=s,this.De=o}}class Fb{constructor(t,e){this.targetId=t,this.Ce=e}}class Hb{constructor(t,e,s=We.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=o}}class uA{constructor(){this.ve=0,this.Fe=cA(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),e=kt(),s=kt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:u})}})),new Hu(this.Me,this.xe,t,e,s)}qe(){this.Oe=!1,this.Fe=cA()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jO{constructor(t){this.Ge=t,this.ze=new Map,this.je=ds(),this.Je=Rh(),this.He=Rh(),this.Ye=new ce(Pt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const s=this.nt(e);switch(t.state){case 0:this.rt(e)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),s.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((s,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,s=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(eg(u))if(s===0){const c=new gt(u.path);this.et(e,c,sn.newNoDocument(c,wt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const c=this._t(e);if(c!==s){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=e;let c,d;try{c=hr(s).toUint8Array()}catch(p){if(p instanceof mb)return Vo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new cy(c,o,u)}catch(p){return Vo(p instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,e,s){return e.Ce.count===s-this.Pt(t,e.targetId)?0:2}Pt(t,e){const s=this.Ge.getRemoteKeysForTarget(e);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&eg(d.target)){const p=new gt(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,sn.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.qe())}}));let s=kt();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Mf(t,e,this.Ye,this.je,s);return this.je=ds(),this.Je=Rh(),this.He=Rh(),this.Ye=new ce(Pt),o}Xe(t,e){if(!this.rt(t))return;const s=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,s),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),s&&(this.je=this.je.insert(e,s))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new uA,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Oe(Pt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Oe(Pt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ct("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new uA),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Rh(){return new ce(gt.comparator)}function cA(){return new ce(gt.comparator)}const zO={asc:"ASCENDING",desc:"DESCENDING"},qO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FO={and:"AND",or:"OR"};class HO{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function ig(n,t){return n.useProto3Json||wf(t)?t:{value:t}}function af(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Gb(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function GO(n,t){return af(n,t.toTimestamp())}function Ri(n){return Ht(!!n,49232),wt.fromTimestamp((function(e){const s=cr(e);return new se(s.seconds,s.nanos)})(n))}function hy(n,t){return sg(n,t).canonicalString()}function sg(n,t){const e=(function(o){return new Jt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?e:e.child(t)}function Kb(n){const t=Jt.fromString(n);return Ht(Wb(t),10190,{key:t.toString()}),t}function rg(n,t){return hy(n.databaseId,t.path)}function yp(n,t){const e=Kb(t);if(e.get(1)!==n.databaseId.projectId)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new gt(Qb(e))}function Yb(n,t){return hy(n.databaseId,t)}function KO(n){const t=Kb(n);return t.length===4?Jt.emptyPath():Qb(t)}function ag(n){return new Jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Qb(n){return Ht(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function hA(n,t,e){return{name:rg(n,t),fields:e.value.mapValue.fields}}function YO(n,t){let e;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Ht(v===void 0||typeof v=="string",58123),We.fromBase64String(v||"")):(Ht(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),We.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?X.UNKNOWN:qb(g.code);return new ot(v,g.message||"")})(c);e=new Hb(s,o,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=yp(n,s.document.name),u=Ri(s.document.updateTime),c=s.document.createTime?Ri(s.document.createTime):wt.min(),d=new qn({mapValue:{fields:s.document.fields}}),p=sn.newFoundDocument(o,u,c,d),g=s.targetIds||[],v=s.removedTargetIds||[];e=new Bh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=yp(n,s.document),u=s.readTime?Ri(s.readTime):wt.min(),c=sn.newNoDocument(o,u),d=s.removedTargetIds||[];e=new Bh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=yp(n,s.document),u=s.removedTargetIds||[];e=new Bh([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new kO(o,u),d=s.targetId;e=new Fb(d,c)}}return e}function QO(n,t){let e;if(t instanceof Fu)e={update:hA(n,t.key,t.value)};else if(t instanceof zb)e={delete:rg(n,t.key)};else if(t instanceof ga)e={update:hA(n,t.key,t.data),updateMask:iP(t.fieldMask)};else{if(!(t instanceof NO))return Tt(16599,{Vt:t.type});e={verify:rg(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((s=>(function(u,c){const d=c.transform;if(d instanceof Nu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ou)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Pu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof rf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Tt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:GO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)})(n,t.precondition)),e}function XO(n,t){return n&&n.length>0?(Ht(t!==void 0,14353),n.map((e=>(function(o,u){let c=o.updateTime?Ri(o.updateTime):Ri(u);return c.isEqual(wt.min())&&(c=Ri(u)),new DO(c,o.transformResults||[])})(e,t)))):[]}function $O(n,t){return{documents:[Yb(n,t.path)]}}function WO(n,t){const e={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=Yb(n,o);const u=(function(g){if(g.length!==0)return $b(ni.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(A){return{field:fo(A.field),direction:tP(A.dir)}})(v)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=ig(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function ZO(n){let t=KO(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const v=e.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];e.where&&(u=(function(E){const A=Xb(E);return A instanceof ni&&bb(A)?A.getFilters():[A]})(e.where));let c=[];e.orderBy&&(c=(function(E){return E.map((A=>(function(V){return new Mu(mo(V.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(A)))})(e.orderBy));let d=null;e.limit&&(d=(function(E){let A;return A=typeof E=="object"?E.value:E,wf(A)?null:A})(e.limit));let p=null;e.startAt&&(p=(function(E){const A=!!E.before,C=E.values||[];return new Po(C,A)})(e.startAt));let g=null;return e.endAt&&(g=(function(E){const A=!E.before,C=E.values||[];return new Po(C,A)})(e.endAt)),gO(t,o,c,u,d,"F",p,g)}function JO(n,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Xb(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=mo(e.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(e.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=mo(e.unaryFilter.field);return Ie.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=mo(e.unaryFilter.field);return Ie.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ie.create(mo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return ni.create(e.compositeFilter.filters.map((s=>Xb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(e.compositeFilter.op))})(n):Tt(30097,{filter:n})}function tP(n){return zO[n]}function eP(n){return qO[n]}function nP(n){return FO[n]}function fo(n){return{fieldPath:n.canonicalString()}}function mo(n){return $e.fromServerFormat(n.fieldPath)}function $b(n){return n instanceof Ie?(function(e){if(e.op==="=="){if(ZE(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NAN"}};if(WE(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(ZE(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NOT_NAN"}};if(WE(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(e.field),op:eP(e.op),value:e.value}}})(n):n instanceof ni?(function(e){const s=e.getFilters().map((o=>$b(o)));return s.length===1?s[0]:{compositeFilter:{op:nP(e.op),filters:s}}})(n):Tt(54877,{filter:n})}function iP(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Wb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,e,s,o,u=wt.min(),c=wt.min(),d=We.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(t){this.yt=t}}function rP(n){const t=ZO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.Cn=new oP}addToCollectionParentIndex(t,e){return this.Cn.add(e),J.resolve()}getCollectionParents(t,e){return J.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return J.resolve()}deleteFieldIndex(t,e){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,e){return J.resolve()}getDocumentsMatchingTarget(t,e){return J.resolve(null)}getIndexType(t,e){return J.resolve(0)}getFieldIndexes(t,e){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,e){return J.resolve(ur.min())}getMinOffsetFromCollectionGroup(t,e){return J.resolve(ur.min())}updateCollectionGroup(t,e,s){return J.resolve()}updateIndexEntries(t,e){return J.resolve()}}class oP{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new Oe(Jt.comparator),u=!o.has(s);return this.index[e]=o.add(s),u}has(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Oe(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zb=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(Zb,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ko(0)}static cr(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="LruGarbageCollector",lP=1048576;function mA([n,t],[e,s]){const o=Pt(n,e);return o===0?Pt(t,s):o}class uP{constructor(t){this.Ir=t,this.buffer=new Oe(mA),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();mA(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class cP{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(dA,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ko(e)?ct(dA,"Ignoring IndexedDB error during garbage collection: ",e):await Go(e)}await this.Vr(3e5)}))}}class hP{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((s=>Math.floor(e/100*s)))}nthSequenceNumber(t,e){if(e===0)return J.resolve(bf.ce);const s=new uP(e);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,e,s){return this.mr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(fA)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fA):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let s,o,u,c,d,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(t,o)))).next((E=>(s=E,d=Date.now(),this.removeTargets(t,s,e)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((E=>(g=Date.now(),co()<=Ot.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function fP(n,t){return new hP(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.changes=new pa((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?J.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(t,e,s,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(s!==null&&_u(s.mutation,o,ti.empty(),se.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,kt()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=kt()){const o=aa();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,s).next((u=>{let c=lu();return u.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const s=aa();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,kt())))}populateOverlays(t,e,s){const o=[];return s.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,d)=>{e.set(c,d)}))}))}computeViews(t,e,s,o){let u=ds();const c=vu(),d=(function(){return vu()})();return e.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof ga)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),_u(v.mutation,g,v.mutation.getFieldMask(),se.now())):c.set(g.key,ti.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),e.forEach(((g,v)=>d.set(g,new mP(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,e){const s=vu();let o=new ce(((c,d)=>c-d)),u=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let v=s.get(p)||ti.empty();v=d.applyToLocalView(g,v),s.set(p,v);const E=(o.get(d.batchId)||kt()).add(p);o=o.insert(d.batchId,E)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=Nb();v.forEach((A=>{if(!u.has(A)){const C=Bb(e.get(A),s.get(A));C!==null&&E.set(A,C),u=u.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return J.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,o){return(function(c){return gt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):oy(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,o):this.getDocumentsMatchingCollectionQuery(t,e,s,o)}getNextDocuments(t,e,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,o-u.size):J.resolve(aa());let d=Cu,p=u;return c.next((g=>J.forEach(g,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(v)?J.resolve():this.remoteDocumentCache.getEntry(t,v).next((A=>{p=p.insert(v,A)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,kt()))).next((v=>({batchId:d,changes:Mb(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new gt(e)).next((s=>{let o=lu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,o){const u=e.collectionGroup;let c=lu();return this.indexManager.getCollectionParents(t,u).next((d=>J.forEach(d,(p=>{const g=(function(E,A){return new ma(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((v=>{v.forEach(((E,A)=>{c=c.insert(E,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,sn.newInvalidDocument(v)))}));let d=lu();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&_u(v.mutation,g,ti.empty(),se.now()),xf(e,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return J.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}})(e)),J.resolve()}getNamedQuery(t,e){return J.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:rP(o.bundledQuery),readTime:Ri(o.readTime)}})(e)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.overlays=new ce(gt.comparator),this.qr=new Map}getOverlay(t,e){return J.resolve(this.overlays.get(e))}getOverlays(t,e){const s=aa();return J.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((o,u)=>{this.St(t,e,u)})),J.resolve()}removeOverlaysForBatchId(t,e,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(t,e,s){const o=aa(),u=e.length+1,c=new gt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(t,e,s,o){let u=new ce(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=aa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=aa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=o)););return J.resolve(d)}St(t,e,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new PO(e,s));let u=this.qr.get(e);u===void 0&&(u=kt(),this.qr.set(e,u)),this.qr.set(e,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(){this.Qr=new Oe(ze.$r),this.Ur=new Oe(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const s=new ze(t,e);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Gr(new ze(t,e))}zr(t,e){t.forEach((s=>this.removeReference(s,e)))}jr(t){const e=new gt(new Jt([])),s=new ze(e,t),o=new ze(e,t+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new gt(new Jt([])),s=new ze(e,t),o=new ze(e,t+1);let u=kt();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new ze(t,0),s=this.Qr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class ze{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return gt.comparator(t.key,e.key)||Pt(t.Yr,e.Yr)}static Kr(t,e){return Pt(t.Yr,e.Yr)||gt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(ze.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new OO(u,e,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new ze(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return J.resolve(c)}lookupMutationBatch(t,e){return J.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,o=this.ei(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?iy:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new ze(e,0),o=new ze(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Oe(Pt);return e.forEach((o=>{const u=new ze(o,0),c=new ze(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{s=s.add(d.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,o=s.length+1;let u=s;gt.isDocumentKey(u)||(u=u.child(""));const c=new ze(new gt(u),0);let d=new Oe(Pt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)}),c),J.resolve(this.ti(d))}ti(t){const e=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Ht(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(e.mutations,(o=>{const u=new ze(o.key,e.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,e){const s=new ze(e,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(t){this.ri=t,this.docs=(function(){return new ce(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return J.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(e))}getEntries(t,e){let s=ds();return e.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(t,e,s,o){let u=ds();const c=e.path,d=new gt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||QN(YN(v),s)<=0||(o.has(v.key)||xf(e,v))&&(u=u.insert(v.key,v.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,e,s,o){Tt(9500)}ii(t,e){return J.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new EP(this)}getSize(t){return J.resolve(this.size)}}class EP extends dP{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),J.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(t){this.persistence=t,this.si=new pa((e=>ry(e)),ay),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.oi=0,this._i=new fy,this.targetCount=0,this.ai=ko.ur()}forEachTarget(t,e){return this.si.forEach(((s,o)=>e(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.oi&&(this.oi=e),J.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new ko(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,J.resolve()}updateTargetData(t,e){return this.Pr(e),J.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,e,s){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,e){const s=this.si.get(e)||null;return J.resolve(s)}addMatchingKeys(t,e,s){return this._i.Wr(e,s),J.resolve()}removeMatchingKeys(t,e,s){this._i.zr(e,s);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),J.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),J.resolve()}getMatchingKeysForTargetId(t,e){const s=this._i.Hr(e);return J.resolve(s)}containsKey(t,e){return J.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(t,e){this.ui={},this.overlays={},this.ci=new bf(0),this.li=!1,this.li=!0,this.hi=new vP,this.referenceDelegate=t(this),this.Pi=new AP(this),this.indexManager=new aP,this.remoteDocumentCache=(function(o){return new TP(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new sP(e),this.Ii=new gP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new yP,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ui[t.toKey()];return s||(s=new _P(e,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,s){ct("MemoryPersistence","Starting transaction:",t);const o=new SP(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,e))))}}class SP extends $N{constructor(t){super(),this.currentSequenceNumber=t}}class dy{constructor(t){this.persistence=t,this.Ri=new fy,this.Vi=null}static mi(t){return new dy(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.fi.delete(s.toString()),J.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),J.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const o=gt.fromPath(s);return this.gi(t,o).next((u=>{u||e.removeEntry(o,wt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((s=>{s?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return J.or([()=>J.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class of{constructor(t,e){this.persistence=t,this.pi=new pa((s=>JN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=fP(this,e)}static mi(t,e){return new of(t,e)}Ei(){}di(t){return J.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>e.next((o=>s+o))))}wr(t){let e=0;return this.pr(t,(s=>{e++})).next((()=>e))}pr(t,e){return J.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?J.resolve():e(o)))))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,e).next((d=>{d||(s++,u.removeEntry(c,wt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),J.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),J.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=kh(t.data.value)),e}br(t,e,s){return J.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(t,e,s,o){this.targetId=t,this.fromCache=e,this.Es=s,this.ds=o}static As(t,e){let s=kt(),o=kt();for(const u of e.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new my(t,e.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return yM()?8:WN(an())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,o){const u={result:null};return this.ys(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,e,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new bP;return this.Ss(t,e,c).next((d=>{if(u.result=d,this.Vs)return this.bs(t,e,c,d.size)}))})).next((()=>u.result))}bs(t,e,s,o){return s.documentReadCount<this.fs?(co()<=Ot.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",ho(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(co()<=Ot.DEBUG&&ct("QueryEngine","Query:",ho(e),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(co()<=Ot.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",ho(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wi(e))):J.resolve())}ys(t,e){if(nA(e))return J.resolve(null);let s=wi(e);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=sf(e,null,"F"),s=wi(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const c=kt(...u);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(e,d);return this.Cs(e,g,c,p.readTime)?this.ys(t,sf(e,null,"F")):this.vs(t,g,e,p)}))))})))))}ws(t,e,s,o){return nA(e)||o.isEqual(wt.min())?J.resolve(null):this.ps.getDocuments(t,s).next((u=>{const c=this.Ds(e,u);return this.Cs(e,c,s,o)?J.resolve(null):(co()<=Ot.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(e)),this.vs(t,c,e,KN(o,Cu)).next((d=>d)))}))}Ds(t,e){let s=new Oe(Db(t));return e.forEach(((o,u)=>{xf(t,u)&&(s=s.add(u))})),s}Cs(t,e,s,o){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,s){return co()<=Ot.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",ho(e)),this.ps.getDocumentsMatchingQuery(t,e,ur.min(),s)}vs(t,e,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="LocalStore",RP=3e8;class IP{constructor(t,e,s,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new ce(Pt),this.xs=new pa((u=>ry(u)),ay),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function CP(n,t,e,s){return new IP(n,t,e,s)}async function tw(n,t){const e=Rt(n);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return e.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],d=[];let p=kt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return e.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function xP(n,t){const e=Rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const E=g.batch,A=E.keys();let C=J.resolve();return A.forEach((V=>{C=C.next((()=>v.getEntry(p,V))).next((F=>{const z=g.docVersions.get(V);Ht(z!==null,48541),F.version.compareTo(z)<0&&(E.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),v.addEntry(F)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(e,s,t,u).next((()=>u.apply(s))).next((()=>e.mutationQueue.performConsistencyCheck(s))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=kt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(s,o)))}))}function ew(n){const t=Rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function DP(n,t){const e=Rt(n),s=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const d=[];t.targetChanges.forEach(((v,E)=>{const A=o.get(E);if(!A)return;d.push(e.Pi.removeMatchingKeys(u,v.removedDocuments,E).next((()=>e.Pi.addMatchingKeys(u,v.addedDocuments,E))));let C=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?C=C.withResumeToken(We.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,s)),o=o.insert(E,C),(function(F,z,tt){return F.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=RP?!0:tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0})(A,C,v)&&d.push(e.Pi.updateTargetData(u,C))}));let p=ds(),g=kt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(VP(u,c,t.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(wt.min())){const v=e.Pi.getLastRemoteSnapshotVersion(u).next((E=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(v)}return J.waitFor(d).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.Ms=o,u)))}function VP(n,t,e){let s=kt(),o=kt();return e.forEach((u=>s=s.add(u))),t.getEntries(n,s).next((u=>{let c=ds();return e.forEach(((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(wt.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):ct(py,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function MP(n,t){const e=Rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=iy),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function NP(n,t){const e=Rt(n);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return e.Pi.getTargetData(s,t).next((u=>u?(o=u,J.resolve(o)):e.Pi.allocateTargetId(s).next((c=>(o=new Js(t,c,"TargetPurposeListen",s.currentSequenceNumber),e.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=e.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(s.targetId,s),e.xs.set(t,s.targetId)),s}))}async function og(n,t,e){const s=Rt(n),o=s.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Ko(c))throw c;ct(py,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function pA(n,t,e){const s=Rt(n);let o=wt.min(),u=kt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const E=Rt(p),A=E.xs.get(v);return A!==void 0?J.resolve(E.Ms.get(A)):E.Pi.getTargetData(g,v)})(s,c,wi(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,e?o:wt.min(),e?u:kt()))).next((d=>(OP(s,vO(t),d),{documents:d,Qs:u})))))}function OP(n,t,e){let s=n.Os.get(t)||wt.min();e.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),n.Os.set(t,s)}class gA{constructor(){this.activeTargetIds=bO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PP{constructor(){this.Mo=new gA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,s){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new gA,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="ConnectivityMonitor";class vA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(yA,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(yA,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih=null;function lg(){return Ih===null?Ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ih++,"0x"+Ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="RestConnection",LP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UP{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===tf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,e,s,o,u){const c=lg(),d=this.zo(t,e.toUriEncodedString());ct(vp,`Sending RPC '${t}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(d),v=zo(g);return this.Jo(t,d,p,s,v).then((E=>(ct(vp,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw Vo(vp,`RPC '${t}' ${c} failed with error: `,E,"url: ",d,"request:",s),E}))}Ho(t,e,s,o,u,c){return this.Go(t,e,s,o,u)}jo(t,e,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const s=LP[t];return`${this.Uo}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class jP extends UP{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,o,u){const c=lg();return new Promise(((d,p)=>{const g=new ib;g.setWithCredentials(!0),g.listenOnce(sb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ph.NO_ERROR:const E=g.getResponseJson();ct(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case Ph.TIMEOUT:ct(en,`RPC '${t}' ${c} timed out`),p(new ot(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ph.HTTP_ERROR:const A=g.getStatus();if(ct(en,`RPC '${t}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const V=C?.error;if(V&&V.status&&V.message){const F=(function(tt){const nt=tt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(nt)>=0?nt:X.UNKNOWN})(V.status);p(new ot(F,V.message))}else p(new ot(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ot(X.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ct(en,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);ct(en,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",v,s,15)}))}T_(t,e,s){const o=lg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=ob(),d=ab(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,e,s),p.encodeInitMessageHeaders=!0;const v=u.join("");ct(en,`Creating RPC '${t}' stream ${o}: ${v}`,p);const E=c.createWebChannel(v,p);this.I_(E);let A=!1,C=!1;const V=new BP({Yo:z=>{C?ct(en,`Not sending because RPC '${t}' stream ${o} is closed:`,z):(A||(ct(en,`Opening RPC '${t}' stream ${o} transport.`),E.open(),A=!0),ct(en,`RPC '${t}' stream ${o} sending:`,z),E.send(z))},Zo:()=>E.close()}),F=(z,tt,nt)=>{z.listen(tt,(W=>{try{nt(W)}catch(dt){setTimeout((()=>{throw dt}),0)}}))};return F(E,ou.EventType.OPEN,(()=>{C||(ct(en,`RPC '${t}' stream ${o} transport opened.`),V.o_())})),F(E,ou.EventType.CLOSE,(()=>{C||(C=!0,ct(en,`RPC '${t}' stream ${o} transport closed`),V.a_(),this.E_(E))})),F(E,ou.EventType.ERROR,(z=>{C||(C=!0,Vo(en,`RPC '${t}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),V.a_(new ot(X.UNAVAILABLE,"The operation could not be completed")))})),F(E,ou.EventType.MESSAGE,(z=>{if(!C){const tt=z.data[0];Ht(!!tt,16349);const nt=tt,W=nt?.error||nt[0]?.error;if(W){ct(en,`RPC '${t}' stream ${o} received error:`,W);const dt=W.status;let st=(function(w){const R=we[w];if(R!==void 0)return qb(R)})(dt),mt=W.message;st===void 0&&(st=X.INTERNAL,mt="Unknown error status: "+dt+" with message "+W.message),C=!0,V.a_(new ot(st,mt)),E.close()}else ct(en,`RPC '${t}' stream ${o} received:`,tt),V.u_(tt)}})),F(d,rb.STAT_EVENT,(z=>{z.stat===$p.PROXY?ct(en,`RPC '${t}' stream ${o} detected buffering proxy`):z.stat===$p.NOPROXY&&ct(en,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function _p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(n){return new HO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t,e,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="PersistentStream";class iw{constructor(t,e,s,o,u,c,d,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nw(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===X.RESOURCE_EXHAUSTED?(fs(e.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===e&&this.G_(s,o)}),(s=>{t((()=>{const o=new ot(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,e){const s=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(_A,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ct(_A,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zP extends iw{constructor(t,e,s,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=YO(this.serializer,t),s=(function(u){if(!("targetChange"in u))return wt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?wt.min():c.readTime?Ri(c.readTime):wt.min()})(t);return this.listener.H_(e,s)}Y_(t){const e={};e.database=ag(this.serializer),e.addTarget=(function(u,c){let d;const p=c.target;if(d=eg(p)?{documents:$O(u,p)}:{query:WO(u,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Gb(u,c.resumeToken);const g=ig(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(wt.min())>0){d.readTime=af(u,c.snapshotVersion.toTimestamp());const g=ig(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=JO(this.serializer,t);s&&(e.labels=s),this.q_(e)}Z_(t){const e={};e.database=ag(this.serializer),e.removeTarget=t,this.q_(e)}}class qP extends iw{constructor(t,e,s,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=XO(t.writeResults,t.commitTime),s=Ri(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=ag(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((s=>QO(this.serializer,s)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{}class HP extends FP{constructor(t,e,s,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,sg(e,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot(X.UNKNOWN,u.toString())}))}Ho(t,e,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,sg(e,s),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(X.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GP{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(e),this.aa=!1):ct("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class KP{constructor(t,e,s,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{ya(this)&&(ct(ha,"Restarting streams for network reachability change."),await(async function(p){const g=Rt(p);g.Ea.add(4),await Gu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Of(g)})(this))}))})),this.Ra=new GP(s,o)}}async function Of(n){if(ya(n))for(const t of n.da)await t(!0)}async function Gu(n){for(const t of n.da)await t(!1)}function sw(n,t){const e=Rt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),_y(e)?vy(e):Yo(e).O_()&&yy(e,t))}function gy(n,t){const e=Rt(n),s=Yo(e);e.Ia.delete(t),s.O_()&&rw(e,t),e.Ia.size===0&&(s.O_()?s.L_():ya(e)&&e.Ra.set("Unknown"))}function yy(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Yo(n).Y_(t)}function rw(n,t){n.Va.Ue(t),Yo(n).Z_(t)}function vy(n){n.Va=new jO({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Yo(n).start(),n.Ra.ua()}function _y(n){return ya(n)&&!Yo(n).x_()&&n.Ia.size>0}function ya(n){return Rt(n).Ea.size===0}function aw(n){n.Va=void 0}async function YP(n){n.Ra.set("Online")}async function QP(n){n.Ia.forEach(((t,e)=>{yy(n,t)}))}async function XP(n,t){aw(n),_y(n)?(n.Ra.ha(t),vy(n)):n.Ra.set("Unknown")}async function $P(n,t,e){if(n.Ra.set("Online"),t instanceof Hb&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(n,t)}catch(s){ct(ha,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await lf(n,s)}else if(t instanceof Bh?n.Va.Ze(t):t instanceof Fb?n.Va.st(t):n.Va.tt(t),!e.isEqual(wt.min()))try{const s=await ew(n.localStore);e.compareTo(s)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(We.EMPTY_BYTE_STRING,v.snapshotVersion)),rw(u,p);const E=new Js(v.target,p,g,v.sequenceNumber);yy(u,E)})),u.remoteSyncer.applyRemoteEvent(d)})(n,e)}catch(s){ct(ha,"Failed to raise snapshot:",s),await lf(n,s)}}async function lf(n,t,e){if(!Ko(t))throw t;n.Ea.add(1),await Gu(n),n.Ra.set("Offline"),e||(e=()=>ew(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ct(ha,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Of(n)}))}function ow(n,t){return t().catch((e=>lf(n,e,t)))}async function Pf(n){const t=Rt(n),e=dr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:iy;for(;WP(t);)try{const o=await MP(t.localStore,s);if(o===null){t.Ta.length===0&&e.L_();break}s=o.batchId,ZP(t,o)}catch(o){await lf(t,o)}lw(t)&&uw(t)}function WP(n){return ya(n)&&n.Ta.length<10}function ZP(n,t){n.Ta.push(t);const e=dr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function lw(n){return ya(n)&&!dr(n).x_()&&n.Ta.length>0}function uw(n){dr(n).start()}async function JP(n){dr(n).ra()}async function tk(n){const t=dr(n);for(const e of n.Ta)t.ea(e.mutations)}async function ek(n,t,e){const s=n.Ta.shift(),o=uy.from(s,t,e);await ow(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Pf(n)}async function nk(n,t){t&&dr(n).X_&&await(async function(s,o){if((function(c){return LO(c)&&c!==X.ABORTED})(o.code)){const u=s.Ta.shift();dr(s).B_(),await ow(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Pf(s)}})(n,t),lw(n)&&uw(n)}async function TA(n,t){const e=Rt(n);e.asyncQueue.verifyOperationInProgress(),ct(ha,"RemoteStore received new credentials");const s=ya(e);e.Ea.add(3),await Gu(e),s&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Of(e)}async function ik(n,t){const e=Rt(n);t?(e.Ea.delete(2),await Of(e)):t||(e.Ea.add(2),await Gu(e),e.Ra.set("Unknown"))}function Yo(n){return n.ma||(n.ma=(function(e,s,o){const u=Rt(e);return u.sa(),new zP(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:YP.bind(null,n),t_:QP.bind(null,n),r_:XP.bind(null,n),H_:$P.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),_y(n)?vy(n):n.Ra.set("Unknown")):(await n.ma.stop(),aw(n))}))),n.ma}function dr(n){return n.fa||(n.fa=(function(e,s,o){const u=Rt(e);return u.sa(),new qP(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:JP.bind(null,n),r_:nk.bind(null,n),ta:tk.bind(null,n),na:ek.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Pf(n)):(await n.fa.stop(),n.Ta.length>0&&(ct(ha,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(t,e,s,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,o,u){const c=Date.now()+s,d=new Ty(t,e,c,o,u);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ey(n,t){if(fs("AsyncQueue",`${t}: ${n}`),Ko(n))return new ot(X.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{static emptySet(t){return new So(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||gt.comparator(e.key,s.key):(e,s)=>gt.comparator(e.key,s.key),this.keyedMap=lu(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof So)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new So;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.ga=new ce(gt.comparator)}track(t){const e=t.doc.key,s=this.ga.get(e);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(e,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(e):t.type===1&&s.type===2?this.ga=this.ga.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,s)=>{t.push(s)})),t}}class Lo{constructor(t,e,s,o,u,c,d,p,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,o,u){const c=[];return e.forEach((d=>{c.push({type:0,doc:d})})),new Lo(t,e,So.emptySet(e),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class rk{constructor(){this.queries=AA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const o=Rt(e),u=o.queries;o.queries=AA(),u.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new ot(X.ABORTED,"Firestore shutting down"))}}function AA(){return new pa((n=>xb(n)),Cf)}async function ak(n,t){const e=Rt(n);let s=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new sk,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const d=Ey(c,`Initialization of query '${ho(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Ay(e)}async function ok(n,t){const e=Rt(n),s=t.query;let o=3;const u=e.queries.get(s);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function lk(n,t){const e=Rt(n);let s=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&Ay(e)}function uk(n,t,e){const s=Rt(n),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);s.queries.delete(t)}function Ay(n){n.Ca.forEach((t=>{t.next()}))}var ug,SA;(SA=ug||(ug={})).Ma="default",SA.Cache="cache";class ck{constructor(t,e,s){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Lo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const s=e!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ug.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t){this.key=t}}class hw{constructor(t){this.key=t}}class hk{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=Db(t),this.tu=new So(this.eu)}get nu(){return this.Ya}ru(t,e){const s=e?e.iu:new EA,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,E)=>{const A=o.get(v),C=xf(this.query,E)?E:null,V=!!A&&this.mutatedKeys.has(A.key),F=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let z=!1;A&&C?A.data.isEqual(C.data)?V!==F&&(s.track({type:3,doc:C}),z=!0):this.su(A,C)||(s.track({type:2,doc:C}),z=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(d=!0)):!A&&C?(s.track({type:0,doc:C}),z=!0):A&&!C&&(s.track({type:1,doc:A}),z=!0,(p||g)&&(d=!0)),z&&(C?(c=c.add(C),u=F?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:d,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,E)=>(function(C,V){const F=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:z})}};return F(C)-F(V)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(s),o=o??!1;const d=e&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Lo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new EA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const e=[];return t.forEach((s=>{this.Xa.has(s)||e.push(new hw(s))})),this.Xa.forEach((s=>{t.has(s)||e.push(new cw(s))})),e}cu(t){this.Ya=t.Qs,this.Xa=kt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sy="SyncEngine";class fk{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class dk{constructor(t){this.key=t,this.hu=!1}}class mk{constructor(t,e,s,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new pa((d=>xb(d)),Cf),this.Iu=new Map,this.Eu=new Set,this.du=new ce(gt.comparator),this.Au=new Map,this.Ru=new fy,this.Vu={},this.mu=new Map,this.fu=ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pk(n,t,e=!0){const s=yw(n);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await fw(s,t,e,!0),o}async function gk(n,t){const e=yw(n);await fw(e,t,!0,!1)}async function fw(n,t,e,s){const o=await NP(n.localStore,wi(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,e);let d;return s&&(d=await yk(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&e&&sw(n.remoteStore,o),d}async function yk(n,t,e,s,o){n.pu=(E,A,C)=>(async function(F,z,tt,nt){let W=z.view.ru(tt);W.Cs&&(W=await pA(F.localStore,z.query,!1).then((({documents:M})=>z.view.ru(M,W))));const dt=nt&&nt.targetChanges.get(z.targetId),st=nt&&nt.targetMismatches.get(z.targetId)!=null,mt=z.view.applyChanges(W,F.isPrimaryClient,dt,st);return wA(F,z.targetId,mt.au),mt.snapshot})(n,E,A,C);const u=await pA(n.localStore,t,!0),c=new hk(t,u.Qs),d=c.ru(u.documents),p=Hu.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",o),g=c.applyChanges(d,n.isPrimaryClient,p);wA(n,e,g.au);const v=new fk(t,e,c);return n.Tu.set(t,v),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function vk(n,t,e){const s=Rt(n),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!Cf(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await og(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),e&&gy(s.remoteStore,o.targetId),cg(s,o.targetId)})).catch(Go)):(cg(s,o.targetId),await og(s.localStore,o.targetId,!0))}async function _k(n,t){const e=Rt(n),s=e.Tu.get(t),o=e.Iu.get(s.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),gy(e.remoteStore,s.targetId))}async function Tk(n,t,e){const s=Ik(n);try{const o=await(function(c,d){const p=Rt(c),g=se.now(),v=d.reduce(((C,V)=>C.add(V.key)),kt());let E,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let V=ds(),F=kt();return p.Ns.getEntries(C,v).next((z=>{V=z,V.forEach(((tt,nt)=>{nt.isValidDocument()||(F=F.add(tt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,V))).next((z=>{E=z;const tt=[];for(const nt of d){const W=MO(nt,E.get(nt.key).overlayedDocument);W!=null&&tt.push(new ga(nt.key,W,Eb(W.value.mapValue),os.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,tt,d)})).next((z=>{A=z;const tt=z.applyToLocalDocumentSet(E,F);return p.documentOverlayCache.saveOverlays(C,z.batchId,tt)}))})).then((()=>({batchId:A.batchId,changes:Mb(E)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new ce(Pt)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,e),await Ku(s,o.changes),await Pf(s.remoteStore)}catch(o){const u=Ey(o,"Failed to persist write");e.reject(u)}}async function dw(n,t){const e=Rt(n);try{const s=await DP(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ht(c.hu,14607):o.removedDocuments.size>0&&(Ht(c.hu,42227),c.hu=!1))})),await Ku(e,s,t)}catch(s){await Go(s)}}function bA(n,t,e){const s=Rt(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const o=[];s.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=Rt(c);p.onlineState=d;let g=!1;p.queries.forEach(((v,E)=>{for(const A of E.Sa)A.va(d)&&(g=!0)})),g&&Ay(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Ek(n,t,e){const s=Rt(n);s.sharedClientState.updateQueryState(t,"rejected",e);const o=s.Au.get(t),u=o&&o.key;if(u){let c=new ce(gt.comparator);c=c.insert(u,sn.newNoDocument(u,wt.min()));const d=kt().add(u),p=new Mf(wt.min(),new Map,new ce(Pt),c,d);await dw(s,p),s.du=s.du.remove(u),s.Au.delete(t),by(s)}else await og(s.localStore,t,!1).then((()=>cg(s,t,e))).catch(Go)}async function Ak(n,t){const e=Rt(n),s=t.batch.batchId;try{const o=await xP(e.localStore,t);pw(e,s,null),mw(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await Ku(e,o)}catch(o){await Go(o)}}async function Sk(n,t,e){const s=Rt(n);try{const o=await(function(c,d){const p=Rt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((E=>(Ht(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,t);pw(s,t,e),mw(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await Ku(s,o)}catch(o){await Go(o)}}function mw(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function pw(n,t,e){const s=Rt(n);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function cg(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Iu.get(t))n.Tu.delete(s),e&&n.Pu.yu(s,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((s=>{n.Ru.containsKey(s)||gw(n,s)}))}function gw(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(gy(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),by(n))}function wA(n,t,e){for(const s of e)s instanceof cw?(n.Ru.addReference(s.key,t),bk(n,s)):s instanceof hw?(ct(Sy,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,t),n.Ru.containsKey(s.key)||gw(n,s.key)):Tt(19791,{wu:s})}function bk(n,t){const e=t.key,s=e.path.canonicalString();n.du.get(e)||n.Eu.has(s)||(ct(Sy,"New document in limbo: "+e),n.Eu.add(s),by(n))}function by(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new gt(Jt.fromString(t)),s=n.fu.next();n.Au.set(s,new dk(e)),n.du=n.du.insert(e,s),sw(n.remoteStore,new Js(wi(Cb(e.path)),s,"TargetPurposeLimboResolution",bf.ce))}}async function Ku(n,t,e){const s=Rt(n),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,t,e).then((g=>{if((g||e)&&s.isPrimaryClient){const v=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=my.As(p.targetId,g);u.push(v)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const v=Rt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>J.forEach(g,(A=>J.forEach(A.Es,(C=>v.persistence.referenceDelegate.addReference(E,A.targetId,C))).next((()=>J.forEach(A.ds,(C=>v.persistence.referenceDelegate.removeReference(E,A.targetId,C)))))))))}catch(E){if(!Ko(E))throw E;ct(py,"Failed to update sequence numbers: "+E)}for(const E of g){const A=E.targetId;if(!E.fromCache){const C=v.Ms.get(A),V=C.snapshotVersion,F=C.withLastLimboFreeSnapshotVersion(V);v.Ms=v.Ms.insert(A,F)}}})(s.localStore,u))}async function wk(n,t){const e=Rt(n);if(!e.currentUser.isEqual(t)){ct(Sy,"User change. New user:",t.toKey());const s=await tw(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new ot(X.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ku(e,s.Ls)}}function Rk(n,t){const e=Rt(n),s=e.Au.get(t);if(s&&s.hu)return kt().add(s.key);{let o=kt();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const d=e.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function yw(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=dw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ek.bind(null,t),t.Pu.H_=lk.bind(null,t.eventManager),t.Pu.yu=uk.bind(null,t.eventManager),t}function Ik(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ak.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sk.bind(null,t),t}class uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Nf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return CP(this.persistence,new wP,t.initialUser,this.serializer)}Cu(t){return new Jb(dy.mi,this.serializer)}Du(t){return new PP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uf.provider={build:()=>new uf};class Ck extends uf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Ht(this.persistence.referenceDelegate instanceof of,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new cP(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new Jb((s=>of.mi(s,e)),this.serializer)}}class hg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>bA(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wk.bind(null,this.syncEngine),await ik(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new rk})()}createDatastore(t){const e=Nf(t.databaseInfo.databaseId),s=(function(u){return new jP(u)})(t.databaseInfo);return(function(u,c,d,p){return new HP(u,c,d,p)})(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,o,u,c,d){return new KP(s,o,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(e=>bA(this.syncEngine,e,0)),(function(){return vA.v()?new vA:new kP})())}createSyncEngine(t,e){return(function(o,u,c,d,p,g,v){const E=new mk(o,u,c,d,p,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const s=Rt(e);ct(ha,"RemoteStore shutting down."),s.Ea.add(5),await Gu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hg.provider={build:()=>new hg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):fs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="FirestoreClient";class Dk{constructor(t,e,s,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=ny.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{ct(mr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ct(mr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=Ey(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Tp(n,t){n.asyncQueue.verifyOperationInProgress(),ct(mr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await tw(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function RA(n,t){n.asyncQueue.verifyOperationInProgress();const e=await Vk(n);ct(mr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((s=>TA(t.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>TA(t.remoteStore,o))),n._onlineComponents=t}async function Vk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ct(mr,"Using user provided OfflineComponentProvider");try{await Tp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Vo("Error using user provided cache. Falling back to memory cache: "+e),await Tp(n,new uf)}}else ct(mr,"Using default OfflineComponentProvider"),await Tp(n,new Ck(void 0));return n._offlineComponents}async function vw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ct(mr,"Using user provided OnlineComponentProvider"),await RA(n,n._uninitializedComponentsProvider._online)):(ct(mr,"Using default OnlineComponentProvider"),await RA(n,new hg))),n._onlineComponents}function Mk(n){return vw(n).then((t=>t.syncEngine))}async function Nk(n){const t=await vw(n),e=t.eventManager;return e.onListen=pk.bind(null,t.syncEngine),e.onUnlisten=vk.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=gk.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=_k.bind(null,t.syncEngine),e}function Ok(n,t,e={}){const s=new ir;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,p,g){const v=new xk({next:A=>{v.Nu(),c.enqueueAndForget((()=>ok(u,E))),A.fromCache&&p.source==="server"?g.reject(new ot(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new ck(d,v,{includeMetadataChanges:!0,qa:!0});return ak(u,E)})(await Nk(n),n.asyncQueue,t,e,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="firestore.googleapis.com",CA=!0;class xA{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Tw,this.ssl=CA}else this.host=t.host,this.ssl=t.ssl??CA;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Zb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<lP)throw new ot(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}HN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_w(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class kf{constructor(t,e,s,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ON;switch(s.type){case"firstParty":return new UN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=IA.get(e);s&&(ct("ComponentProvider","Removing Datastore"),IA.delete(e),s.terminate())})(this),Promise.resolve()}}function Pk(n,t,e,s={}){n=Zh(n,kf);const o=zo(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${e}`;o&&(Y1(`https://${d}`),Q1("Firestore",!0)),u.host!==Tw&&u.host!==d&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:s};if(!ua(p,c)&&(n._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=nn.MOCK_USER;else{g=lM(s.mockUserToken,n._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ot(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new nn(E)}n._authCredentials=new PN(new ub(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ys(this.firestore,t,this._query)}}class qe{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qe(this.firestore,t,this._key)}toJSON(){return{type:qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(qu(e,qe._jsonSchema))return new qe(t,s||null,new gt(Jt.fromString(e.referencePath)))}}qe._jsonSchemaVersion="firestore/documentReference/1.0",qe._jsonSchema={type:Ce("string",qe._jsonSchemaVersion),referencePath:Ce("string")};class sr extends ys{constructor(t,e,s){super(t,e,Cb(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qe(this.firestore,null,new gt(t))}withConverter(t){return new sr(this.firestore,t,this._path)}}function Ew(n,t,...e){if(n=yn(n),cb("collection","path",t),n instanceof kf){const s=Jt.fromString(t,...e);return FE(s),new sr(n,null,s)}{if(!(n instanceof qe||n instanceof sr))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Jt.fromString(t,...e));return FE(s),new sr(n.firestore,null,s)}}function kk(n,t,...e){if(n=yn(n),arguments.length===1&&(t=ny.newId()),cb("doc","path",t),n instanceof kf){const s=Jt.fromString(t,...e);return qE(s),new qe(n,null,new gt(s))}{if(!(n instanceof qe||n instanceof sr))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Jt.fromString(t,...e));return qE(s),new qe(n.firestore,n instanceof sr?n.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="AsyncQueue";class VA{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nw(this,"async_queue_retry"),this._c=()=>{const s=_p();s&&ct(DA,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=_p();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=_p();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ko(t))throw t;ct(DA,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",MA(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Ty.createAndSchedule(this,t,e,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:MA(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function MA(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class wy extends kf{constructor(t,e,s,o){super(t,e,s,o),this.type="firestore",this._queue=new VA,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new VA(t),this._firestoreClient=void 0,await t}}}function Lk(n,t){const e=typeof n=="object"?n:J1(),s=typeof n=="string"?n:tf,o=ty(e,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=oM("firestore");u&&Pk(o,...u)}return o}function Aw(n){if(n._terminated)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Uk(n),n._firestoreClient}function Uk(n){const t=n._freezeSettings(),e=(function(o,u,c,d){return new nO(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,_w(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new Dk(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn(We.fromBase64String(t))}catch(e){throw new ot(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Fn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(qu(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Ce("string",Fn._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ot(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ot(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ot(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(t){if(qu(t,Ii._jsonSchema))return new Ii(t.latitude,t.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Ce("string",Ii._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(qu(t,Ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ci(t.vectorValues);throw new ot(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:Ce("string",Ci._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=/^__.*__$/;class jk{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new ga(t,this.data,this.fieldMask,e,this.fieldTransforms):new Fu(t,this.data,e,this.fieldTransforms)}}function Sw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:n})}}class Cy{constructor(t,e,s,o,u,c){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Cy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.gc(t),s}yc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return cf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Sw(this.Ac)&&Bk.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class zk{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Nf(t)}Cc(t,e,s,o=!1){return new Cy({Ac:t,methodName:e,Dc:s,path:$e.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xy(n){const t=n._freezeSettings(),e=Nf(n._databaseId);return new zk(n._databaseId,!!t.ignoreUndefinedProperties,e)}function qk(n,t,e,s,o,u={}){const c=n.Cc(u.merge||u.mergeFields?2:0,t,e,o);Iw("Data must be an object, but it was:",c,s);const d=ww(s,c);let p,g;if(u.merge)p=new ti(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const A=Fk(t,E,e);if(!c.contains(A))throw new ot(X.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Gk(v,A)||v.push(A)}p=new ti(v),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new jk(new qn(d),p,g)}class Dy extends Iy{_toFieldTransform(t){return new CO(t.path,new Nu)}isEqual(t){return t instanceof Dy}}function bw(n,t,e,s=!1){return Vy(e,n.Cc(s?4:3,t))}function Vy(n,t){if(Rw(n=yn(n)))return Iw("Unsupported field value:",t,n),ww(n,t);if(n instanceof Iy)return(function(s,o){if(!Sw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const d of s){let p=Vy(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(n,t)}return(function(s,o){if((s=yn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return wO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=se.fromDate(s);return{timestampValue:af(o.serializer,u)}}if(s instanceof se){const u=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:af(o.serializer,u)}}if(s instanceof Ii)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:Gb(o.serializer,s._byteString)};if(s instanceof qe){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ci)return(function(c,d){return{mapValue:{fields:{[_b]:{stringValue:Tb},[ef]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return ly(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Sf(s)}`)})(n,t)}function ww(n,t){const e={};return db(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):da(n,((s,o)=>{const u=Vy(o,t.mc(s));u!=null&&(e[s]=u)})),{mapValue:{fields:e}}}function Rw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof se||n instanceof Ii||n instanceof Fn||n instanceof qe||n instanceof Iy||n instanceof Ci)}function Iw(n,t,e){if(!Rw(e)||!hb(e)){const s=Sf(e);throw s==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+s)}}function Fk(n,t,e){if((t=yn(t))instanceof Ry)return t._internalPath;if(typeof t=="string")return Cw(n,t);throw cf("Field path arguments must be of type string or ",n,!1,void 0,e)}const Hk=new RegExp("[~\\*/\\[\\]]");function Cw(n,t,e){if(t.search(Hk)>=0)throw cf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Ry(...t.split("."))._internalPath}catch{throw cf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function cf(n,t,e,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new ot(X.INVALID_ARGUMENT,d+n+p)}function Gk(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(t,e,s,o,u){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Kk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Lf("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class Kk extends My{data(){return super.data()}}function Lf(n,t){return typeof t=="string"?Cw(n,t):t instanceof Ry?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ot(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ny{}class Uf extends Ny{}function NA(n,t,...e){let s=[];t instanceof Ny&&s.push(t),s=s.concat(e),(function(u){const c=u.filter((p=>p instanceof Oy)).length,d=u.filter((p=>p instanceof Bf)).length;if(c>1||c>0&&d>0)throw new ot(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class Bf extends Uf{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new Bf(t,e,s)}_apply(t){const e=this._parse(t);return xw(t._query,e),new ys(t.firestore,t.converter,ng(t._query,e))}_parse(t){const e=xy(t.firestore);return(function(u,c,d,p,g,v,E){let A;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ot(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){UA(E,v);const V=[];for(const F of E)V.push(LA(p,u,F));A={arrayValue:{values:V}}}else A=LA(p,u,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||UA(E,v),A=bw(d,c,E,v==="in"||v==="not-in");return Ie.create(g,v,A)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function OA(n,t,e){const s=t,o=Lf("where",n);return Bf._create(o,s,e)}class Oy extends Ny{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Oy(t,e)}_parse(t){const e=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return e.length===1?e[0]:ni.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,u){let c=o;const d=u.getFlattenedFilters();for(const p of d)xw(c,p),c=ng(c,p)})(t._query,e),new ys(t.firestore,t.converter,ng(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Py extends Uf{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Py(t,e)}_apply(t){const e=(function(o,u,c){if(o.startAt!==null)throw new ot(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ot(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mu(u,c)})(t._query,this._field,this._direction);return new ys(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new ma(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,e))}}function PA(n,t="asc"){const e=t,s=Lf("orderBy",n);return Py._create(s,e)}class ky extends Uf{constructor(t,e,s){super(),this.type=t,this._limit=e,this._limitType=s}static _create(t,e,s){return new ky(t,e,s)}_apply(t){return new ys(t.firestore,t.converter,sf(t._query,this._limit,this._limitType))}}function kA(n){return GN("limit",n),ky._create("limit",n,"F")}class Ly extends Uf{constructor(t,e,s){super(),this.type=t,this._docOrFields=e,this._inclusive=s}static _create(t,e,s){return new Ly(t,e,s)}_apply(t){const e=Xk(t,this.type,this._docOrFields,this._inclusive);return new ys(t.firestore,t.converter,(function(o,u){return new ma(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)})(t._query,e))}}function Qk(...n){return Ly._create("startAfter",n,!1)}function Xk(n,t,e,s){if(e[0]=yn(e[0]),e[0]instanceof My)return(function(u,c,d,p,g){if(!p)throw new ot(X.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const v=[];for(const E of Ao(u))if(E.field.isKeyField())v.push(nf(c,p.key));else{const A=p.data.field(E.field);if(Rf(A))throw new ot(X.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(A===null){const C=E.field.canonicalString();throw new ot(X.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${C}' (used as the orderBy) does not exist.`)}v.push(A)}return new Po(v,g)})(n._query,n.firestore._databaseId,t,e[0]._document,s);{const o=xy(n.firestore);return(function(c,d,p,g,v,E){const A=c.explicitOrderBy;if(v.length>A.length)throw new ot(X.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const C=[];for(let V=0;V<v.length;V++){const F=v[V];if(A[V].field.isKeyField()){if(typeof F!="string")throw new ot(X.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof F}`);if(!oy(c)&&F.indexOf("/")!==-1)throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${F}' contains a slash.`);const z=c.path.child(Jt.fromString(F));if(!gt.isDocumentKey(z))throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${z}' is not because it contains an odd number of segments.`);const tt=new gt(z);C.push(nf(d,tt))}else{const z=bw(p,g,F);C.push(z)}}return new Po(C,E)})(n._query,n.firestore._databaseId,o,t,e,s)}}function LA(n,t,e){if(typeof(e=yn(e))=="string"){if(e==="")throw new ot(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oy(t)&&e.indexOf("/")!==-1)throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(Jt.fromString(e));if(!gt.isDocumentKey(s))throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return nf(n,new gt(s))}if(e instanceof qe)return nf(n,e._key);throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sf(e)}.`)}function UA(n,t){if(!Array.isArray(n)||n.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function xw(n,t){const e=(function(o,u){for(const c of o)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ot(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class $k{convertValue(t,e="none"){switch(fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return da(t,((o,u)=>{s[o]=this.convertValue(u,e)})),s}convertVectorValue(t){const e=t.fields?.[ef].arrayValue?.values?.map((s=>_e(s.doubleValue)));return new Ci(e)}convertGeoPoint(t){return new Ii(_e(t.latitude),_e(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=If(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(xu(t));default:return null}}convertTimestamp(t){const e=cr(t);return new se(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=Jt.fromString(t);Ht(Wb(s),9688,{name:t});const o=new Du(s.get(1),s.get(3)),u=new gt(s.popFirst(5));return o.isEqual(e)||fs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(n,t,e){let s;return s=n?n.toFirestore(t):t,s}class Ch{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class bo extends My{constructor(t,e,s,o,u,c){super(t,e,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(Lf("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=bo._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}bo._jsonSchemaVersion="firestore/documentSnapshot/1.0",bo._jsonSchema={type:Ce("string",bo._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class jh extends bo{data(t={}){return super.data(t)}}class wo{constructor(t,e,s,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Ch(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new jh(this._firestore,this._userDataWriter,s.key,s,new Ch(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ot(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new jh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ch(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new jh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ch(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:Zk(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=wo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ny.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Zk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:n})}}wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:Ce("string",wo._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Jk extends $k{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new qe(this.firestore,null,e)}}function t4(n){n=Zh(n,ys);const t=Zh(n.firestore,wy),e=Aw(t),s=new Jk(t);return Yk(n._query),Ok(e,n._query).then((o=>new wo(t,s,n,o)))}function Dw(n,t){const e=Zh(n.firestore,wy),s=kk(n),o=Wk(n.converter,t);return e4(e,[qk(xy(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,os.exists(!1))]).then((()=>s))}function e4(n,t){return(function(s,o){const u=new ir;return s.asyncQueue.enqueueAndForget((async()=>Tk(await Mk(s),o,u))),u.promise})(Aw(n),t)}function Vw(){return new Dy("serverTimestamp")}(function(t,e=!0){(function(o){Ho=o})(Fo),lr(new cs("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new wy(new kN(s.getProvider("auth-internal")),new BN(c,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ot(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:e,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),as(UE,BE,t),as(UE,BE,"esm2020")})();var n4="firebase",i4="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(n4,i4,"app");function Mw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const s4=Mw,Nw=new qo("auth","Firebase",Mw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new Af("@firebase/auth");function r4(n,...t){hf.logLevel<=Ot.WARN&&hf.warn(`Auth (${Fo}): ${n}`,...t)}function zh(n,...t){hf.logLevel<=Ot.ERROR&&hf.error(`Auth (${Fo}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(n,...t){throw Uy(n,...t)}function xi(n,...t){return Uy(n,...t)}function Ow(n,t,e){const s={...s4(),[t]:e};return new qo("auth","Firebase",s).create(t,{appName:n.name})}function rr(n){return Ow(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uy(n,...t){if(typeof n!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(e,...s)}return Nw.create(n,...t)}function St(n,t,...e){if(!n)throw Uy(t,...e)}function ss(n){const t="INTERNAL ASSERTION FAILED: "+n;throw zh(t),new Error(t)}function ps(n,t){n||ss(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(){return typeof self<"u"&&self.location?.href||""}function a4(){return BA()==="http:"||BA()==="https:"}function BA(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a4()||mM()||"connection"in navigator)?navigator.onLine:!0}function l4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t,e){this.shortDelay=t,this.longDelay=e,ps(e>t,"Short delay should be less than long delay!"),this.isMobile=hM()||pM()}get(){return o4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(n,t){ps(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],h4=new Yu(3e4,6e4);function jf(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Qo(n,t,e,s,o={}){return kw(n,o,async()=>{let u={},c={};s&&(t==="GET"?c=s:u={body:JSON.stringify(s)});const d=zu({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:p,...u};return dM()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&zo(n.emulatorConfig.host)&&(g.credentials="include"),Pw.fetch()(await Uw(n,n.config.apiHost,e,d),g)})}async function kw(n,t,e){n._canInitEmulator=!1;const s={...u4,...t};try{const o=new f4(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw xh(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw xh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw xh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw xh(n,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ow(n,v,g);ms(n,v)}}catch(o){if(o instanceof gs)throw o;ms(n,"network-request-failed",{message:String(o)})}}async function Lw(n,t,e,s,o={}){const u=await Qo(n,t,e,s,o);return"mfaPendingCredential"in u&&ms(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function Uw(n,t,e,s){const o=`${t}${e}?${s}`,u=n,c=u.config.emulator?By(n.config,o):`${n.config.apiScheme}://${o}`;return c4.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class f4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(xi(this.auth,"network-request-failed")),h4.get())})}}function xh(n,t,e){const s={appName:n.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const o=xi(n,t,s);return o.customData._tokenResponse=e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(n,t){return Qo(n,"POST","/v1/accounts:delete",t)}async function ff(n,t){return Qo(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function m4(n,t=!1){const e=yn(n),s=await e.getIdToken(t),o=jy(s);St(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:Tu(Ep(o.auth_time)),issuedAtTime:Tu(Ep(o.iat)),expirationTime:Tu(Ep(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Ep(n){return Number(n)*1e3}function jy(n){const[t,e,s]=n.split(".");if(t===void 0||e===void 0||s===void 0)return zh("JWT malformed, contained fewer than 3 sections"),null;try{const o=F1(e);return o?JSON.parse(o):(zh("Failed to decode base64 JWT payload"),null)}catch(o){return zh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function jA(n){const t=jy(n);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(n,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof gs&&p4(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function p4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(n){const t=n.auth,e=await n.getIdToken(),s=await ku(n,ff(t,{idToken:e}));St(s?.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?Bw(o.providerUserInfo):[],c=v4(n.providerData,u),d=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,g=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new dg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function y4(n){const t=yn(n);await df(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function v4(n,t){return[...n.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function Bw(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4(n,t){const e=await kw(n,{},async()=>{const s=zu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,c=await Uw(n,o,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return n.emulatorConfig&&zo(n.emulatorConfig.host)&&(p.credentials="include"),Pw.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function T4(n,t){return Qo(n,"POST","/v2/accounts:revokeToken",jf(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):jA(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){St(t.length!==0,"internal-error");const e=jA(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:o,expiresIn:u}=await _4(t,e);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:o,expirationTime:u}=e,c=new Ro;return s&&(St(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),o&&(St(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(St(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(n,t){St(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ei{constructor({uid:t,auth:e,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new g4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await ku(this,this.stsTokenManager.getToken(this.auth,t));return St(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return m4(this,t)}reload(){return y4(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await df(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(rr(this.auth));const t=await this.getIdToken();return await ku(this,d4(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const s=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,d=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:C,providerData:V,stsTokenManager:F}=e;St(E&&F,t,"internal-error");const z=Ro.fromJSON(this.name,F);St(typeof E=="string",t,"internal-error"),Ys(s,t.name),Ys(o,t.name),St(typeof A=="boolean",t,"internal-error"),St(typeof C=="boolean",t,"internal-error"),Ys(u,t.name),Ys(c,t.name),Ys(d,t.name),Ys(p,t.name),Ys(g,t.name),Ys(v,t.name);const tt=new ei({uid:E,auth:t,email:o,emailVerified:A,displayName:s,isAnonymous:C,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:z,createdAt:g,lastLoginAt:v});return V&&Array.isArray(V)&&(tt.providerData=V.map(nt=>({...nt}))),p&&(tt._redirectEventId=p),tt}static async _fromIdTokenResponse(t,e,s=!1){const o=new Ro;o.updateFromServerResponse(e);const u=new ei({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await df(u),u}static async _fromGetAccountInfoResponse(t,e,s){const o=e.users[0];St(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Bw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,d=new Ro;d.updateFromIdToken(s);const p=new ei({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new dg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=new Map;function rs(n){ps(n instanceof Function,"Expected a class definition");let t=zA.get(n);return t?(ps(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,zA.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}jw.type="NONE";const qA=jw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(n,t,e){return`firebase:${n}:${t}:${e}`}class Io{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=qh(this.userKey,o.apiKey,u),this.fullPersistenceKey=qh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await ff(this.auth,{idToken:t}).catch(()=>{});return e?ei._fromGetAccountInfoResponse(this.auth,e,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new Io(rs(qA),t,s);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||rs(qA);const c=qh(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const A=await ff(t,{idToken:v}).catch(()=>{});if(!A)break;E=await ei._fromGetAccountInfoResponse(t,A,v)}else E=ei._fromJSON(t,v);g!==u&&(d=E),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Io(u,t,s):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Io(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Hw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Kw(t))return"Blackberry";if(Yw(t))return"Webos";if(qw(t))return"Safari";if((t.includes("chrome/")||Fw(t))&&!t.includes("edge/"))return"Chrome";if(Gw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(e);if(s?.length===2)return s[1]}return"Other"}function zw(n=an()){return/firefox\//i.test(n)}function qw(n=an()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Fw(n=an()){return/crios\//i.test(n)}function Hw(n=an()){return/iemobile/i.test(n)}function Gw(n=an()){return/android/i.test(n)}function Kw(n=an()){return/blackberry/i.test(n)}function Yw(n=an()){return/webos/i.test(n)}function zy(n=an()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function E4(n=an()){return zy(n)&&!!window.navigator?.standalone}function A4(){return gM()&&document.documentMode===10}function Qw(n=an()){return zy(n)||Gw(n)||Yw(n)||Kw(n)||/windows phone/i.test(n)||Hw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(n,t=[]){let e;switch(n){case"Browser":e=FA(an());break;case"Worker":e=`${FA(an())}-${n}`;break;default:e=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Fo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=u=>new Promise((c,d)=>{try{const p=t(u);c(p)}catch(p){d(p)}});s.onAbort=e,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(n,t={}){return Qo(n,"GET","/v2/passwordPolicy",jf(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=6;class R4{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??w4,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(t,e,s,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HA(this),this.idTokenSubscription=new HA(this),this.beforeStateQueue=new S4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=rs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Io.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await ff(this,{idToken:t}),s=await ei._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let s=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await df(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=l4()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Jn(this.app))return Promise.reject(rr(this));const e=t?yn(t):null;return e&&St(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Jn(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await b4(this),e=new R4(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new qo("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await T4(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&rs(t)||this._popupRedirectResolver;St(e,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[rs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,s,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Xw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&r4(`Error while retrieving App Check token: ${t.error}`),t?.token}}function zf(n){return yn(n)}class HA{constructor(t){this.auth=t,this.observer=null,this.addObserver=SM(e=>this.observer=e)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function C4(n){qy=n}function x4(n){return qy.loadJS(n)}function D4(){return qy.gapiScript}function V4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(n,t){const e=ty(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(ua(u,t??{}))return o;ms(o,"already-initialized")}return e.initialize({options:t})}function N4(n,t){const e=t?.persistence||[],s=(Array.isArray(e)?e:[e]).map(rs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t?.popupRedirectResolver)}function O4(n,t,e){const s=zf(n);St(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=$w(t),{host:c,port:d}=P4(t),p=d===null?"":`:${d}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(ua(g,s.config.emulator)&&ua(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,zo(c)?(Y1(`${u}//${c}${p}`),Q1("Auth",!0)):k4()}function $w(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function P4(n){const t=$w(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:GA(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:GA(c)}}}function GA(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function k4(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ss("not implemented")}_getIdTokenResponse(t){return ss("not implemented")}_linkToIdToken(t,e){return ss("not implemented")}_getReauthenticationResolver(t){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(n,t){return Lw(n,"POST","/v1/accounts:signInWithIdp",jf(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="http://localhost";class fa extends Ww{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new fa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ms("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=e;if(!s||!o)return null;const c=new fa(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Co(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,Co(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Co(t,e)}buildRequest(){const t={requestUri:L4,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=zu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends Zw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Qu{constructor(){super("facebook.com")}static credential(t){return fa._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return fa._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return $s.credential(e,s)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Qu{constructor(){super("github.com")}static credential(t){return fa._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Qu{constructor(){super("twitter.com")}static credential(t,e){return fa._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return Zs.credential(e,s)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(n,t){return Lw(n,"POST","/v1/accounts:signUp",jf(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,o=!1){const u=await ei._fromIdTokenResponse(t,s,o),c=KA(s);return new pr({user:u,providerId:c,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const o=KA(s);return new pr({user:t,providerId:o,_tokenResponse:s,operationType:e})}}function KA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B4(n){if(Jn(n.app))return Promise.reject(rr(n));const t=zf(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new pr({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await U4(t,{returnSecureToken:!0}),s=await pr._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends gs{constructor(t,e,s,o){super(e.code,e.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,mf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,o){return new mf(t,e,s,o)}}function Jw(n,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mf._fromErrorAndOperation(n,u,t,s):u})}async function j4(n,t,e=!1){const s=await ku(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return pr._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(n,t,e=!1){const{auth:s}=n;if(Jn(s.app))return Promise.reject(rr(s));const o="reauthenticate";try{const u=await ku(n,Jw(s,o,t,n),e);St(u.idToken,s,"internal-error");const c=jy(u.idToken);St(c,s,"internal-error");const{sub:d}=c;return St(n.uid===d,s,"user-mismatch"),pr._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ms(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(n,t,e=!1){if(Jn(n.app))return Promise.reject(rr(n));const s="signIn",o=await Jw(n,s,t),u=await pr._fromIdTokenResponse(n,s,o);return e||await n._updateCurrentUser(u.user),u}function F4(n,t,e,s){return yn(n).onIdTokenChanged(t,e,s)}function H4(n,t,e){return yn(n).beforeAuthStateChanged(t,e)}function G4(n,t,e,s){return yn(n).onAuthStateChanged(t,e,s)}const pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(pf,"1"),this.storage.removeItem(pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=1e3,Y4=10;class eR extends tR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),o=this.localCache[e];s!==o&&t(e,o,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!e&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);A4()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Y4):o()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},K4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}eR.type="LOCAL";const Q4=eR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR extends tR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}nR.type="SESSION";const iR=nR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const s=new qf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(e.origin,u)),p=await X4(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(n="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const g=Fy("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(A.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return window}function W4(n){Di().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function Z4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J4(){return navigator?.serviceWorker?.controller||null}function t3(){return sR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="firebaseLocalStorageDb",e3=1,gf="firebaseLocalStorage",aR="fbase_key";class Xu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Ff(n,t){return n.transaction([gf],t?"readwrite":"readonly").objectStore(gf)}function n3(){const n=indexedDB.deleteDatabase(rR);return new Xu(n).toPromise()}function mg(){const n=indexedDB.open(rR,e3);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(gf,{keyPath:aR})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(gf)?t(s):(s.close(),await n3(),t(await mg()))})})}async function YA(n,t,e){const s=Ff(n,!0).put({[aR]:t,value:e});return new Xu(s).toPromise()}async function i3(n,t){const e=Ff(n,!1).get(t),s=await new Xu(e).toPromise();return s===void 0?null:s.value}function QA(n,t){const e=Ff(n,!0).delete(t);return new Xu(e).toPromise()}const s3=800,r3=3;class oR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>r3)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qf._getInstance(t3()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Z4(),!this.activeServiceWorker)return;this.sender=new $4(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||J4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await mg();return await YA(t,pf,"1"),await QA(t,pf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>YA(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>i3(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>QA(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Ff(o,!1).getAll();return new Xu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),s3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oR.type="LOCAL";const a3=oR;new Yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(n,t){return t?rs(t):(St(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy extends Ww{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Co(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Co(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Co(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function l3(n){return q4(n.auth,new Hy(n),n.bypassAuthState)}function u3(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),z4(e,new Hy(n),n.bypassAuthState)}async function c3(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),j4(e,new Hy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t,e,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:o,tenantId:u,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return l3;case"linkViaPopup":case"linkViaRedirect":return c3;case"reauthViaPopup":case"reauthViaRedirect":return u3;default:ms(this.auth,"internal-error")}}resolve(t){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new Yu(2e3,1e4);class To extends lR{constructor(t,e,s,o,u){super(t,e,o,u),this.provider=s,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const t=Fy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,h3.get())};t()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="pendingRedirect",Fh=new Map;class d3 extends lR{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=Fh.get(this.auth._key());if(!t){try{const s=await m3(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}Fh.set(this.auth._key(),t)}return this.bypassAuthState||Fh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m3(n,t){const e=y3(t),s=g3(n);if(!await s._isAvailable())return!1;const o=await s._get(e)==="true";return await s._remove(e),o}function p3(n,t){Fh.set(n._key(),t)}function g3(n){return rs(n._redirectPersistence)}function y3(n){return qh(f3,n.config.apiKey,n.name)}async function v3(n,t,e=!1){if(Jn(n.app))return Promise.reject(rr(n));const s=zf(n),o=o3(s,t),c=await new d3(s,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=600*1e3;class T3{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!E3(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!uR(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";e.onError(xi(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=_3&&this.cachedEventUids.clear(),this.cachedEventUids.has(XA(t))}saveEventToCache(t){this.cachedEventUids.add(XA(t)),this.lastProcessedEventTime=Date.now()}}function XA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function uR({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function E3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A3(n,t={}){return Qo(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,b3=/^https?/;async function w3(n){if(n.config.emulator)return;const{authorizedDomains:t}=await A3(n);for(const e of t)try{if(R3(e))return}catch{}ms(n,"unauthorized-domain")}function R3(n){const t=fg(),{protocol:e,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===s}if(!b3.test(e))return!1;if(S3.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=new Yu(3e4,6e4);function $A(){const n=Di().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function C3(n){return new Promise((t,e)=>{function s(){$A(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$A(),e(xi(n,"network-request-failed"))},timeout:I3.get()})}if(Di().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Di().gapi?.load)s();else{const o=V4("iframefcb");return Di()[o]=()=>{gapi.load?s():e(xi(n,"network-request-failed"))},x4(`${D4()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw Hh=null,t})}let Hh=null;function x3(n){return Hh=Hh||C3(n),Hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=new Yu(5e3,15e3),V3="__/auth/iframe",M3="emulator/auth/iframe",N3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P3(n){const t=n.config;St(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?By(t,M3):`https://${n.config.authDomain}/${V3}`,s={apiKey:t.apiKey,appName:n.name,v:Fo},o=O3.get(n.config.apiHost);o&&(s.eid=o);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${e}?${zu(s).slice(1)}`}async function k3(n){const t=await x3(n),e=Di().gapi;return St(e,n,"internal-error"),t.open({where:document.body,url:P3(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N3,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=xi(n,"network-request-failed"),d=Di().setTimeout(()=>{u(c)},D3.get());function p(){Di().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U3=500,B3=600,j3="_blank",z3="http://localhost";class WA{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q3(n,t,e,s=U3,o=B3){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...L3,width:s.toString(),height:o.toString(),top:u,left:c},g=an().toLowerCase();e&&(d=Fw(g)?j3:e),zw(g)&&(t=t||z3,p.scrollbars="yes");const v=Object.entries(p).reduce((A,[C,V])=>`${A}${C}=${V},`,"");if(E4(g)&&d!=="_self")return F3(t||"",d),new WA(null);const E=window.open(t||"",d,v);St(E,n,"popup-blocked");try{E.focus()}catch{}return new WA(E)}function F3(n,t){const e=document.createElement("a");e.href=n,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="__/auth/handler",G3="emulator/auth/handler",K3=encodeURIComponent("fac");async function ZA(n,t,e,s,o,u){St(n.config.authDomain,n,"auth-domain-config-required"),St(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:s,v:Fo,eventId:o};if(t instanceof Zw){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",AM(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(t instanceof Qu){const v=t.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),g=p?`#${K3}=${encodeURIComponent(p)}`:"";return`${Y3(n)}?${zu(d).slice(1)}${g}`}function Y3({config:n}){return n.emulator?By(n,G3):`https://${n.authDomain}/${H3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="webStorageSupport";class Q3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iR,this._completeRedirectFn=v3,this._overrideRedirectResult=p3}async _openPopup(t,e,s,o){ps(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await ZA(t,e,s,fg(),o);return q3(t,u,Fy())}async _openRedirect(t,e,s,o){await this._originValidation(t);const u=await ZA(t,e,s,fg(),o);return W4(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(ps(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await k3(t),s=new T3(t);return e.register("authEvent",o=>(St(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ap,{type:Ap},o=>{const u=o?.[0]?.[Ap];u!==void 0&&e(!!u),ms(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=w3(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Qw()||qw()||zy()}}const X3=Q3;var JA="@firebase/auth",tS="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z3(n){lr(new cs("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;St(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xw(n)},g=new I4(s,o,u,p);return N4(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),lr(new cs("auth-internal",t=>{const e=zf(t.getProvider("auth").getImmediate());return(s=>new $3(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(JA,tS,W3(n)),as(JA,tS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=300,t6=K1("authIdTokenMaxAge")||J3;let eS=null;const e6=n=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>t6)return;const o=e?.token;eS!==o&&(eS=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function n6(n=J1()){const t=ty(n,"auth");if(t.isInitialized())return t.getImmediate();const e=M4(n,{popupRedirectResolver:X3,persistence:[a3,Q4,iR]}),s=K1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=e6(u.toString());H4(e,c,()=>c(e.currentUser)),F4(e,d=>c(d))}}const o=H1("auth");return o&&O4(e,`http://${o}`),e}function i6(){return document.getElementsByTagName("head")?.[0]??document}C4({loadJS(n){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=o=>{const u=xi("internal-error");u.customData=o,e(u)},s.type="text/javascript",s.charset="UTF-8",i6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z3("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=new Map,r6={activated:!1,tokenObservers:[]};function ii(n){return s6.get(n)||{...r6}}const nS={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(t,e,s,o,u){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new Hp,this.pending.promise.catch(e=>{}),await o6(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new Hp,this.pending.promise.catch(e=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}function o6(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},yf=new qo("appCheck","AppCheck",l6);function cR(n){if(!ii(n).activated)throw yf.create("use-before-activation",{appName:n.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="firebase-app-check-database",c6=1,pg="firebase-app-check-store";let Dh=null;function h6(){return Dh||(Dh=new Promise((n,t)=>{try{const e=indexedDB.open(u6,c6);e.onsuccess=s=>{n(s.target.result)},e.onerror=s=>{t(yf.create("storage-open",{originalErrorMessage:s.target.error?.message}))},e.onupgradeneeded=s=>{const o=s.target.result;switch(s.oldVersion){case 0:o.createObjectStore(pg,{keyPath:"compositeKey"})}}}catch(e){t(yf.create("storage-open",{originalErrorMessage:e?.message}))}}),Dh)}function f6(n,t){return d6(m6(n),t)}async function d6(n,t){const s=(await h6()).transaction(pg,"readwrite"),u=s.objectStore(pg).put({compositeKey:n,value:t});return new Promise((c,d)=>{u.onsuccess=p=>{c()},s.onerror=p=>{d(yf.create("storage-set",{originalErrorMessage:p.target.error?.message}))}})}function m6(n){return`${n.options.appId}-${n.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=new Af("@firebase/app-check");function iS(n,t){return X1()?f6(n,t).catch(e=>{gg.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6={error:"UNKNOWN_ERROR"};function g6(n){return Zg.encodeString(JSON.stringify(n),!1)}async function yg(n,t=!1,e=!1){const s=n.app;cR(s);const o=ii(s);let u=o.token,c;if(u&&!cu(u)&&(o.token=void 0,u=void 0),!u){const g=await o.cachedTokenPromise;g&&(cu(g)?u=g:await iS(s,void 0))}if(!t&&u&&cu(u))return{token:u.token};let d=!1;try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),d=!0),u=await ii(s).exchangeTokenPromise}catch(g){g.code==="appCheck/throttled"||g.code==="appCheck/initial-throttle"?gg.warn(g.message):e&&gg.error(g),c=g}let p;return u?c?cu(u)?p={token:u.token,internalError:c}:p=rS(c):(p={token:u.token},o.token=u,await iS(s,u)):p=rS(c),d&&T6(s,p),p}async function y6(n){const t=n.app;cR(t);const{provider:e}=ii(t);{const{token:s}=await e.getToken();return{token:s}}}function v6(n,t,e,s){const{app:o}=n,u=ii(o),c={next:e,error:s,type:t};if(u.tokenObservers=[...u.tokenObservers,c],u.token&&cu(u.token)){const d=u.token;Promise.resolve().then(()=>{e({token:d.token}),sS(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>sS(n))}function hR(n,t){const e=ii(n),s=e.tokenObservers.filter(o=>o.next!==t);s.length===0&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=s}function sS(n){const{app:t}=n,e=ii(t);let s=e.tokenRefresher;s||(s=_6(n),e.tokenRefresher=s),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function _6(n){const{app:t}=n;return new a6(async()=>{const e=ii(t);let s;if(e.token?s=await yg(n,!0):s=await yg(n),s.error)throw s.error;if(s.internalError)throw s.internalError},()=>!0,()=>{const e=ii(t);if(e.token){let s=e.token.issuedAtTimeMillis+(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)*.5+3e5;const o=e.token.expireTimeMillis-300*1e3;return s=Math.min(s,o),Math.max(0,s-Date.now())}else return 0},nS.RETRIAL_MIN_WAIT,nS.RETRIAL_MAX_WAIT)}function T6(n,t){const e=ii(n).tokenObservers;for(const s of e)try{s.type==="EXTERNAL"&&t.error!=null?s.error(t.error):s.next(t)}catch{}}function cu(n){return n.expireTimeMillis-Date.now()>0}function rS(n){return{token:g6(p6),error:n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=ii(this.app);for(const e of t)hR(this.app,e.next);return Promise.resolve()}}function A6(n,t){return new E6(n,t)}function S6(n){return{getToken:t=>yg(n,t),getLimitedUseToken:()=>y6(n),addTokenListener:t=>v6(n,"INTERNAL",t),removeTokenListener:t=>hR(n.app,t)}}const b6="@firebase/app-check",w6="0.11.0",R6="app-check",aS="app-check-internal";function I6(){lr(new cs(R6,n=>{const t=n.getProvider("app").getImmediate(),e=n.getProvider("heartbeat");return A6(t,e)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(aS).initialize()})),lr(new cs(aS,n=>{const t=n.getProvider("app-check").getImmediate();return S6(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),as(b6,w6)}I6();const C6={apiKey:"AIzaSyCVRcuBtFGplZTET2Qj6ZLkihQyClVNIvw",authDomain:"wedding-invite-783c6.firebaseapp.com",projectId:"wedding-invite-783c6",storageBucket:"wedding-invite-783c6.firebasestorage.app",messagingSenderId:"733714547005",appId:"1:733714547005:web:80806fcf0fdfc3e2d4c554",measurementId:"G-GMES6MDQPC"},fR=Z1(C6),oS=n6(fR),dR=Lk(fR),mR=()=>new Promise((n,t)=>{const e=G4(oS,async s=>{if(s)e(),n(s.uid);else try{const o=await B4(oS);e(),n(o.user.uid)}catch(o){t(o)}})}),vg=Ew(dR,"comments"),x6=Ew(dR,"rsvps");async function D6(n){const t=await mR();await Dw(vg,{...n,uid:t,createdAt:Vw()})}async function V6(n){const t=await mR();await Dw(x6,{...n,uid:t,createdAt:Vw()})}async function M6(n,t=20,e){const s=e?NA(vg,OA("invitationId","==",n),PA("createdAt","desc"),Qk(e),kA(t)):NA(vg,OA("invitationId","==",n),PA("createdAt","desc"),kA(t)),o=await t4(s),u=o.docs.map(d=>({id:d.id,...d.data()})),c=o.docs.at(-1);return{items:u,nextCursor:c}}function N6({invitationId:n}){const[t,e]=ht.useState([]),[s,o]=ht.useState(null),[u,c]=ht.useState(""),[d,p]=ht.useState(""),[g,v]=ht.useState(!1);async function E(C){v(!0);const{items:V,nextCursor:F}=await M6(n,3,C);e(z=>C?[...z,...V]:V),o(F??null),v(!1)}ht.useEffect(()=>{E()},[n]);async function A(C){C.preventDefault(),!(!u.trim()||!d.trim())&&(await D6({invitationId:n,displayName:u.trim(),message:d.trim()}),c(""),p(""),E())}return G.jsxs("div",{className:"space-y-6",children:[G.jsxs("form",{onSubmit:A,className:"rounded-2xl bg-white p-5 shadow space-y-4",children:[G.jsx("input",{placeholder:"이름",value:u,onChange:C=>c(C.target.value),maxLength:20,required:!0,className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:border-pink-300 focus:outline-none focus:ring-2 focus:ring-pink-200"}),G.jsx("textarea",{placeholder:"축하 메시지를 남겨주세요 (최대 100자)",value:d,onChange:C=>p(C.target.value),rows:3,maxLength:100,required:!0,className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm resize-none focus:border-pink-300 focus:outline-none focus:ring-2 focus:ring-pink-200"}),G.jsx("button",{type:"submit",disabled:g,className:"w-full rounded-lg bg-pink-500 py-2.5 text-sm font-medium text-white transition-colors hover:bg-pink-600 disabled:bg-gray-300 disabled:cursor-not-allowed",children:g?"등록 중...":"축하 메시지 등록"})]}),t.length>0&&G.jsx("div",{className:"space-y-3",children:t.map(C=>G.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow",children:[G.jsx("div",{className:"font-semibold text-gray-800 text-sm",children:C.displayName}),G.jsx("div",{className:"mt-2 text-sm text-gray-600 whitespace-pre-wrap leading-relaxed",children:C.message})]},C.id))}),s&&G.jsx("div",{className:"text-center",children:G.jsx("button",{onClick:()=>E(s),disabled:g,className:"rounded-lg bg-gray-100 px-6 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200 disabled:bg-gray-50 disabled:cursor-not-allowed",children:g?"로딩 중...":"더 보기"})}),t.length===0&&!g&&G.jsx("div",{className:"rounded-2xl bg-white p-8 shadow text-center",children:G.jsx("div",{className:"text-gray-500 text-sm",children:"첫 번째 축하 메시지를 남겨주세요! 💝"})})]})}function O6({invitationId:n}){const[t,e]=ht.useState(!1),[s,o]=ht.useState(!1);async function u(c){c.preventDefault();const d=new FormData(c.currentTarget),p=Object.fromEntries(d.entries());o(!0);try{await V6({invitationId:n,name:p.name,phone:p.phone,attend:p.attend,headcount:Number(p.headcount)}),e(!0)}finally{o(!1)}}return t?G.jsxs("div",{className:"rounded-2xl bg-white p-6 text-center shadow",children:[G.jsx("div",{className:"inline-flex h-12 w-12 items-center justify-center rounded-full bg-green-100 text-green-600",children:G.jsx(z1,{})}),G.jsx("div",{className:"mt-3 text-lg font-semibold",children:"전송 완료"}),G.jsx("p",{className:"mt-1 text-gray-600 text-sm",children:"소중한 답변 감사드립니다."})]}):G.jsxs("form",{onSubmit:u,className:"rounded-2xl bg-white p-5 shadow space-y-4",children:[G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"성함"}),G.jsx("input",{name:"name",required:!0,className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:border-pink-300 focus:outline-none focus:ring-2 focus:ring-pink-200",placeholder:"홍길동"})]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"연락처"}),G.jsx("input",{name:"phone",inputMode:"tel",className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:border-pink-300 focus:outline-none focus:ring-2 focus:ring-pink-200",placeholder:"010-0000-0000"})]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"참석"}),G.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{v:"yes",t:"참석"},{v:"no",t:"불참"}].map(c=>G.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-gray-200 px-3 py-2 text-sm cursor-pointer hover:bg-gray-50 transition-colors",children:[G.jsx("input",{type:"radio",name:"attend",value:c.v,required:!0,className:"text-pink-500 focus:ring-pink-200"}),c.t]},c.v))})]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"인원"}),G.jsx("select",{name:"headcount",className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:border-pink-300 focus:outline-none focus:ring-2 focus:ring-pink-200",defaultValue:"1",children:Array.from({length:5},(c,d)=>d+1).map(c=>G.jsxs("option",{value:c,children:[c,"명"]},c))})]}),G.jsx("button",{type:"submit",disabled:s,className:"w-full rounded-lg bg-pink-500 py-2.5 text-sm font-medium text-white transition-colors hover:bg-pink-600 disabled:bg-gray-300 disabled:cursor-not-allowed",children:s?"전송 중...":"참석 의사 보내기"})]})}function P6({lat:n,lng:t}){const e=ht.useRef(null);return ht.useEffect(()=>{window.kakao.maps.load(()=>{if(!e.current)return;const s=new window.kakao.maps.LatLng(n,t),o=new window.kakao.maps.Map(e.current,{center:s,level:3});new window.kakao.maps.Marker({map:o,position:s})})},[n,t]),G.jsx("div",{ref:e,className:"w-full h-60 rounded-xl"})}const ie={groom:{nameKr:"조낙운",phone:"010-4049-0749"},bride:{nameKr:"김소정",phone:"010-4650-8773"},date:{text:"2025년 12월 20일 토요일 오전 11시",iso:"2025-12-20T11:00:00+09:00"},venue:{name:"더 세인트 웨딩 41층 파노라마 홀",address:"서울특별시 구로구 경인로 662 더세인트",naverMapUrl:"https://naver.me/xExWm05A",kakaoMapUrl:"https://kko.kakao.com/z0oyaBHQ35",googleMapUrl:"https://maps.app.goo.gl/P6CcM3qA1u5URgpBA"},hero:{image:"main.jpeg",title:"낙운 & 소정",subtitle:"우리 결혼합니다"},gallery:["https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1511285560929-80b456fea0bc?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1522673607200-164d1b6ce486?q=80&w=1200&auto=format&fit=crop"],accounts:[{label:"신랑 측",name:"조낙운",bank:"카카오뱅크",number:"3333-12-3456789"},{label:"신부 측",name:"김소정",bank:"국민은행",number:"123456-78-901234"}]},lS="123",ea=({id:n,title:t,children:e})=>G.jsxs("section",{id:n,className:"px-5 py-10 max-w-md mx-auto",children:[t&&G.jsxs("div",{className:"mb-6 text-center",children:[G.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:t}),G.jsx("div",{className:"mt-2 h-1 w-12 mx-auto bg-gray-200 rounded-full"})]}),e]});function k6(){const[,n]=ht.useState(0);return ht.useState(()=>{const t=setInterval(()=>n(e=>e+1),1e3);return()=>clearInterval(t)}),ht.useMemo(()=>new Date,[Date.now()])}const L6=({targetISO:n})=>{const t=k6(),e=new Date(n),s=Math.max(0,e.getTime()-t.getTime()),o=Math.floor(s/(1e3*60*60*24)),u=Math.floor(s/(1e3*60*60)%24),c=Math.floor(s/(1e3*60)%60),d=Math.floor(s/1e3%60);return G.jsx("div",{className:"mt-4 grid grid-cols-4 gap-2 text-center",children:[{k:"일",v:o},{k:"시",v:u},{k:"분",v:c},{k:"초",v:d}].map((p,g)=>G.jsxs("div",{className:"rounded-2xl p-3 bg-white/80 backdrop-blur shadow",children:[G.jsx("div",{className:"text-2xl font-semibold tabular-nums",children:p.v.toString().padStart(2,"0")}),G.jsx("div",{className:"text-xs text-gray-500 mt-1",children:p.k})]},g))})},U6=({text:n})=>{const[t,e]=ht.useState(!1);return G.jsxs("button",{onClick:async()=>{try{await navigator.clipboard.writeText(n),e(!0),setTimeout(()=>e(!1),1500)}catch{alert("복사가 지원되지 않는 환경입니다.")}},className:"inline-flex items-center gap-1 text-sm px-3 py-2 rounded-full bg-gray-100 hover:bg-gray-200 active:scale-[.98] transition",children:[t?G.jsx(z1,{size:16}):G.jsx(zV,{size:16}),t?"복사됨":"복사"]})};function B6(){const[n,t]=ht.useState(null),[e,s]=ht.useState(0),o=(V,F)=>{t(V),s(F)},u=()=>{s(V=>(V-1+ie.gallery.length)%ie.gallery.length),t(ie.gallery[(e-1+ie.gallery.length)%ie.gallery.length])},c=()=>{s(V=>(V+1)%ie.gallery.length),t(ie.gallery[(e+1)%ie.gallery.length])},d=V=>{const F=document.getElementById(V);if(F){const z=F.offsetTop;window.scrollTo({top:z,behavior:"smooth"})}},[p,g]=ht.useState(0),[v,E]=ht.useState(!1),A=V=>{g(V),E(!0)},C=V=>{if(!v)return;const F=V-p,z=50;F>z?u():F<-z&&c(),E(!1)};return G.jsxs("div",{className:"w-full min-h-screen bg-[#faf9f7] text-gray-900",children:[G.jsx("nav",{className:"fixed bottom-3 left-0 right-0 z-30 px-4",children:G.jsxs("div",{className:"mx-auto max-w-md grid grid-cols-4 gap-2 bg-white/90 backdrop-blur rounded-2xl shadow-lg p-2",children:[G.jsxs("button",{onClick:()=>d("schedule"),className:"flex flex-col items-center py-2 rounded-xl hover:bg-gray-50 transition-colors",children:[G.jsx(wE,{size:18}),G.jsx("span",{className:"text-xs mt-1",children:"장소"})]}),G.jsxs("button",{onClick:()=>d("gallery"),className:"flex flex-col items-center py-2 rounded-xl hover:bg-gray-50 transition-colors",children:[G.jsx(GV,{size:18}),G.jsx("span",{className:"text-xs mt-1",children:"갤러리"})]}),G.jsxs("button",{onClick:()=>d("rsvp"),className:"flex flex-col items-center py-2 rounded-xl hover:bg-gray-50 transition-colors",children:[G.jsx(YV,{size:18}),G.jsx("span",{className:"text-xs mt-1",children:"참석 의사"})]}),G.jsxs("button",{onClick:()=>d("comments"),className:"flex flex-col items-center py-2 rounded-xl hover:bg-gray-50 transition-colors",children:[G.jsx(FV,{size:18}),G.jsx("span",{className:"text-xs mt-1",children:"축하메시지"})]})]})}),G.jsxs("div",{className:"relative min-h-[100svh] w-full overflow-hidden",children:[G.jsx("img",{src:ie.hero.image,alt:"hero",className:"absolute inset-0 w-full h-full object-cover",fetchPriority:"high"}),G.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/20 to-black/50"}),G.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-between py-12",style:{paddingTop:"290px"},children:[G.jsxs(AE.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center text-white pt-6",children:[G.jsx("div",{className:"text-sm/relaxed tracking-widest uppercase opacity-90",children:"We Are Getting Married"}),G.jsx("h1",{className:"mt-3 text-4xl font-bold drop-shadow-sm",children:ie.hero.title}),G.jsx("p",{className:"mt-2 text-base/relaxed opacity-95",children:ie.hero.subtitle}),G.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 text-white/90",children:[G.jsx(bE,{size:18}),G.jsx("span",{children:ie.date.text})]})]}),G.jsx(AE.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"w-full px-5 pb-20 max-w-md",children:G.jsx(L6,{targetISO:ie.date.iso})}),G.jsx("button",{onClick:()=>d("intro"),className:"mb-3 text-white/90 animate-bounce hover:text-white transition-colors",children:G.jsx(PV,{})})]})]}),G.jsxs(ea,{id:"intro",title:"초대합니다",children:[G.jsxs("p",{className:"text-center leading-7 text-gray-700",children:["서로의 가장 가까운 곳에서 사랑을 키워온 두 사람이",G.jsx("br",{}),"한 마음으로 평생을 함께하고자 합니다.",G.jsx("br",{}),"소중한 걸음으로 축복해 주시면 큰 기쁨이 되겠습니다."]}),G.jsx("div",{className:"mt-6 grid grid-cols-2 gap-3 text-center",children:[ie.groom,ie.bride].map((V,F)=>G.jsxs("div",{className:"rounded-2xl p-4 bg-white shadow",children:[G.jsx("div",{className:"text-sm text-gray-500",children:F===0?"신랑":"신부"}),G.jsx("div",{className:"text-lg font-semibold mt-1",children:V.nameKr}),G.jsxs("a",{href:`tel:${V.phone}`,className:"mt-2 inline-flex items-center gap-1 text-sm text-blue-600",children:[G.jsx($V,{size:16})," 연락하기"]})]},F))})]}),G.jsx(ea,{id:"schedule",title:"일시 및 장소",children:G.jsxs("div",{className:"rounded-2xl p-5 bg-white shadow",children:[G.jsxs("div",{className:"flex items-start gap-3",children:[G.jsx(bE,{className:"shrink-0 mt-1"}),G.jsx("div",{children:G.jsx("div",{className:"font-semibold",children:ie.date.text})})]}),G.jsxs("div",{className:"mt-4 flex items-start gap-3",children:[G.jsx(wE,{className:"shrink-0 mt-1"}),G.jsxs("div",{children:[G.jsx("div",{className:"font-semibold",children:ie.venue.name}),G.jsx("div",{className:"text-sm text-gray-600",children:ie.venue.address}),G.jsxs("div",{className:"flex gap-2 mt-2",children:[G.jsx("a",{href:ie.venue.naverMapUrl,target:"_blank",className:"text-xs px-3 py-1.5 rounded-full bg-gray-100 hover:bg-gray-200",rel:"noreferrer",children:"네이버지도"}),G.jsx("a",{href:ie.venue.kakaoMapUrl,target:"_blank",className:"text-xs px-3 py-1.5 rounded-full bg-gray-100 hover:bg-gray-200",rel:"noreferrer",children:"카카오맵"}),G.jsx("a",{href:ie.venue.googleMapUrl,target:"_blank",className:"text-xs px-3 py-1.5 rounded-full bg-gray-100 hover:bg-gray-200",rel:"noreferrer",children:"구글맵"})]})]})]}),G.jsx("div",{className:"mt-5 h-60 w-full overflow-hidden rounded-xl bg-gray-100",children:G.jsx(P6,{lat:37.50912402052296,lng:126.88958283841178})})]})}),G.jsx(ea,{id:"map",title:"오시는 길",children:G.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow space-y-2 text-sm text-gray-700",children:[G.jsxs("p",{children:[G.jsx("b",{children:"지하철"})," 분당선 선정릉역 7번 출구 도보 8분"]}),G.jsxs("p",{children:[G.jsx("b",{children:"버스"})," 간선 472, 지선 6411 하차 후 도보 5분"]}),G.jsxs("p",{children:[G.jsx("b",{children:"주차"})," 예식장 내 2시간 무료 (혼잡시 대기 가능)"]})]})}),G.jsxs(ea,{id:"gallery",title:"갤러리",children:[G.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:ie.gallery.map((V,F)=>G.jsx("button",{onClick:()=>o(V,F),className:"aspect-square overflow-hidden rounded-xl",children:G.jsx("img",{src:V,alt:`gallery-${F}`,loading:"lazy",className:"w-full h-full object-cover"})},F))}),n&&G.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:G.jsxs("div",{className:"relative max-w-3xl w-full flex items-center justify-center",children:[G.jsx("button",{className:"absolute top-3 right-3 text-white z-10",onClick:()=>t(null),children:G.jsx(ZV,{size:28})}),G.jsxs("div",{className:"absolute top-3 left-3 text-white text-sm bg-black/50 px-2 py-1 rounded",children:[e+1," / ",ie.gallery.length]}),G.jsx("button",{className:"absolute left-3 text-white z-10",onClick:u,children:G.jsx(LV,{size:36})}),G.jsx("div",{className:"relative w-full h-auto cursor-grab active:cursor-grabbing select-none",onMouseDown:V=>A(V.clientX),onMouseUp:V=>C(V.clientX),onTouchStart:V=>A(V.touches[0].clientX),onTouchEnd:V=>C(V.changedTouches[0].clientX),onDragStart:V=>V.preventDefault(),children:G.jsx("img",{src:n,alt:"selected",className:"w-full h-auto rounded-xl shadow-lg transition-transform duration-200",draggable:!1})}),G.jsx("button",{className:"absolute right-3 text-white z-10",onClick:c,children:G.jsx(BV,{size:36})})]})})]}),G.jsx(ea,{title:"마음 전하실 곳",children:G.jsx("div",{className:"space-y-3",children:ie.accounts.map((V,F)=>G.jsxs("div",{className:"flex items-center justify-between rounded-2xl bg-white p-4 shadow",children:[G.jsxs("div",{children:[G.jsx("div",{className:"text-sm text-gray-500",children:V.label}),G.jsxs("div",{className:"font-medium",children:[V.bank," · ",V.number]}),G.jsxs("div",{className:"text-sm text-gray-600",children:["예금주 ",V.name]})]}),G.jsx(U6,{text:`${V.bank} ${V.number} (${V.name})`})]},F))})}),G.jsx(ea,{id:"rsvp",title:"참석 의사 전달",children:G.jsx(O6,{invitationId:lS})}),G.jsx(ea,{id:"comments",title:"🎊 축하 메시지 🎊",children:G.jsx(N6,{invitationId:lS})}),G.jsxs("footer",{className:"pb-24 pt-6 text-center text-xs text-gray-500",children:[G.jsxs("div",{children:["© ",new Date().getFullYear()," ",ie.hero.title]}),G.jsx("div",{className:"mt-1",children:"감사합니다"})]})]})}function j6(){return G.jsx(B6,{})}QI.createRoot(document.getElementById("root")).render(G.jsx(ht.StrictMode,{children:G.jsx(j6,{})}));
