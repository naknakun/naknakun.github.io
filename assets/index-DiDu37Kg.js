(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();var Km={exports:{}},iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iT;function zI(){if(iT)return iu;iT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:s,key:c,ref:o!==void 0?o:null,props:u}}return iu.Fragment=t,iu.jsx=e,iu.jsxs=e,iu}var sT;function qI(){return sT||(sT=1,Km.exports=zI()),Km.exports}var O=qI(),Ym={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rT;function FI(){if(rT)return It;rT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=E&&D[E]||D["@@iterator"],typeof D=="function"?D:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,Q={};function F(D,nt,lt){this.props=D,this.context=nt,this.refs=Q,this.updater=lt||C}F.prototype.isReactComponent={},F.prototype.setState=function(D,nt){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,nt,"setState")},F.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function J(){}J.prototype=F.prototype;function G(D,nt,lt){this.props=D,this.context=nt,this.refs=Q,this.updater=lt||C}var Y=G.prototype=new J;Y.constructor=G,L(Y,F.prototype),Y.isPureReactComponent=!0;var ut=Array.isArray,st={H:null,A:null,T:null,S:null,V:null},mt=Object.prototype.hasOwnProperty;function V(D,nt,lt,rt,yt,Dt){return lt=Dt.ref,{$$typeof:n,type:D,key:nt,ref:lt!==void 0?lt:null,props:Dt}}function w(D,nt){return V(D.type,nt,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function M(D){var nt={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(lt){return nt[lt]})}var P=/\/+/g;function U(D,nt){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):nt.toString(36)}function x(){}function Te(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(x,x):(D.status="pending",D.then(function(nt){D.status==="pending"&&(D.status="fulfilled",D.value=nt)},function(nt){D.status==="pending"&&(D.status="rejected",D.reason=nt)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ne(D,nt,lt,rt,yt){var Dt=typeof D;(Dt==="undefined"||Dt==="boolean")&&(D=null);var St=!1;if(D===null)St=!0;else switch(Dt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(D.$$typeof){case n:case t:St=!0;break;case v:return St=D._init,ne(St(D._payload),nt,lt,rt,yt)}}if(St)return yt=yt(D),St=rt===""?"."+U(D,0):rt,ut(yt)?(lt="",St!=null&&(lt=St.replace(P,"$&/")+"/"),ne(yt,nt,lt,"",function(si){return si})):yt!=null&&(R(yt)&&(yt=w(yt,lt+(yt.key==null||D&&D.key===yt.key?"":(""+yt.key).replace(P,"$&/")+"/")+St)),nt.push(yt)),1;St=0;var Pe=rt===""?".":rt+":";if(ut(D))for(var te=0;te<D.length;te++)rt=D[te],Dt=Pe+U(rt,te),St+=ne(rt,nt,lt,Dt,yt);else if(te=A(D),typeof te=="function")for(D=te.call(D),te=0;!(rt=D.next()).done;)rt=rt.value,Dt=Pe+U(rt,te++),St+=ne(rt,nt,lt,Dt,yt);else if(Dt==="object"){if(typeof D.then=="function")return ne(Te(D),nt,lt,rt,yt);throw nt=String(D),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return St}function X(D,nt,lt){if(D==null)return D;var rt=[],yt=0;return ne(D,rt,"","",function(Dt){return nt.call(lt,Dt,yt++)}),rt}function it(D){if(D._status===-1){var nt=D._result;nt=nt(),nt.then(function(lt){(D._status===0||D._status===-1)&&(D._status=1,D._result=lt)},function(lt){(D._status===0||D._status===-1)&&(D._status=2,D._result=lt)}),D._status===-1&&(D._status=0,D._result=nt)}if(D._status===1)return D._result.default;throw D._result}var ct=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ct(){}return It.Children={map:X,forEach:function(D,nt,lt){X(D,function(){nt.apply(this,arguments)},lt)},count:function(D){var nt=0;return X(D,function(){nt++}),nt},toArray:function(D){return X(D,function(nt){return nt})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},It.Component=F,It.Fragment=e,It.Profiler=o,It.PureComponent=G,It.StrictMode=s,It.Suspense=p,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,It.__COMPILER_RUNTIME={__proto__:null,c:function(D){return st.H.useMemoCache(D)}},It.cache=function(D){return function(){return D.apply(null,arguments)}},It.cloneElement=function(D,nt,lt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var rt=L({},D.props),yt=D.key,Dt=void 0;if(nt!=null)for(St in nt.ref!==void 0&&(Dt=void 0),nt.key!==void 0&&(yt=""+nt.key),nt)!mt.call(nt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&nt.ref===void 0||(rt[St]=nt[St]);var St=arguments.length-2;if(St===1)rt.children=lt;else if(1<St){for(var Pe=Array(St),te=0;te<St;te++)Pe[te]=arguments[te+2];rt.children=Pe}return V(D.type,yt,void 0,void 0,Dt,rt)},It.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},It.createElement=function(D,nt,lt){var rt,yt={},Dt=null;if(nt!=null)for(rt in nt.key!==void 0&&(Dt=""+nt.key),nt)mt.call(nt,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(yt[rt]=nt[rt]);var St=arguments.length-2;if(St===1)yt.children=lt;else if(1<St){for(var Pe=Array(St),te=0;te<St;te++)Pe[te]=arguments[te+2];yt.children=Pe}if(D&&D.defaultProps)for(rt in St=D.defaultProps,St)yt[rt]===void 0&&(yt[rt]=St[rt]);return V(D,Dt,void 0,void 0,null,yt)},It.createRef=function(){return{current:null}},It.forwardRef=function(D){return{$$typeof:d,render:D}},It.isValidElement=R,It.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:it}},It.memo=function(D,nt){return{$$typeof:g,type:D,compare:nt===void 0?null:nt}},It.startTransition=function(D){var nt=st.T,lt={};st.T=lt;try{var rt=D(),yt=st.S;yt!==null&&yt(lt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ct,ct)}catch(Dt){ct(Dt)}finally{st.T=nt}},It.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},It.use=function(D){return st.H.use(D)},It.useActionState=function(D,nt,lt){return st.H.useActionState(D,nt,lt)},It.useCallback=function(D,nt){return st.H.useCallback(D,nt)},It.useContext=function(D){return st.H.useContext(D)},It.useDebugValue=function(){},It.useDeferredValue=function(D,nt){return st.H.useDeferredValue(D,nt)},It.useEffect=function(D,nt,lt){var rt=st.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(D,nt)},It.useId=function(){return st.H.useId()},It.useImperativeHandle=function(D,nt,lt){return st.H.useImperativeHandle(D,nt,lt)},It.useInsertionEffect=function(D,nt){return st.H.useInsertionEffect(D,nt)},It.useLayoutEffect=function(D,nt){return st.H.useLayoutEffect(D,nt)},It.useMemo=function(D,nt){return st.H.useMemo(D,nt)},It.useOptimistic=function(D,nt){return st.H.useOptimistic(D,nt)},It.useReducer=function(D,nt,lt){return st.H.useReducer(D,nt,lt)},It.useRef=function(D){return st.H.useRef(D)},It.useState=function(D){return st.H.useState(D)},It.useSyncExternalStore=function(D,nt,lt){return st.H.useSyncExternalStore(D,nt,lt)},It.useTransition=function(){return st.H.useTransition()},It.version="19.1.1",It}var aT;function Eg(){return aT||(aT=1,Ym.exports=FI()),Ym.exports}var ft=Eg(),Qm={exports:{}},su={},Xm={exports:{}},$m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function HI(){return oT||(oT=1,(function(n){function t(X,it){var ct=X.length;X.push(it);t:for(;0<ct;){var Ct=ct-1>>>1,D=X[Ct];if(0<o(D,it))X[Ct]=it,X[ct]=D,ct=Ct;else break t}}function e(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var it=X[0],ct=X.pop();if(ct!==it){X[0]=ct;t:for(var Ct=0,D=X.length,nt=D>>>1;Ct<nt;){var lt=2*(Ct+1)-1,rt=X[lt],yt=lt+1,Dt=X[yt];if(0>o(rt,ct))yt<D&&0>o(Dt,rt)?(X[Ct]=Dt,X[yt]=ct,Ct=yt):(X[Ct]=rt,X[lt]=ct,Ct=lt);else if(yt<D&&0>o(Dt,ct))X[Ct]=Dt,X[yt]=ct,Ct=yt;else break t}}return it}function o(X,it){var ct=X.sortIndex-it.sortIndex;return ct!==0?ct:X.id-it.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,E=null,A=3,C=!1,L=!1,Q=!1,F=!1,J=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ut(X){for(var it=e(g);it!==null;){if(it.callback===null)s(g);else if(it.startTime<=X)s(g),it.sortIndex=it.expirationTime,t(p,it);else break;it=e(g)}}function st(X){if(Q=!1,ut(X),!L)if(e(p)!==null)L=!0,mt||(mt=!0,U());else{var it=e(g);it!==null&&ne(st,it.startTime-X)}}var mt=!1,V=-1,w=5,R=-1;function M(){return F?!0:!(n.unstable_now()-R<w)}function P(){if(F=!1,mt){var X=n.unstable_now();R=X;var it=!0;try{t:{L=!1,Q&&(Q=!1,G(V),V=-1),C=!0;var ct=A;try{e:{for(ut(X),E=e(p);E!==null&&!(E.expirationTime>X&&M());){var Ct=E.callback;if(typeof Ct=="function"){E.callback=null,A=E.priorityLevel;var D=Ct(E.expirationTime<=X);if(X=n.unstable_now(),typeof D=="function"){E.callback=D,ut(X),it=!0;break e}E===e(p)&&s(p),ut(X)}else s(p);E=e(p)}if(E!==null)it=!0;else{var nt=e(g);nt!==null&&ne(st,nt.startTime-X),it=!1}}break t}finally{E=null,A=ct,C=!1}it=void 0}}finally{it?U():mt=!1}}}var U;if(typeof Y=="function")U=function(){Y(P)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Te=x.port2;x.port1.onmessage=P,U=function(){Te.postMessage(null)}}else U=function(){J(P,0)};function ne(X,it){V=J(function(){X(n.unstable_now())},it)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(X){switch(A){case 1:case 2:case 3:var it=3;break;default:it=A}var ct=A;A=it;try{return X()}finally{A=ct}},n.unstable_requestPaint=function(){F=!0},n.unstable_runWithPriority=function(X,it){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ct=A;A=X;try{return it()}finally{A=ct}},n.unstable_scheduleCallback=function(X,it,ct){var Ct=n.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Ct+ct:Ct):ct=Ct,X){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ct+D,X={id:v++,callback:it,priorityLevel:X,startTime:ct,expirationTime:D,sortIndex:-1},ct>Ct?(X.sortIndex=ct,t(g,X),e(p)===null&&X===e(g)&&(Q?(G(V),V=-1):Q=!0,ne(st,ct-Ct))):(X.sortIndex=D,t(p,X),L||C||(L=!0,mt||(mt=!0,U()))),X},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(X){var it=A;return function(){var ct=A;A=it;try{return X.apply(this,arguments)}finally{A=ct}}}})($m)),$m}var lT;function GI(){return lT||(lT=1,Xm.exports=HI()),Xm.exports}var Wm={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function KI(){if(uT)return tn;uT=1;var n=Eg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},tn.flushSync=function(p){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=v,s.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:C}):v==="script"&&s.d.X(p,{crossOrigin:E,integrity:A,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.1.1",tn}var cT;function YI(){if(cT)return Wm.exports;cT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Wm.exports=KI(),Wm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function QI(){if(hT)return su;hT=1;var n=GI(),t=Eg(),e=YI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(u(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),i;if(m===l)return d(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var T=!1,b=f.child;b;){if(b===a){T=!0,a=f,l=m;break}if(b===l){T=!0,l=f,a=m;break}b=b.sibling}if(!T){for(b=m.child;b;){if(b===a){T=!0,a=m,l=f;break}if(b===l){T=!0,l=m,a=f;break}b=b.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var x=Symbol.for("react.client.reference");function Te(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===x?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case L:return"Fragment";case F:return"Profiler";case Q:return"StrictMode";case st:return"Suspense";case mt:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case Y:return(i.displayName||"Context")+".Provider";case G:return(i._context.displayName||"Context")+".Consumer";case ut:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return r=i.displayName||null,r!==null?r:Te(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return Te(i(r))}catch{}}return null}var ne=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Ct=[],D=-1;function nt(i){return{current:i}}function lt(i){0>D||(i.current=Ct[D],Ct[D]=null,D--)}function rt(i,r){D++,Ct[D]=i.current,i.current=r}var yt=nt(null),Dt=nt(null),St=nt(null),Pe=nt(null);function te(i,r){switch(rt(St,r),rt(Dt,i),rt(yt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?V0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=V0(r),i=N0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}lt(yt),rt(yt,i)}function si(){lt(yt),lt(Dt),lt(St)}function vs(i){i.memoizedState!==null&&rt(Pe,i);var r=yt.current,a=N0(r,i.type);r!==a&&(rt(Dt,i),rt(yt,a))}function Ni(i){Dt.current===i&&(lt(yt),lt(Dt)),Pe.current===i&&(lt(Pe),Zl._currentValue=ct)}var yr=Object.prototype.hasOwnProperty,vr=n.unstable_scheduleCallback,_r=n.unstable_cancelCallback,Xo=n.unstable_shouldYield,Wu=n.unstable_requestPaint,In=n.unstable_now,Kf=n.unstable_getCurrentPriorityLevel,$o=n.unstable_ImmediatePriority,va=n.unstable_UserBlockingPriority,Tr=n.unstable_NormalPriority,Yf=n.unstable_LowPriority,_a=n.unstable_IdlePriority,Wo=n.log,Zu=n.unstable_setDisableYieldValue,he=null,Gt=null;function vn(i){if(typeof Wo=="function"&&Zu(i),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(he,i)}catch{}}var Ze=Math.clz32?Math.clz32:Er,Ju=Math.log,Qf=Math.LN2;function Er(i){return i>>>=0,i===0?32:31-(Ju(i)/Qf|0)|0}var Ar=256,br=4194304;function Gn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ta(i,r,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,m=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var b=l&134217727;return b!==0?(l=b&~m,l!==0?f=Gn(l):(T&=b,T!==0?f=Gn(T):a||(a=b&~i,a!==0&&(f=Gn(a))))):(b=l&~m,b!==0?f=Gn(b):T!==0?f=Gn(T):a||(a=l&~i,a!==0&&(f=Gn(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function Sr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Zo(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(){var i=Ar;return Ar<<=1,(Ar&4194048)===0&&(Ar=256),i}function tl(){var i=br;return br<<=1,(br&62914560)===0&&(br=4194304),i}function Mi(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function Oi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function el(i,r,a,l,f,m){var T=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var b=i.entanglements,I=i.expirationTimes,z=i.hiddenUpdates;for(a=T&~a;0<a;){var $=31-Ze(a),tt=1<<$;b[$]=0,I[$]=-1;var q=z[$];if(q!==null)for(z[$]=null,$=0;$<q.length;$++){var H=q[$];H!==null&&(H.lane&=-536870913)}a&=~tt}l!==0&&ri(i,l,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(T&~r))}function ri(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-Ze(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194090}function nl(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var l=31-Ze(a),f=1<<l;f&r|i[l]&r&&(i[l]|=r),a&=~f}}function _s(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ea(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ts(){var i=it.p;return i!==0?i:(i=window.event,i===void 0?32:W0(i.type))}function tc(i,r){var a=it.p;try{return it.p=i,r()}finally{it.p=a}}var se=Math.random().toString(36).slice(2),xe="__reactFiber$"+se,Ee="__reactProps$"+se,Cn="__reactContainer$"+se,il="__reactEvents$"+se,Xf="__reactListeners$"+se,Es="__reactHandles$"+se,ec="__reactResources$"+se,wr="__reactMarker$"+se;function As(i){delete i[xe],delete i[Ee],delete i[il],delete i[Xf],delete i[Es]}function Pi(i){var r=i[xe];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Cn]||a[xe]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=k0(i);i!==null;){if(a=i[xe])return a;i=k0(i)}return r}i=a,a=i.parentNode}return null}function ai(i){if(i=i[xe]||i[Cn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function oi(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function on(i){var r=i[ec];return r||(r=i[ec]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pe(i){i[wr]=!0}var sl=new Set,Aa={};function Kn(i,r){ki(i,r),ki(i+"Capture",r)}function ki(i,r){for(Aa[i]=r,i=0;i<r.length;i++)sl.add(r[i])}var nc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ic={},Rr={};function sc(i){return yr.call(Rr,i)?!0:yr.call(ic,i)?!1:nc.test(i)?Rr[i]=!0:(ic[i]=!0,!1)}function bs(i,r,a){if(sc(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function li(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function Fe(i,r,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+l)}}var Ir,rc;function Li(i){if(Ir===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ir=r&&r[1]||"",rc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ir+i+rc}var ba=!1;function Sa(i,r){if(!i||ba)return"";ba=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(H){var q=H}Reflect.construct(i,[],tt)}else{try{tt.call()}catch(H){q=H}i.call(tt.prototype)}}else{try{throw Error()}catch(H){q=H}(tt=i())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],b=m[1];if(T&&b){var I=T.split(`
`),z=b.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===z.length)for(l=I.length-1,f=z.length-1;1<=l&&0<=f&&I[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==z[f]){var $=`
`+I[l].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=l&&0<=f);break}}}finally{ba=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Li(a):""}function rl(i){switch(i.tag){case 26:case 27:case 5:return Li(i.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 15:return Sa(i.type,!1);case 11:return Sa(i.type.render,!1);case 1:return Sa(i.type,!0);case 31:return Li("Activity");default:return""}}function wa(i){try{var r="";do r+=rl(i),i=i.return;while(i);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function al(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $f(i){var r=al(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),l=""+i[r];if(!i.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(i,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Ra(i){i._valueTracker||(i._valueTracker=$f(i))}function ol(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return i&&(l=al(i)?i.checked?"true":"false":i.value),i=l,i!==a?(r.setValue(i),!0):!1}function Cr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Wf=/[\n"\\]/g;function Ae(i){return i.replace(Wf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _n(i,r,a,l,f,m,T,b){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+ln(r)):i.value!==""+ln(r)&&(i.value=""+ln(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Ss(i,T,ln(r)):a!=null?Ss(i,T,ln(a)):l!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.name=""+ln(b):i.removeAttribute("name")}function xr(i,r,a,l,f,m,T,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+ln(a):"",r=r!=null?""+ln(r):a,b||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=b?i.checked:!!l,i.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function Ss(i,r,a){r==="number"&&Cr(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Ui(i,r,a,l){if(i=i.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=r.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+ln(a),r=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Qt(i,r,a){if(r!=null&&(r=""+ln(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+ln(a):""}function Dr(i,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ne(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=ln(r),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function xn(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var Vr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ac(i,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,a):typeof a!="number"||a===0||Vr.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function ll(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&ac(i,f,l)}else for(var m in r)r.hasOwnProperty(m)&&ac(i,m,r[m])}function ul(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(i){return Jf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ji=null;function Dn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Bi=null,zi=null;function cl(i){var r=ai(i);if(r&&(i=r.stateNode)){var a=i[Ee]||null;t:switch(i=r.stateNode,r.type){case"input":if(_n(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ae(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==i&&l.form===i.form){var f=l[Ee]||null;if(!f)throw Error(s(90));_n(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===i.form&&ol(l)}break t;case"textarea":Qt(i,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Ui(i,!!a.multiple,r,!1)}}}var ui=!1;function oc(i,r,a){if(ui)return i(r,a);ui=!0;try{var l=i(r);return l}finally{if(ui=!1,(Bi!==null||zi!==null)&&(th(),Bi&&(r=Bi,i=zi,zi=Bi=null,cl(r),i)))for(r=0;r<i.length;r++)cl(i[r])}}function Nr(i,r){var a=i.stateNode;if(a===null)return null;var l=a[Ee]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vn=!1;if(Yn)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch{Vn=!1}var ci=null,ws=null,qi=null;function hl(){if(qi)return qi;var i,r=ws,a=r.length,l,f="value"in ci?ci.value:ci.textContent,m=f.length;for(i=0;i<a&&r[i]===f[i];i++);var T=a-i;for(l=1;l<=T&&r[a-l]===f[m-l];l++);return qi=f.slice(i,1<l?1-l:void 0)}function hi(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function fi(){return!0}function fl(){return!1}function ke(i){function r(a,l,f,m,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(a=i[b],this[b]=a?a(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?fi:fl,this.isPropagationStopped=fl,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),r}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=ke(Ft),Or=v({},Ft,{view:0,detail:0}),lc=ke(Or),xa,Da,di,Pr=v({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ur,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==di&&(di&&i.type==="mousemove"?(xa=i.screenX-di.screenX,Da=i.screenY-di.screenY):Da=xa=0,di=i),xa)},movementY:function(i){return"movementY"in i?i.movementY:Da}}),Nn=ke(Pr),uc=v({},Pr,{dataTransfer:0}),td=ke(uc),kr=v({},Or,{relatedTarget:0}),Va=ke(kr),dl=v({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Na=ke(dl),cc=v({},Ft,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ma=ke(cc),ed=v({},Ft,{data:0}),ml=ke(ed),Lr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=fc[i])?!!r[i]:!1}function Ur(){return pl}var dc=v({},Or,{key:function(i){if(i.key){var r=Lr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=hi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ur,charCode:function(i){return i.type==="keypress"?hi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?hi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Oa=ke(dc),mc=v({},Pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gl=ke(mc),Fi=v({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ur}),pc=ke(Fi),gc=v({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),yc=ke(gc),vc=v({},Pr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Pa=ke(vc),un=v({},Ft,{newState:0,oldState:0}),_c=ke(un),Tc=[9,13,27,32],mi=Yn&&"CompositionEvent"in window,h=null;Yn&&"documentMode"in document&&(h=document.documentMode);var y=Yn&&"TextEvent"in window&&!h,_=Yn&&(!mi||h&&8<h&&11>=h),S=" ",j=!1;function K(i,r){switch(i){case"keyup":return Tc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Lt=!1;function De(i,r){switch(i){case"compositionend":return at(r);case"keypress":return r.which!==32?null:(j=!0,S);case"textInput":return i=r.data,i===S&&j?null:i;default:return null}}function Ut(i,r){if(Lt)return i==="compositionend"||!mi&&K(i,r)?(i=hl(),qi=ws=ci=null,Lt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Le[i.type]:r==="textarea"}function Hi(i,r,a,l){Bi?zi?zi.push(l):zi=[l]:Bi=l,r=ah(r,"onChange"),0<r.length&&(a=new Ca("onChange","change",null,a,l),i.push({event:a,listeners:r}))}var He=null,pi=null;function yl(i){R0(i,0)}function Ec(i){var r=oi(i);if(ol(r))return i}function Yy(i,r){if(i==="change")return r}var Qy=!1;if(Yn){var nd;if(Yn){var id="oninput"in document;if(!id){var Xy=document.createElement("div");Xy.setAttribute("oninput","return;"),id=typeof Xy.oninput=="function"}nd=id}else nd=!1;Qy=nd&&(!document.documentMode||9<document.documentMode)}function $y(){He&&(He.detachEvent("onpropertychange",Wy),pi=He=null)}function Wy(i){if(i.propertyName==="value"&&Ec(pi)){var r=[];Hi(r,pi,i,Dn(i)),oc(yl,r)}}function yR(i,r,a){i==="focusin"?($y(),He=r,pi=a,He.attachEvent("onpropertychange",Wy)):i==="focusout"&&$y()}function vR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ec(pi)}function _R(i,r){if(i==="click")return Ec(r)}function TR(i,r){if(i==="input"||i==="change")return Ec(r)}function ER(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Tn=typeof Object.is=="function"?Object.is:ER;function vl(i,r){if(Tn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!yr.call(r,f)||!Tn(i[f],r[f]))return!1}return!0}function Zy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Jy(i,r){var a=Zy(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=r&&l>=r)return{node:a,offset:r-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Zy(a)}}function tv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?tv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function ev(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Cr(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Cr(i.document)}return r}function sd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var AR=Yn&&"documentMode"in document&&11>=document.documentMode,ka=null,rd=null,_l=null,ad=!1;function nv(i,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ad||ka==null||ka!==Cr(l)||(l=ka,"selectionStart"in l&&sd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&vl(_l,l)||(_l=l,l=ah(rd,"onSelect"),0<l.length&&(r=new Ca("onSelect","select",null,r,a),i.push({event:r,listeners:l}),r.target=ka)))}function jr(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var La={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},od={},iv={};Yn&&(iv=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Br(i){if(od[i])return od[i];if(!La[i])return i;var r=La[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in iv)return od[i]=r[a];return i}var sv=Br("animationend"),rv=Br("animationiteration"),av=Br("animationstart"),bR=Br("transitionrun"),SR=Br("transitionstart"),wR=Br("transitioncancel"),ov=Br("transitionend"),lv=new Map,ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ld.push("scrollEnd");function Qn(i,r){lv.set(i,r),Kn(r,[i])}var uv=new WeakMap;function Mn(i,r){if(typeof i=="object"&&i!==null){var a=uv.get(i);return a!==void 0?a:(r={value:i,source:r,stack:wa(r)},uv.set(i,r),r)}return{value:i,source:r,stack:wa(r)}}var On=[],Ua=0,ud=0;function Ac(){for(var i=Ua,r=ud=Ua=0;r<i;){var a=On[r];On[r++]=null;var l=On[r];On[r++]=null;var f=On[r];On[r++]=null;var m=On[r];if(On[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&cv(a,f,m)}}function bc(i,r,a,l){On[Ua++]=i,On[Ua++]=r,On[Ua++]=a,On[Ua++]=l,ud|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function cd(i,r,a,l){return bc(i,r,a,l),Sc(i)}function ja(i,r){return bc(i,null,null,r),Sc(i)}function cv(i,r,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-Ze(a),i=m.hiddenUpdates,l=i[f],l===null?i[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function Sc(i){if(50<Hl)throw Hl=0,gm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Ba={};function RR(i,r,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(i,r,a,l){return new RR(i,r,a,l)}function hd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Gi(i,r){var a=i.alternate;return a===null?(a=En(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function hv(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function wc(i,r,a,l,f,m){var T=0;if(l=i,typeof i=="function")hd(i)&&(T=1);else if(typeof i=="string")T=CI(i,a,yt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=En(31,a,r,f),i.elementType=R,i.lanes=m,i;case L:return zr(a.children,f,m,r);case Q:T=8,f|=24;break;case F:return i=En(12,a,r,f|2),i.elementType=F,i.lanes=m,i;case st:return i=En(13,a,r,f),i.elementType=st,i.lanes=m,i;case mt:return i=En(19,a,r,f),i.elementType=mt,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case J:case Y:T=10;break t;case G:T=9;break t;case ut:T=11;break t;case V:T=14;break t;case w:T=16,l=null;break t}T=29,a=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=En(T,a,r,f),r.elementType=i,r.type=l,r.lanes=m,r}function zr(i,r,a,l){return i=En(7,i,l,r),i.lanes=a,i}function fd(i,r,a){return i=En(6,i,null,r),i.lanes=a,i}function dd(i,r,a){return r=En(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var za=[],qa=0,Rc=null,Ic=0,Pn=[],kn=0,qr=null,Ki=1,Yi="";function Fr(i,r){za[qa++]=Ic,za[qa++]=Rc,Rc=i,Ic=r}function fv(i,r,a){Pn[kn++]=Ki,Pn[kn++]=Yi,Pn[kn++]=qr,qr=i;var l=Ki;i=Yi;var f=32-Ze(l)-1;l&=~(1<<f),a+=1;var m=32-Ze(r)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Ki=1<<32-Ze(r)+f|a<<f|l,Yi=m+i}else Ki=1<<m|a<<f|l,Yi=i}function md(i){i.return!==null&&(Fr(i,1),fv(i,1,0))}function pd(i){for(;i===Rc;)Rc=za[--qa],za[qa]=null,Ic=za[--qa],za[qa]=null;for(;i===qr;)qr=Pn[--kn],Pn[kn]=null,Yi=Pn[--kn],Pn[kn]=null,Ki=Pn[--kn],Pn[kn]=null}var cn=null,fe=null,qt=!1,Hr=null,gi=!1,gd=Error(s(519));function Gr(i){var r=Error(s(418,""));throw Al(Mn(r,i)),gd}function dv(i){var r=i.stateNode,a=i.type,l=i.memoizedProps;switch(r[xe]=i,r[Ee]=l,a){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(a=0;a<Kl.length;a++)Mt(Kl[a],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":Mt("invalid",r),xr(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ra(r);break;case"select":Mt("invalid",r);break;case"textarea":Mt("invalid",r),Dr(r,l.value,l.defaultValue,l.children),Ra(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||D0(r.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",r),Mt("toggle",r)),l.onScroll!=null&&Mt("scroll",r),l.onScrollEnd!=null&&Mt("scrollend",r),l.onClick!=null&&(r.onclick=oh),r=!0):r=!1,r||Gr(i)}function mv(i){for(cn=i.return;cn;)switch(cn.tag){case 5:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:cn=cn.return}}function Tl(i){if(i!==cn)return!1;if(!qt)return mv(i),qt=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Nm(i.type,i.memoizedProps)),a=!a),a&&fe&&Gr(i),mv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){fe=$n(i.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;i=i.nextSibling}fe=null}}else r===27?(r=fe,zs(i.type)?(i=km,km=null,fe=i):fe=r):fe=cn?$n(i.stateNode.nextSibling):null;return!0}function El(){fe=cn=null,qt=!1}function pv(){var i=Hr;return i!==null&&(mn===null?mn=i:mn.push.apply(mn,i),Hr=null),i}function Al(i){Hr===null?Hr=[i]:Hr.push(i)}var yd=nt(null),Kr=null,Qi=null;function Rs(i,r,a){rt(yd,r._currentValue),r._currentValue=a}function Xi(i){i._currentValue=yd.current,lt(yd)}function vd(i,r,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===a)break;i=i.return}}function _d(i,r,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var b=m;m=f;for(var I=0;I<r.length;I++)if(b.context===r[I]){m.lanes|=a,b=m.alternate,b!==null&&(b.lanes|=a),vd(m.return,a,i),l||(T=null);break t}m=b.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),vd(T,a,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function bl(i,r,a,l){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var b=f.type;Tn(f.pendingProps.value,T.value)||(i!==null?i.push(b):i=[b])}}else if(f===Pe.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Zl):i=[Zl])}f=f.return}i!==null&&_d(r,i,a,l),r.flags|=262144}function Cc(i){for(i=i.firstContext;i!==null;){if(!Tn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Yr(i){Kr=i,Qi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Je(i){return gv(Kr,i)}function xc(i,r){return Kr===null&&Yr(i),gv(i,r)}function gv(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Qi===null){if(i===null)throw Error(s(308));Qi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Qi=Qi.next=r;return a}var IR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},CR=n.unstable_scheduleCallback,xR=n.unstable_NormalPriority,Ne={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Td(){return{controller:new IR,data:new Map,refCount:0}}function Sl(i){i.refCount--,i.refCount===0&&CR(xR,function(){i.controller.abort()})}var wl=null,Ed=0,Fa=0,Ha=null;function DR(i,r){if(wl===null){var a=wl=[];Ed=0,Fa=bm(),Ha={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ed++,r.then(yv,yv),r}function yv(){if(--Ed===0&&wl!==null){Ha!==null&&(Ha.status="fulfilled");var i=wl;wl=null,Fa=0,Ha=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function VR(i,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var vv=X.S;X.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&DR(i,r),vv!==null&&vv(i,r)};var Qr=nt(null);function Ad(){var i=Qr.current;return i!==null?i:ee.pooledCache}function Dc(i,r){r===null?rt(Qr,Qr.current):rt(Qr,r.pool)}function _v(){var i=Ad();return i===null?null:{parent:Ne._currentValue,pool:i}}var Rl=Error(s(460)),Tv=Error(s(474)),Vc=Error(s(542)),bd={then:function(){}};function Ev(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Nc(){}function Av(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Nc,Nc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Sv(i),i;default:if(typeof r.status=="string")r.then(Nc,Nc);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Sv(i),i}throw Il=r,Rl}}var Il=null;function bv(){if(Il===null)throw Error(s(459));var i=Il;return Il=null,i}function Sv(i){if(i===Rl||i===Vc)throw Error(s(483))}var Is=!1;function Sd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Cs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xs(i,r,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Sc(i),cv(i,null,a),r}return bc(i,l,r,a),Sc(i)}function Cl(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,nl(i,a)}}function Rd(i,r){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Id=!1;function xl(){if(Id){var i=Ha;if(i!==null)throw i}}function Dl(i,r,a,l){Id=!1;var f=i.updateQueue;Is=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var I=b,z=I.next;I.next=null,T===null?m=z:T.next=z,T=I;var $=i.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==T&&(b===null?$.firstBaseUpdate=z:b.next=z,$.lastBaseUpdate=I))}if(m!==null){var tt=f.baseState;T=0,$=z=I=null,b=m;do{var q=b.lane&-536870913,H=q!==b.lane;if(H?(jt&q)===q:(l&q)===q){q!==0&&q===Fa&&(Id=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var Et=i,vt=b;q=r;var Wt=a;switch(vt.tag){case 1:if(Et=vt.payload,typeof Et=="function"){tt=Et.call(Wt,tt,q);break t}tt=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=vt.payload,q=typeof Et=="function"?Et.call(Wt,tt,q):Et,q==null)break t;tt=v({},tt,q);break t;case 2:Is=!0}}q=b.callback,q!==null&&(i.flags|=64,H&&(i.flags|=8192),H=f.callbacks,H===null?f.callbacks=[q]:H.push(q))}else H={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(z=$=H,I=tt):$=$.next=H,T|=q;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;H=b,b=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);$===null&&(I=tt),f.baseState=I,f.firstBaseUpdate=z,f.lastBaseUpdate=$,m===null&&(f.shared.lanes=0),Ls|=T,i.lanes=T,i.memoizedState=tt}}function wv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Rv(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)wv(a[i],r)}var Ga=nt(null),Mc=nt(0);function Iv(i,r){i=ns,rt(Mc,i),rt(Ga,r),ns=i|r.baseLanes}function Cd(){rt(Mc,ns),rt(Ga,Ga.current)}function xd(){ns=Mc.current,lt(Ga),lt(Mc)}var Ds=0,xt=null,Xt=null,be=null,Oc=!1,Ka=!1,Xr=!1,Pc=0,Vl=0,Ya=null,NR=0;function ge(){throw Error(s(321))}function Dd(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!Tn(i[a],r[a]))return!1;return!0}function Vd(i,r,a,l,f,m){return Ds=m,xt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=i===null||i.memoizedState===null?c_:h_,Xr=!1,m=a(l,f),Xr=!1,Ka&&(m=xv(r,a,l,f)),Cv(i),m}function Cv(i){X.H=zc;var r=Xt!==null&&Xt.next!==null;if(Ds=0,be=Xt=xt=null,Oc=!1,Vl=0,Ya=null,r)throw Error(s(300));i===null||Ue||(i=i.dependencies,i!==null&&Cc(i)&&(Ue=!0))}function xv(i,r,a,l){xt=i;var f=0;do{if(Ka&&(Ya=null),Vl=0,Ka=!1,25<=f)throw Error(s(301));if(f+=1,be=Xt=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=jR,m=r(a,l)}while(Ka);return m}function MR(){var i=X.H,r=i.useState()[0];return r=typeof r.then=="function"?Nl(r):r,i=i.useState()[0],(Xt!==null?Xt.memoizedState:null)!==i&&(xt.flags|=1024),r}function Nd(){var i=Pc!==0;return Pc=0,i}function Md(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Od(i){if(Oc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Oc=!1}Ds=0,be=Xt=xt=null,Ka=!1,Vl=Pc=0,Ya=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?xt.memoizedState=be=i:be=be.next=i,be}function Se(){if(Xt===null){var i=xt.alternate;i=i!==null?i.memoizedState:null}else i=Xt.next;var r=be===null?xt.memoizedState:be.next;if(r!==null)be=r,Xt=i;else{if(i===null)throw xt.alternate===null?Error(s(467)):Error(s(310));Xt=i,i={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},be===null?xt.memoizedState=be=i:be=be.next=i}return be}function Pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(i){var r=Vl;return Vl+=1,Ya===null&&(Ya=[]),i=Av(Ya,i,r),r=xt,(be===null?r.memoizedState:be.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?c_:h_),i}function kc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Nl(i);if(i.$$typeof===Y)return Je(i)}throw Error(s(438,String(i)))}function kd(i){var r=null,a=xt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Pd(),xt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),l=0;l<i;l++)a[l]=M;return r.index++,a}function $i(i,r){return typeof r=="function"?r(i):r}function Lc(i){var r=Se();return Ld(r,Xt,i)}function Ld(i,r,a){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=i.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}r.baseQueue=f=m,l.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var b=T=null,I=null,z=r,$=!1;do{var tt=z.lane&-536870913;if(tt!==z.lane?(jt&tt)===tt:(Ds&tt)===tt){var q=z.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),tt===Fa&&($=!0);else if((Ds&q)===q){z=z.next,q===Fa&&($=!0);continue}else tt={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(b=I=tt,T=m):I=I.next=tt,xt.lanes|=q,Ls|=q;tt=z.action,Xr&&a(m,tt),m=z.hasEagerState?z.eagerState:a(m,tt)}else q={lane:tt,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(b=I=q,T=m):I=I.next=q,xt.lanes|=tt,Ls|=tt;z=z.next}while(z!==null&&z!==r);if(I===null?T=m:I.next=b,!Tn(m,i.memoizedState)&&(Ue=!0,$&&(a=Ha,a!==null)))throw a;i.memoizedState=m,i.baseState=T,i.baseQueue=I,l.lastRenderedState=m}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Ud(i){var r=Se(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=i(m,T.action),T=T.next;while(T!==f);Tn(m,r.memoizedState)||(Ue=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function Dv(i,r,a){var l=xt,f=Se(),m=qt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!Tn((Xt||f).memoizedState,a);T&&(f.memoizedState=a,Ue=!0),f=f.queue;var b=Mv.bind(null,l,f,i);if(Ml(2048,8,b,[i]),f.getSnapshot!==r||T||be!==null&&be.memoizedState.tag&1){if(l.flags|=2048,Qa(9,Uc(),Nv.bind(null,l,f,a,r),null),ee===null)throw Error(s(349));m||(Ds&124)!==0||Vv(l,r,a)}return a}function Vv(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=xt.updateQueue,r===null?(r=Pd(),xt.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function Nv(i,r,a,l){r.value=a,r.getSnapshot=l,Ov(r)&&Pv(i)}function Mv(i,r,a){return a(function(){Ov(r)&&Pv(i)})}function Ov(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!Tn(i,a)}catch{return!0}}function Pv(i){var r=ja(i,2);r!==null&&Rn(r,i,2)}function jd(i){var r=fn();if(typeof i=="function"){var a=i;if(i=a(),Xr){vn(!0);try{a()}finally{vn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:i},r}function kv(i,r,a,l){return i.baseState=a,Ld(i,Xt,typeof l=="function"?l:$i)}function OR(i,r,a,l,f){if(Bc(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};X.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Lv(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Lv(i,r){var a=r.action,l=r.payload,f=i.state;if(r.isTransition){var m=X.T,T={};X.T=T;try{var b=a(f,l),I=X.S;I!==null&&I(T,b),Uv(i,r,b)}catch(z){Bd(i,r,z)}finally{X.T=m}}else try{m=a(f,l),Uv(i,r,m)}catch(z){Bd(i,r,z)}}function Uv(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){jv(i,r,l)},function(l){return Bd(i,r,l)}):jv(i,r,a)}function jv(i,r,a){r.status="fulfilled",r.value=a,Bv(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,Lv(i,a)))}function Bd(i,r,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Bv(r),r=r.next;while(r!==l)}i.action=null}function Bv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function zv(i,r){return r}function qv(i,r){if(qt){var a=ee.formState;if(a!==null){t:{var l=xt;if(qt){if(fe){e:{for(var f=fe,m=gi;f.nodeType!==8;){if(!m){f=null;break e}if(f=$n(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){fe=$n(f.nextSibling),l=f.data==="F!";break t}}Gr(l)}l=!1}l&&(r=a[0])}}return a=fn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zv,lastRenderedState:r},a.queue=l,a=o_.bind(null,xt,l),l.dispatch=a,l=jd(!1),m=Gd.bind(null,xt,!1,l.queue),l=fn(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,a=OR.bind(null,xt,f,m,a),f.dispatch=a,l.memoizedState=i,[r,a,!1]}function Fv(i){var r=Se();return Hv(r,Xt,i)}function Hv(i,r,a){if(r=Ld(i,r,zv)[0],i=Lc($i)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Nl(r)}catch(T){throw T===Rl?Vc:T}else l=r;r=Se();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(xt.flags|=2048,Qa(9,Uc(),PR.bind(null,f,a),null)),[l,m,i]}function PR(i,r){i.action=r}function Gv(i){var r=Se(),a=Xt;if(a!==null)return Hv(r,a,i);Se(),r=r.memoizedState,a=Se();var l=a.queue.dispatch;return a.memoizedState=i,[r,l,!1]}function Qa(i,r,a,l){return i={tag:i,create:a,deps:l,inst:r,next:null},r=xt.updateQueue,r===null&&(r=Pd(),xt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,r.lastEffect=i),i}function Uc(){return{destroy:void 0,resource:void 0}}function Kv(){return Se().memoizedState}function jc(i,r,a,l){var f=fn();l=l===void 0?null:l,xt.flags|=i,f.memoizedState=Qa(1|r,Uc(),a,l)}function Ml(i,r,a,l){var f=Se();l=l===void 0?null:l;var m=f.memoizedState.inst;Xt!==null&&l!==null&&Dd(l,Xt.memoizedState.deps)?f.memoizedState=Qa(r,m,a,l):(xt.flags|=i,f.memoizedState=Qa(1|r,m,a,l))}function Yv(i,r){jc(8390656,8,i,r)}function Qv(i,r){Ml(2048,8,i,r)}function Xv(i,r){return Ml(4,2,i,r)}function $v(i,r){return Ml(4,4,i,r)}function Wv(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Zv(i,r,a){a=a!=null?a.concat([i]):null,Ml(4,4,Wv.bind(null,r,i),a)}function zd(){}function Jv(i,r){var a=Se();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Dd(r,l[1])?l[0]:(a.memoizedState=[i,r],i)}function t_(i,r){var a=Se();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Dd(r,l[1]))return l[0];if(l=i(),Xr){vn(!0);try{i()}finally{vn(!1)}}return a.memoizedState=[l,r],l}function qd(i,r,a){return a===void 0||(Ds&1073741824)!==0?i.memoizedState=r:(i.memoizedState=a,i=i0(),xt.lanes|=i,Ls|=i,a)}function e_(i,r,a,l){return Tn(a,r)?a:Ga.current!==null?(i=qd(i,a,l),Tn(i,r)||(Ue=!0),i):(Ds&42)===0?(Ue=!0,i.memoizedState=a):(i=i0(),xt.lanes|=i,Ls|=i,r)}function n_(i,r,a,l,f){var m=it.p;it.p=m!==0&&8>m?m:8;var T=X.T,b={};X.T=b,Gd(i,!1,r,a);try{var I=f(),z=X.S;if(z!==null&&z(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=VR(I,l);Ol(i,r,$,wn(i))}else Ol(i,r,l,wn(i))}catch(tt){Ol(i,r,{then:function(){},status:"rejected",reason:tt},wn())}finally{it.p=m,X.T=T}}function kR(){}function Fd(i,r,a,l){if(i.tag!==5)throw Error(s(476));var f=i_(i).queue;n_(i,f,r,ct,a===null?kR:function(){return s_(i),a(l)})}function i_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:ct},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function s_(i){var r=i_(i).next.queue;Ol(i,r,{},wn())}function Hd(){return Je(Zl)}function r_(){return Se().memoizedState}function a_(){return Se().memoizedState}function LR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=wn();i=Cs(a);var l=xs(r,i,a);l!==null&&(Rn(l,r,a),Cl(l,r,a)),r={cache:Td()},i.payload=r;return}r=r.return}}function UR(i,r,a){var l=wn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Bc(i)?l_(r,a):(a=cd(i,r,a,l),a!==null&&(Rn(a,i,l),u_(a,r,l)))}function o_(i,r,a){var l=wn();Ol(i,r,a,l)}function Ol(i,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Bc(i))l_(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var T=r.lastRenderedState,b=m(T,a);if(f.hasEagerState=!0,f.eagerState=b,Tn(b,T))return bc(i,r,f,0),ee===null&&Ac(),!1}catch{}finally{}if(a=cd(i,r,f,l),a!==null)return Rn(a,i,l),u_(a,r,l),!0}return!1}function Gd(i,r,a,l){if(l={lane:2,revertLane:bm(),action:l,hasEagerState:!1,eagerState:null,next:null},Bc(i)){if(r)throw Error(s(479))}else r=cd(i,a,l,2),r!==null&&Rn(r,i,2)}function Bc(i){var r=i.alternate;return i===xt||r!==null&&r===xt}function l_(i,r){Ka=Oc=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function u_(i,r,a){if((a&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,nl(i,a)}}var zc={readContext:Je,use:kc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},c_={readContext:Je,use:kc,useCallback:function(i,r){return fn().memoizedState=[i,r===void 0?null:r],i},useContext:Je,useEffect:Yv,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,jc(4194308,4,Wv.bind(null,r,i),a)},useLayoutEffect:function(i,r){return jc(4194308,4,i,r)},useInsertionEffect:function(i,r){jc(4,2,i,r)},useMemo:function(i,r){var a=fn();r=r===void 0?null:r;var l=i();if(Xr){vn(!0);try{i()}finally{vn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(i,r,a){var l=fn();if(a!==void 0){var f=a(r);if(Xr){vn(!0);try{a(r)}finally{vn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=UR.bind(null,xt,i),[l.memoizedState,i]},useRef:function(i){var r=fn();return i={current:i},r.memoizedState=i},useState:function(i){i=jd(i);var r=i.queue,a=o_.bind(null,xt,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:zd,useDeferredValue:function(i,r){var a=fn();return qd(a,i,r)},useTransition:function(){var i=jd(!1);return i=n_.bind(null,xt,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var l=xt,f=fn();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ee===null)throw Error(s(349));(jt&124)!==0||Vv(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,Yv(Mv.bind(null,l,m,i),[i]),l.flags|=2048,Qa(9,Uc(),Nv.bind(null,l,m,a,r),null),a},useId:function(){var i=fn(),r=ee.identifierPrefix;if(qt){var a=Yi,l=Ki;a=(l&~(1<<32-Ze(l)-1)).toString(32)+a,r=""+r+"R"+a,a=Pc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=NR++,r=""+r+"r"+a.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:Hd,useFormState:qv,useActionState:qv,useOptimistic:function(i){var r=fn();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Gd.bind(null,xt,!0,a),a.dispatch=r,[i,r]},useMemoCache:kd,useCacheRefresh:function(){return fn().memoizedState=LR.bind(null,xt)}},h_={readContext:Je,use:kc,useCallback:Jv,useContext:Je,useEffect:Qv,useImperativeHandle:Zv,useInsertionEffect:Xv,useLayoutEffect:$v,useMemo:t_,useReducer:Lc,useRef:Kv,useState:function(){return Lc($i)},useDebugValue:zd,useDeferredValue:function(i,r){var a=Se();return e_(a,Xt.memoizedState,i,r)},useTransition:function(){var i=Lc($i)[0],r=Se().memoizedState;return[typeof i=="boolean"?i:Nl(i),r]},useSyncExternalStore:Dv,useId:r_,useHostTransitionStatus:Hd,useFormState:Fv,useActionState:Fv,useOptimistic:function(i,r){var a=Se();return kv(a,Xt,i,r)},useMemoCache:kd,useCacheRefresh:a_},jR={readContext:Je,use:kc,useCallback:Jv,useContext:Je,useEffect:Qv,useImperativeHandle:Zv,useInsertionEffect:Xv,useLayoutEffect:$v,useMemo:t_,useReducer:Ud,useRef:Kv,useState:function(){return Ud($i)},useDebugValue:zd,useDeferredValue:function(i,r){var a=Se();return Xt===null?qd(a,i,r):e_(a,Xt.memoizedState,i,r)},useTransition:function(){var i=Ud($i)[0],r=Se().memoizedState;return[typeof i=="boolean"?i:Nl(i),r]},useSyncExternalStore:Dv,useId:r_,useHostTransitionStatus:Hd,useFormState:Gv,useActionState:Gv,useOptimistic:function(i,r){var a=Se();return Xt!==null?kv(a,Xt,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:kd,useCacheRefresh:a_},Xa=null,Pl=0;function qc(i){var r=Pl;return Pl+=1,Xa===null&&(Xa=[]),Av(Xa,i,r)}function kl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Fc(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function f_(i){var r=i._init;return r(i._payload)}function d_(i){function r(k,N){if(i){var B=k.deletions;B===null?(k.deletions=[N],k.flags|=16):B.push(N)}}function a(k,N){if(!i)return null;for(;N!==null;)r(k,N),N=N.sibling;return null}function l(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function f(k,N){return k=Gi(k,N),k.index=0,k.sibling=null,k}function m(k,N,B){return k.index=B,i?(B=k.alternate,B!==null?(B=B.index,B<N?(k.flags|=67108866,N):B):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function T(k){return i&&k.alternate===null&&(k.flags|=67108866),k}function b(k,N,B,Z){return N===null||N.tag!==6?(N=fd(B,k.mode,Z),N.return=k,N):(N=f(N,B),N.return=k,N)}function I(k,N,B,Z){var dt=B.type;return dt===L?$(k,N,B.props.children,Z,B.key):N!==null&&(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&f_(dt)===N.type)?(N=f(N,B.props),kl(N,B),N.return=k,N):(N=wc(B.type,B.key,B.props,null,k.mode,Z),kl(N,B),N.return=k,N)}function z(k,N,B,Z){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=dd(B,k.mode,Z),N.return=k,N):(N=f(N,B.children||[]),N.return=k,N)}function $(k,N,B,Z,dt){return N===null||N.tag!==7?(N=zr(B,k.mode,Z,dt),N.return=k,N):(N=f(N,B),N.return=k,N)}function tt(k,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=fd(""+N,k.mode,B),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return B=wc(N.type,N.key,N.props,null,k.mode,B),kl(B,N),B.return=k,B;case C:return N=dd(N,k.mode,B),N.return=k,N;case w:var Z=N._init;return N=Z(N._payload),tt(k,N,B)}if(ne(N)||U(N))return N=zr(N,k.mode,B,null),N.return=k,N;if(typeof N.then=="function")return tt(k,qc(N),B);if(N.$$typeof===Y)return tt(k,xc(k,N),B);Fc(k,N)}return null}function q(k,N,B,Z){var dt=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return dt!==null?null:b(k,N,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return B.key===dt?I(k,N,B,Z):null;case C:return B.key===dt?z(k,N,B,Z):null;case w:return dt=B._init,B=dt(B._payload),q(k,N,B,Z)}if(ne(B)||U(B))return dt!==null?null:$(k,N,B,Z,null);if(typeof B.then=="function")return q(k,N,qc(B),Z);if(B.$$typeof===Y)return q(k,N,xc(k,B),Z);Fc(k,B)}return null}function H(k,N,B,Z,dt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return k=k.get(B)||null,b(N,k,""+Z,dt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return k=k.get(Z.key===null?B:Z.key)||null,I(N,k,Z,dt);case C:return k=k.get(Z.key===null?B:Z.key)||null,z(N,k,Z,dt);case w:var Vt=Z._init;return Z=Vt(Z._payload),H(k,N,B,Z,dt)}if(ne(Z)||U(Z))return k=k.get(B)||null,$(N,k,Z,dt,null);if(typeof Z.then=="function")return H(k,N,B,qc(Z),dt);if(Z.$$typeof===Y)return H(k,N,B,xc(N,Z),dt);Fc(N,Z)}return null}function Et(k,N,B,Z){for(var dt=null,Vt=null,pt=N,_t=N=0,Be=null;pt!==null&&_t<B.length;_t++){pt.index>_t?(Be=pt,pt=null):Be=pt.sibling;var zt=q(k,pt,B[_t],Z);if(zt===null){pt===null&&(pt=Be);break}i&&pt&&zt.alternate===null&&r(k,pt),N=m(zt,N,_t),Vt===null?dt=zt:Vt.sibling=zt,Vt=zt,pt=Be}if(_t===B.length)return a(k,pt),qt&&Fr(k,_t),dt;if(pt===null){for(;_t<B.length;_t++)pt=tt(k,B[_t],Z),pt!==null&&(N=m(pt,N,_t),Vt===null?dt=pt:Vt.sibling=pt,Vt=pt);return qt&&Fr(k,_t),dt}for(pt=l(pt);_t<B.length;_t++)Be=H(pt,k,_t,B[_t],Z),Be!==null&&(i&&Be.alternate!==null&&pt.delete(Be.key===null?_t:Be.key),N=m(Be,N,_t),Vt===null?dt=Be:Vt.sibling=Be,Vt=Be);return i&&pt.forEach(function(Ks){return r(k,Ks)}),qt&&Fr(k,_t),dt}function vt(k,N,B,Z){if(B==null)throw Error(s(151));for(var dt=null,Vt=null,pt=N,_t=N=0,Be=null,zt=B.next();pt!==null&&!zt.done;_t++,zt=B.next()){pt.index>_t?(Be=pt,pt=null):Be=pt.sibling;var Ks=q(k,pt,zt.value,Z);if(Ks===null){pt===null&&(pt=Be);break}i&&pt&&Ks.alternate===null&&r(k,pt),N=m(Ks,N,_t),Vt===null?dt=Ks:Vt.sibling=Ks,Vt=Ks,pt=Be}if(zt.done)return a(k,pt),qt&&Fr(k,_t),dt;if(pt===null){for(;!zt.done;_t++,zt=B.next())zt=tt(k,zt.value,Z),zt!==null&&(N=m(zt,N,_t),Vt===null?dt=zt:Vt.sibling=zt,Vt=zt);return qt&&Fr(k,_t),dt}for(pt=l(pt);!zt.done;_t++,zt=B.next())zt=H(pt,k,_t,zt.value,Z),zt!==null&&(i&&zt.alternate!==null&&pt.delete(zt.key===null?_t:zt.key),N=m(zt,N,_t),Vt===null?dt=zt:Vt.sibling=zt,Vt=zt);return i&&pt.forEach(function(BI){return r(k,BI)}),qt&&Fr(k,_t),dt}function Wt(k,N,B,Z){if(typeof B=="object"&&B!==null&&B.type===L&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case A:t:{for(var dt=B.key;N!==null;){if(N.key===dt){if(dt=B.type,dt===L){if(N.tag===7){a(k,N.sibling),Z=f(N,B.props.children),Z.return=k,k=Z;break t}}else if(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&f_(dt)===N.type){a(k,N.sibling),Z=f(N,B.props),kl(Z,B),Z.return=k,k=Z;break t}a(k,N);break}else r(k,N);N=N.sibling}B.type===L?(Z=zr(B.props.children,k.mode,Z,B.key),Z.return=k,k=Z):(Z=wc(B.type,B.key,B.props,null,k.mode,Z),kl(Z,B),Z.return=k,k=Z)}return T(k);case C:t:{for(dt=B.key;N!==null;){if(N.key===dt)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(k,N.sibling),Z=f(N,B.children||[]),Z.return=k,k=Z;break t}else{a(k,N);break}else r(k,N);N=N.sibling}Z=dd(B,k.mode,Z),Z.return=k,k=Z}return T(k);case w:return dt=B._init,B=dt(B._payload),Wt(k,N,B,Z)}if(ne(B))return Et(k,N,B,Z);if(U(B)){if(dt=U(B),typeof dt!="function")throw Error(s(150));return B=dt.call(B),vt(k,N,B,Z)}if(typeof B.then=="function")return Wt(k,N,qc(B),Z);if(B.$$typeof===Y)return Wt(k,N,xc(k,B),Z);Fc(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(a(k,N.sibling),Z=f(N,B),Z.return=k,k=Z):(a(k,N),Z=fd(B,k.mode,Z),Z.return=k,k=Z),T(k)):a(k,N)}return function(k,N,B,Z){try{Pl=0;var dt=Wt(k,N,B,Z);return Xa=null,dt}catch(pt){if(pt===Rl||pt===Vc)throw pt;var Vt=En(29,pt,null,k.mode);return Vt.lanes=Z,Vt.return=k,Vt}finally{}}}var $a=d_(!0),m_=d_(!1),Ln=nt(null),yi=null;function Vs(i){var r=i.alternate;rt(Me,Me.current&1),rt(Ln,i),yi===null&&(r===null||Ga.current!==null||r.memoizedState!==null)&&(yi=i)}function p_(i){if(i.tag===22){if(rt(Me,Me.current),rt(Ln,i),yi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(yi=i)}}else Ns()}function Ns(){rt(Me,Me.current),rt(Ln,Ln.current)}function Wi(i){lt(Ln),yi===i&&(yi=null),lt(Me)}var Me=nt(0);function Hc(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Pm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Kd(i,r,a,l){r=i.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Yd={enqueueSetState:function(i,r,a){i=i._reactInternals;var l=wn(),f=Cs(l);f.payload=r,a!=null&&(f.callback=a),r=xs(i,f,l),r!==null&&(Rn(r,i,l),Cl(r,i,l))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var l=wn(),f=Cs(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=xs(i,f,l),r!==null&&(Rn(r,i,l),Cl(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=wn(),l=Cs(a);l.tag=2,r!=null&&(l.callback=r),r=xs(i,l,a),r!==null&&(Rn(r,i,a),Cl(r,i,a))}};function g_(i,r,a,l,f,m,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,T):r.prototype&&r.prototype.isPureReactComponent?!vl(a,l)||!vl(f,m):!0}function y_(i,r,a,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==i&&Yd.enqueueReplaceState(r,r.state,null)}function $r(i,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(i=i.defaultProps){a===r&&(a=v({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}var Gc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function v_(i){Gc(i)}function __(i){console.error(i)}function T_(i){Gc(i)}function Kc(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function E_(i,r,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Qd(i,r,a){return a=Cs(a),a.tag=3,a.payload={element:null},a.callback=function(){Kc(i,r)},a}function A_(i){return i=Cs(i),i.tag=3,i}function b_(i,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;i.payload=function(){return f(m)},i.callback=function(){E_(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){E_(r,a,l),typeof f!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function BR(i,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&bl(r,a,f,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return yi===null?vm():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===bd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Tm(i,l,f)),!1;case 22:return a.flags|=65536,l===bd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Tm(i,l,f)),!1}throw Error(s(435,a.tag))}return Tm(i,l,f),vm(),!1}if(qt)return r=Ln.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==gd&&(i=Error(s(422),{cause:l}),Al(Mn(i,a)))):(l!==gd&&(r=Error(s(423),{cause:l}),Al(Mn(r,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=Mn(l,a),f=Qd(i.stateNode,l,f),Rd(i,f),de!==4&&(de=2)),!1;var m=Error(s(520),{cause:l});if(m=Mn(m,a),Fl===null?Fl=[m]:Fl.push(m),de!==4&&(de=2),r===null)return!0;l=Mn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=Qd(a.stateNode,l,i),Rd(a,i),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Us===null||!Us.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=A_(f),b_(f,i,a,l),Rd(a,f),!1}a=a.return}while(a!==null);return!1}var S_=Error(s(461)),Ue=!1;function Ge(i,r,a,l){r.child=i===null?m_(r,null,a,l):$a(r,i.child,a,l)}function w_(i,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var T={};for(var b in l)b!=="ref"&&(T[b]=l[b])}else T=l;return Yr(r),l=Vd(i,r,a,T,m,f),b=Nd(),i!==null&&!Ue?(Md(i,r,f),Zi(i,r,f)):(qt&&b&&md(r),r.flags|=1,Ge(i,r,l,f),r.child)}function R_(i,r,a,l,f){if(i===null){var m=a.type;return typeof m=="function"&&!hd(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,I_(i,r,m,l,f)):(i=wc(a.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!nm(i,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:vl,a(T,l)&&i.ref===r.ref)return Zi(i,r,f)}return r.flags|=1,i=Gi(m,l),i.ref=r.ref,i.return=r,r.child=i}function I_(i,r,a,l,f){if(i!==null){var m=i.memoizedProps;if(vl(m,l)&&i.ref===r.ref)if(Ue=!1,r.pendingProps=l=m,nm(i,f))(i.flags&131072)!==0&&(Ue=!0);else return r.lanes=i.lanes,Zi(i,r,f)}return Xd(i,r,a,l,f)}function C_(i,r,a){var l=r.pendingProps,f=l.children,m=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,i!==null){for(f=r.child=i.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return x_(i,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Dc(r,m!==null?m.cachePool:null),m!==null?Iv(r,m):Cd(),p_(r);else return r.lanes=r.childLanes=536870912,x_(i,r,m!==null?m.baseLanes|a:a,a)}else m!==null?(Dc(r,m.cachePool),Iv(r,m),Ns(),r.memoizedState=null):(i!==null&&Dc(r,null),Cd(),Ns());return Ge(i,r,f,a),r.child}function x_(i,r,a,l){var f=Ad();return f=f===null?null:{parent:Ne._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},i!==null&&Dc(r,null),Cd(),p_(r),i!==null&&bl(i,r,l,!0),null}function Yc(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function Xd(i,r,a,l,f){return Yr(r),a=Vd(i,r,a,l,void 0,f),l=Nd(),i!==null&&!Ue?(Md(i,r,f),Zi(i,r,f)):(qt&&l&&md(r),r.flags|=1,Ge(i,r,a,f),r.child)}function D_(i,r,a,l,f,m){return Yr(r),r.updateQueue=null,a=xv(r,l,a,f),Cv(i),l=Nd(),i!==null&&!Ue?(Md(i,r,m),Zi(i,r,m)):(qt&&l&&md(r),r.flags|=1,Ge(i,r,a,m),r.child)}function V_(i,r,a,l,f){if(Yr(r),r.stateNode===null){var m=Ba,T=a.contextType;typeof T=="object"&&T!==null&&(m=Je(T)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Yd,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},Sd(r),T=a.contextType,m.context=typeof T=="object"&&T!==null?Je(T):Ba,m.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Kd(r,a,T,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Yd.enqueueReplaceState(m,m.state,null),Dl(r,l,m,f),xl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){m=r.stateNode;var b=r.memoizedProps,I=$r(a,b);m.props=I;var z=m.context,$=a.contextType;T=Ba,typeof $=="object"&&$!==null&&(T=Je($));var tt=a.getDerivedStateFromProps;$=typeof tt=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,$||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||z!==T)&&y_(r,m,l,T),Is=!1;var q=r.memoizedState;m.state=q,Dl(r,l,m,f),xl(),z=r.memoizedState,b||q!==z||Is?(typeof tt=="function"&&(Kd(r,a,tt,l),z=r.memoizedState),(I=Is||g_(r,a,I,l,q,z,T))?($||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=z),m.props=l,m.state=z,m.context=T,l=I):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,wd(i,r),T=r.memoizedProps,$=$r(a,T),m.props=$,tt=r.pendingProps,q=m.context,z=a.contextType,I=Ba,typeof z=="object"&&z!==null&&(I=Je(z)),b=a.getDerivedStateFromProps,(z=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==tt||q!==I)&&y_(r,m,l,I),Is=!1,q=r.memoizedState,m.state=q,Dl(r,l,m,f),xl();var H=r.memoizedState;T!==tt||q!==H||Is||i!==null&&i.dependencies!==null&&Cc(i.dependencies)?(typeof b=="function"&&(Kd(r,a,b,l),H=r.memoizedState),($=Is||g_(r,a,$,l,q,H,I)||i!==null&&i.dependencies!==null&&Cc(i.dependencies))?(z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,H,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,H,I)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=H),m.props=l,m.state=H,m.context=I,l=$):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),l=!1)}return m=l,Yc(i,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&l?(r.child=$a(r,i.child,null,f),r.child=$a(r,null,a,f)):Ge(i,r,a,f),r.memoizedState=m.state,i=r.child):i=Zi(i,r,f),i}function N_(i,r,a,l){return El(),r.flags|=256,Ge(i,r,a,l),r.child}var $d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wd(i){return{baseLanes:i,cachePool:_v()}}function Zd(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=Un),i}function M_(i,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,T;if((T=m)||(T=i!==null&&i.memoizedState===null?!1:(Me.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(qt){if(f?Vs(r):Ns(),qt){var b=fe,I;if(I=b){t:{for(I=b,b=gi;I.nodeType!==8;){if(!b){b=null;break t}if(I=$n(I.nextSibling),I===null){b=null;break t}}b=I}b!==null?(r.memoizedState={dehydrated:b,treeContext:qr!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},I=En(18,null,null,0),I.stateNode=b,I.return=r,r.child=I,cn=r,fe=null,I=!0):I=!1}I||Gr(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Pm(b)?r.lanes=32:r.lanes=536870912,null;Wi(r)}return b=l.children,l=l.fallback,f?(Ns(),f=r.mode,b=Qc({mode:"hidden",children:b},f),l=zr(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,f=r.child,f.memoizedState=Wd(a),f.childLanes=Zd(i,T,a),r.memoizedState=$d,l):(Vs(r),Jd(r,b))}if(I=i.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(m)r.flags&256?(Vs(r),r.flags&=-257,r=tm(i,r,a)):r.memoizedState!==null?(Ns(),r.child=i.child,r.flags|=128,r=null):(Ns(),f=l.fallback,b=r.mode,l=Qc({mode:"visible",children:l.children},b),f=zr(f,b,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,$a(r,i.child,null,a),l=r.child,l.memoizedState=Wd(a),l.childLanes=Zd(i,T,a),r.memoizedState=$d,r=f);else if(Vs(r),Pm(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var z=T.dgst;T=z,l=Error(s(419)),l.stack="",l.digest=T,Al({value:l,source:null,stack:null}),r=tm(i,r,a)}else if(Ue||bl(i,r,a,!1),T=(a&i.childLanes)!==0,Ue||T){if(T=ee,T!==null&&(l=a&-a,l=(l&42)!==0?1:_s(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,ja(i,l),Rn(T,i,l),S_;b.data==="$?"||vm(),r=tm(i,r,a)}else b.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=I.treeContext,fe=$n(b.nextSibling),cn=r,qt=!0,Hr=null,gi=!1,i!==null&&(Pn[kn++]=Ki,Pn[kn++]=Yi,Pn[kn++]=qr,Ki=i.id,Yi=i.overflow,qr=r),r=Jd(r,l.children),r.flags|=4096);return r}return f?(Ns(),f=l.fallback,b=r.mode,I=i.child,z=I.sibling,l=Gi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?f=Gi(z,f):(f=zr(f,b,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,b=i.child.memoizedState,b===null?b=Wd(a):(I=b.cachePool,I!==null?(z=Ne._currentValue,I=I.parent!==z?{parent:z,pool:z}:I):I=_v(),b={baseLanes:b.baseLanes|a,cachePool:I}),f.memoizedState=b,f.childLanes=Zd(i,T,a),r.memoizedState=$d,l):(Vs(r),a=i.child,i=a.sibling,a=Gi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=a,r.memoizedState=null,a)}function Jd(i,r){return r=Qc({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Qc(i,r){return i=En(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function tm(i,r,a){return $a(r,i.child,null,a),i=Jd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function O_(i,r,a){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),vd(i.return,r,a)}function em(i,r,a,l,f){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function P_(i,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if(Ge(i,r,l.children,a),l=Me.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&O_(i,a,r);else if(i.tag===19)O_(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(rt(Me,l),f){case"forwards":for(a=r.child,f=null;a!==null;)i=a.alternate,i!==null&&Hc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),em(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Hc(i)===null){r.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}em(r,!0,a,null,m);break;case"together":em(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Zi(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Ls|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(bl(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Gi(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Gi(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function nm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Cc(i)))}function zR(i,r,a){switch(r.tag){case 3:te(r,r.stateNode.containerInfo),Rs(r,Ne,i.memoizedState.cache),El();break;case 27:case 5:vs(r);break;case 4:te(r,r.stateNode.containerInfo);break;case 10:Rs(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Vs(r),r.flags|=128,null):(a&r.child.childLanes)!==0?M_(i,r,a):(Vs(r),i=Zi(i,r,a),i!==null?i.sibling:null);Vs(r);break;case 19:var f=(i.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(bl(i,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return P_(i,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),rt(Me,Me.current),l)break;return null;case 22:case 23:return r.lanes=0,C_(i,r,a);case 24:Rs(r,Ne,i.memoizedState.cache)}return Zi(i,r,a)}function k_(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ue=!0;else{if(!nm(i,a)&&(r.flags&128)===0)return Ue=!1,zR(i,r,a);Ue=(i.flags&131072)!==0}else Ue=!1,qt&&(r.flags&1048576)!==0&&fv(r,Ic,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")hd(l)?(i=$r(l,i),r.tag=1,r=V_(null,r,l,i,a)):(r.tag=0,r=Xd(null,r,l,i,a));else{if(l!=null){if(f=l.$$typeof,f===ut){r.tag=11,r=w_(null,r,l,i,a);break t}else if(f===V){r.tag=14,r=R_(null,r,l,i,a);break t}}throw r=Te(l)||l,Error(s(306,r,""))}}return r;case 0:return Xd(i,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=$r(l,r.pendingProps),V_(i,r,l,f,a);case 3:t:{if(te(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,wd(i,r),Dl(r,l,null,a);var T=r.memoizedState;if(l=T.cache,Rs(r,Ne,l),l!==m.cache&&_d(r,[Ne],a,!0),xl(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=N_(i,r,l,a);break t}else if(l!==f){f=Mn(Error(s(424)),r),Al(f),r=N_(i,r,l,a);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fe=$n(i.firstChild),cn=r,qt=!0,Hr=null,gi=!0,a=m_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(El(),l===f){r=Zi(i,r,a);break t}Ge(i,r,l,a)}r=r.child}return r;case 26:return Yc(i,r),i===null?(a=B0(r.type,null,r.pendingProps,null))?r.memoizedState=a:qt||(a=r.type,i=r.pendingProps,l=lh(St.current).createElement(a),l[xe]=r,l[Ee]=i,Ye(l,a,i),pe(l),r.stateNode=l):r.memoizedState=B0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return vs(r),i===null&&qt&&(l=r.stateNode=L0(r.type,r.pendingProps,St.current),cn=r,gi=!0,f=fe,zs(r.type)?(km=f,fe=$n(l.firstChild)):fe=f),Ge(i,r,r.pendingProps.children,a),Yc(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&qt&&((f=l=fe)&&(l=pI(l,r.type,r.pendingProps,gi),l!==null?(r.stateNode=l,cn=r,fe=$n(l.firstChild),gi=!1,f=!0):f=!1),f||Gr(r)),vs(r),f=r.type,m=r.pendingProps,T=i!==null?i.memoizedProps:null,l=m.children,Nm(f,m)?l=null:T!==null&&Nm(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=Vd(i,r,MR,null,null,a),Zl._currentValue=f),Yc(i,r),Ge(i,r,l,a),r.child;case 6:return i===null&&qt&&((i=a=fe)&&(a=gI(a,r.pendingProps,gi),a!==null?(r.stateNode=a,cn=r,fe=null,i=!0):i=!1),i||Gr(r)),null;case 13:return M_(i,r,a);case 4:return te(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=$a(r,null,l,a):Ge(i,r,l,a),r.child;case 11:return w_(i,r,r.type,r.pendingProps,a);case 7:return Ge(i,r,r.pendingProps,a),r.child;case 8:return Ge(i,r,r.pendingProps.children,a),r.child;case 12:return Ge(i,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Rs(r,r.type,l.value),Ge(i,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Yr(r),f=Je(f),l=l(f),r.flags|=1,Ge(i,r,l,a),r.child;case 14:return R_(i,r,r.type,r.pendingProps,a);case 15:return I_(i,r,r.type,r.pendingProps,a);case 19:return P_(i,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},i===null?(a=Qc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Gi(i.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return C_(i,r,a);case 24:return Yr(r),l=Je(Ne),i===null?(f=Ad(),f===null&&(f=ee,m=Td(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},Sd(r),Rs(r,Ne,f)):((i.lanes&a)!==0&&(wd(i,r),Dl(r,null,null,a),xl()),f=i.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Rs(r,Ne,l)):(l=m.cache,Rs(r,Ne,l),l!==f.cache&&_d(r,[Ne],a,!0))),Ge(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ji(i){i.flags|=4}function L_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!G0(r)){if(r=Ln.current,r!==null&&((jt&4194048)===jt?yi!==null:(jt&62914560)!==jt&&(jt&536870912)===0||r!==yi))throw Il=bd,Tv;i.flags|=8192}}function Xc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?tl():536870912,i.lanes|=r,to|=r)}function Ll(i,r){if(!qt)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function oe(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(r)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,r}function qR(i,r,a){var l=r.pendingProps;switch(pd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(r),null;case 1:return oe(r),null;case 3:return a=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Xi(Ne),si(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Tl(r)?Ji(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,pv())),oe(r),null;case 26:return a=r.memoizedState,i===null?(Ji(r),a!==null?(oe(r),L_(r,a)):(oe(r),r.flags&=-16777217)):a?a!==i.memoizedState?(Ji(r),oe(r),L_(r,a)):(oe(r),r.flags&=-16777217):(i.memoizedProps!==l&&Ji(r),oe(r),r.flags&=-16777217),null;case 27:Ni(r),a=St.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Ji(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return oe(r),null}i=yt.current,Tl(r)?dv(r):(i=L0(f,l,a),r.stateNode=i,Ji(r))}return oe(r),null;case 5:if(Ni(r),a=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Ji(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return oe(r),null}if(i=yt.current,Tl(r))dv(r);else{switch(f=lh(St.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}i[xe]=r,i[Ee]=l;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch(Ye(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Ji(r)}}return oe(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&Ji(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=St.current,Tl(r)){if(i=r.stateNode,a=r.memoizedProps,l=null,f=cn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[xe]=r,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||D0(i.nodeValue,a)),i||Gr(r)}else i=lh(i).createTextNode(l),i[xe]=r,r.stateNode=i}return oe(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Tl(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xe]=r}else El(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),f=!1}else f=pv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Wi(r),r):(Wi(r),null)}if(Wi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==i&&a&&(r.child.flags|=8192),Xc(r,r.updateQueue),oe(r),null;case 4:return si(),i===null&&Im(r.stateNode.containerInfo),oe(r),null;case 10:return Xi(r.type),oe(r),null;case 19:if(lt(Me),f=r.memoizedState,f===null)return oe(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)Ll(f,!1);else{if(de!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=Hc(i),m!==null){for(r.flags|=128,Ll(f,!1),i=m.updateQueue,r.updateQueue=i,Xc(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)hv(a,i),a=a.sibling;return rt(Me,Me.current&1|2),r.child}i=i.sibling}f.tail!==null&&In()>Zc&&(r.flags|=128,l=!0,Ll(f,!1),r.lanes=4194304)}else{if(!l)if(i=Hc(m),i!==null){if(r.flags|=128,l=!0,i=i.updateQueue,r.updateQueue=i,Xc(r,i),Ll(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!qt)return oe(r),null}else 2*In()-f.renderingStartTime>Zc&&a!==536870912&&(r.flags|=128,l=!0,Ll(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(i=f.last,i!==null?i.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=In(),r.sibling=null,i=Me.current,rt(Me,l?i&1|2:i&1),r):(oe(r),null);case 22:case 23:return Wi(r),xd(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(oe(r),r.subtreeFlags&6&&(r.flags|=8192)):oe(r),a=r.updateQueue,a!==null&&Xc(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),i!==null&&lt(Qr),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Xi(Ne),oe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function FR(i,r){switch(pd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Xi(Ne),si(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ni(r),null;case 13:if(Wi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));El()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return lt(Me),null;case 4:return si(),null;case 10:return Xi(r.type),null;case 22:case 23:return Wi(r),xd(),i!==null&&lt(Qr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Xi(Ne),null;case 25:return null;default:return null}}function U_(i,r){switch(pd(r),r.tag){case 3:Xi(Ne),si();break;case 26:case 27:case 5:Ni(r);break;case 4:si();break;case 13:Wi(r);break;case 19:lt(Me);break;case 10:Xi(r.type);break;case 22:case 23:Wi(r),xd(),i!==null&&lt(Qr);break;case 24:Xi(Ne)}}function Ul(i,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==f)}}catch(b){Zt(r,r.return,b)}}function Ms(i,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&i)===i){var T=l.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,f=r;var I=a,z=b;try{z()}catch($){Zt(f,I,$)}}}l=l.next}while(l!==m)}}catch($){Zt(r,r.return,$)}}function j_(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{Rv(r,a)}catch(l){Zt(i,i.return,l)}}}function B_(i,r,a){a.props=$r(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(i,r,l)}}function jl(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){Zt(i,r,f)}}function vi(i,r){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Zt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Zt(i,r,f)}else a.current=null}function z_(i){var r=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Zt(i,i.return,f)}}function im(i,r,a){try{var l=i.stateNode;cI(l,i.type,a,r),l[Ee]=r}catch(f){Zt(i,i.return,f)}}function q_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&zs(i.type)||i.tag===4}function sm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||q_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&zs(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function rm(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=oh));else if(l!==4&&(l===27&&zs(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(rm(i,r,a),i=i.sibling;i!==null;)rm(i,r,a),i=i.sibling}function $c(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(l!==4&&(l===27&&zs(i.type)&&(a=i.stateNode),i=i.child,i!==null))for($c(i,r,a),i=i.sibling;i!==null;)$c(i,r,a),i=i.sibling}function F_(i){var r=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ye(r,l,a),r[xe]=i,r[Ee]=a}catch(m){Zt(i,i.return,m)}}var ts=!1,ye=!1,am=!1,H_=typeof WeakSet=="function"?WeakSet:Set,je=null;function HR(i,r){if(i=i.containerInfo,Dm=mh,i=ev(i),sd(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,b=-1,I=-1,z=0,$=0,tt=i,q=null;e:for(;;){for(var H;tt!==a||f!==0&&tt.nodeType!==3||(b=T+f),tt!==m||l!==0&&tt.nodeType!==3||(I=T+l),tt.nodeType===3&&(T+=tt.nodeValue.length),(H=tt.firstChild)!==null;)q=tt,tt=H;for(;;){if(tt===i)break e;if(q===a&&++z===f&&(b=T),q===m&&++$===l&&(I=T),(H=tt.nextSibling)!==null)break;tt=q,q=tt.parentNode}tt=H}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vm={focusedElem:i,selectionRange:a},mh=!1,je=r;je!==null;)if(r=je,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,je=i;else for(;je!==null;){switch(r=je,m=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Et=$r(a.type,f,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(Et,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Zt(a,a.return,vt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Om(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Om(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,je=i;break}je=r.return}}function G_(i,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Os(i,a),l&4&&Ul(5,a);break;case 1:if(Os(i,a),l&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(T){Zt(a,a.return,T)}else{var f=$r(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Zt(a,a.return,T)}}l&64&&j_(a),l&512&&jl(a,a.return);break;case 3:if(Os(i,a),l&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Rv(i,r)}catch(T){Zt(a,a.return,T)}}break;case 27:r===null&&l&4&&F_(a);case 26:case 5:Os(i,a),r===null&&l&4&&z_(a),l&512&&jl(a,a.return);break;case 12:Os(i,a);break;case 13:Os(i,a),l&4&&Q_(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=JR.bind(null,a),yI(i,a))));break;case 22:if(l=a.memoizedState!==null||ts,!l){r=r!==null&&r.memoizedState!==null||ye,f=ts;var m=ye;ts=l,(ye=r)&&!m?Ps(i,a,(a.subtreeFlags&8772)!==0):Os(i,a),ts=f,ye=m}break;case 30:break;default:Os(i,a)}}function K_(i){var r=i.alternate;r!==null&&(i.alternate=null,K_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&As(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var re=null,dn=!1;function es(i,r,a){for(a=a.child;a!==null;)Y_(i,r,a),a=a.sibling}function Y_(i,r,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(he,a)}catch{}switch(a.tag){case 26:ye||vi(a,r),es(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ye||vi(a,r);var l=re,f=dn;zs(a.type)&&(re=a.stateNode,dn=!1),es(i,r,a),Ql(a.stateNode),re=l,dn=f;break;case 5:ye||vi(a,r);case 6:if(l=re,f=dn,re=null,es(i,r,a),re=l,dn=f,re!==null)if(dn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(m){Zt(a,r,m)}else try{re.removeChild(a.stateNode)}catch(m){Zt(a,r,m)}break;case 18:re!==null&&(dn?(i=re,P0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),nu(i)):P0(re,a.stateNode));break;case 4:l=re,f=dn,re=a.stateNode.containerInfo,dn=!0,es(i,r,a),re=l,dn=f;break;case 0:case 11:case 14:case 15:ye||Ms(2,a,r),ye||Ms(4,a,r),es(i,r,a);break;case 1:ye||(vi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&B_(a,r,l)),es(i,r,a);break;case 21:es(i,r,a);break;case 22:ye=(l=ye)||a.memoizedState!==null,es(i,r,a),ye=l;break;default:es(i,r,a)}}function Q_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{nu(i)}catch(a){Zt(r,r.return,a)}}function GR(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new H_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new H_),r;default:throw Error(s(435,i.tag))}}function om(i,r){var a=GR(i);r.forEach(function(l){var f=tI.bind(null,i,l);a.has(l)||(a.add(l),l.then(f,f))})}function An(i,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=i,T=r,b=T;t:for(;b!==null;){switch(b.tag){case 27:if(zs(b.type)){re=b.stateNode,dn=!1;break t}break;case 5:re=b.stateNode,dn=!1;break t;case 3:case 4:re=b.stateNode.containerInfo,dn=!0;break t}b=b.return}if(re===null)throw Error(s(160));Y_(m,T,f),re=null,dn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)X_(r,i),r=r.sibling}var Xn=null;function X_(i,r){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:An(r,i),bn(i),l&4&&(Ms(3,i,i.return),Ul(3,i),Ms(5,i,i.return));break;case 1:An(r,i),bn(i),l&512&&(ye||a===null||vi(a,a.return)),l&64&&ts&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Xn;if(An(r,i),bn(i),l&512&&(ye||a===null||vi(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[wr]||m[xe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Ye(m,l,a),m[xe]=i,pe(m),l=m;break t;case"link":var T=F0("link","href",f).get(l+(a.href||""));if(T){for(var b=0;b<T.length;b++)if(m=T[b],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(b,1);break e}}m=f.createElement(l),Ye(m,l,a),f.head.appendChild(m);break;case"meta":if(T=F0("meta","content",f).get(l+(a.content||""))){for(b=0;b<T.length;b++)if(m=T[b],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(b,1);break e}}m=f.createElement(l),Ye(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[xe]=i,pe(m),l=m}i.stateNode=l}else H0(f,i.type,i.stateNode);else i.stateNode=q0(f,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?H0(f,i.type,i.stateNode):q0(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&im(i,i.memoizedProps,a.memoizedProps)}break;case 27:An(r,i),bn(i),l&512&&(ye||a===null||vi(a,a.return)),a!==null&&l&4&&im(i,i.memoizedProps,a.memoizedProps);break;case 5:if(An(r,i),bn(i),l&512&&(ye||a===null||vi(a,a.return)),i.flags&32){f=i.stateNode;try{xn(f,"")}catch(H){Zt(i,i.return,H)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,im(i,f,a!==null?a.memoizedProps:f)),l&1024&&(am=!0);break;case 6:if(An(r,i),bn(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(H){Zt(i,i.return,H)}}break;case 3:if(hh=null,f=Xn,Xn=uh(r.containerInfo),An(r,i),Xn=f,bn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{nu(r.containerInfo)}catch(H){Zt(i,i.return,H)}am&&(am=!1,$_(i));break;case 4:l=Xn,Xn=uh(i.stateNode.containerInfo),An(r,i),bn(i),Xn=l;break;case 12:An(r,i),bn(i);break;case 13:An(r,i),bn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dm=In()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,om(i,l)));break;case 22:f=i.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=ts,$=ye;if(ts=z||f,ye=$||I,An(r,i),ye=$,ts=z,bn(i),l&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||I||ts||ye||Wr(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(m=I.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=I.stateNode;var tt=I.memoizedProps.style,q=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){Zt(I,I.return,H)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(H){Zt(I,I.return,H)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,om(i,a))));break;case 19:An(r,i),bn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,om(i,l)));break;case 30:break;case 21:break;default:An(r,i),bn(i)}}function bn(i){var r=i.flags;if(r&2){try{for(var a,l=i.return;l!==null;){if(q_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=sm(i);$c(i,m,f);break;case 5:var T=a.stateNode;a.flags&32&&(xn(T,""),a.flags&=-33);var b=sm(i);$c(i,b,T);break;case 3:case 4:var I=a.stateNode.containerInfo,z=sm(i);rm(i,z,I);break;default:throw Error(s(161))}}catch($){Zt(i,i.return,$)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function $_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;$_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Os(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)G_(i,r.alternate,r),r=r.sibling}function Wr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ms(4,r,r.return),Wr(r);break;case 1:vi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&B_(r,r.return,a),Wr(r);break;case 27:Ql(r.stateNode);case 26:case 5:vi(r,r.return),Wr(r);break;case 22:r.memoizedState===null&&Wr(r);break;case 30:Wr(r);break;default:Wr(r)}i=i.sibling}}function Ps(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,m=r,T=m.flags;switch(m.tag){case 0:case 11:case 15:Ps(f,m,a),Ul(4,m);break;case 1:if(Ps(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){Zt(l,l.return,z)}if(l=m,f=l.updateQueue,f!==null){var b=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)wv(I[f],b)}catch(z){Zt(l,l.return,z)}}a&&T&64&&j_(m),jl(m,m.return);break;case 27:F_(m);case 26:case 5:Ps(f,m,a),a&&l===null&&T&4&&z_(m),jl(m,m.return);break;case 12:Ps(f,m,a);break;case 13:Ps(f,m,a),a&&T&4&&Q_(f,m);break;case 22:m.memoizedState===null&&Ps(f,m,a),jl(m,m.return);break;case 30:break;default:Ps(f,m,a)}r=r.sibling}}function lm(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Sl(a))}function um(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Sl(i))}function _i(i,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)W_(i,r,a,l),r=r.sibling}function W_(i,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:_i(i,r,a,l),f&2048&&Ul(9,r);break;case 1:_i(i,r,a,l);break;case 3:_i(i,r,a,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Sl(i)));break;case 12:if(f&2048){_i(i,r,a,l),i=r.stateNode;try{var m=r.memoizedProps,T=m.id,b=m.onPostCommit;typeof b=="function"&&b(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){Zt(r,r.return,I)}}else _i(i,r,a,l);break;case 13:_i(i,r,a,l);break;case 23:break;case 22:m=r.stateNode,T=r.alternate,r.memoizedState!==null?m._visibility&2?_i(i,r,a,l):Bl(i,r):m._visibility&2?_i(i,r,a,l):(m._visibility|=2,Wa(i,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&lm(T,r);break;case 24:_i(i,r,a,l),f&2048&&um(r.alternate,r);break;default:_i(i,r,a,l)}}function Wa(i,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=i,T=r,b=a,I=l,z=T.flags;switch(T.tag){case 0:case 11:case 15:Wa(m,T,b,I,f),Ul(8,T);break;case 23:break;case 22:var $=T.stateNode;T.memoizedState!==null?$._visibility&2?Wa(m,T,b,I,f):Bl(m,T):($._visibility|=2,Wa(m,T,b,I,f)),f&&z&2048&&lm(T.alternate,T);break;case 24:Wa(m,T,b,I,f),f&&z&2048&&um(T.alternate,T);break;default:Wa(m,T,b,I,f)}r=r.sibling}}function Bl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,l=r,f=l.flags;switch(l.tag){case 22:Bl(a,l),f&2048&&lm(l.alternate,l);break;case 24:Bl(a,l),f&2048&&um(l.alternate,l);break;default:Bl(a,l)}r=r.sibling}}var zl=8192;function Za(i){if(i.subtreeFlags&zl)for(i=i.child;i!==null;)Z_(i),i=i.sibling}function Z_(i){switch(i.tag){case 26:Za(i),i.flags&zl&&i.memoizedState!==null&&DI(Xn,i.memoizedState,i.memoizedProps);break;case 5:Za(i);break;case 3:case 4:var r=Xn;Xn=uh(i.stateNode.containerInfo),Za(i),Xn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=zl,zl=16777216,Za(i),zl=r):Za(i));break;default:Za(i)}}function J_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function ql(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];je=l,e0(l,i)}J_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)t0(i),i=i.sibling}function t0(i){switch(i.tag){case 0:case 11:case 15:ql(i),i.flags&2048&&Ms(9,i,i.return);break;case 3:ql(i);break;case 12:ql(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Wc(i)):ql(i);break;default:ql(i)}}function Wc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];je=l,e0(l,i)}J_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ms(8,r,r.return),Wc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Wc(r));break;default:Wc(r)}i=i.sibling}}function e0(i,r){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:Ms(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=i;je!==null;){l=je;var f=l.sibling,m=l.return;if(K_(l),l===a){je=null;break t}if(f!==null){f.return=m,je=f;break t}je=m}}}var KR={getCacheForType:function(i){var r=Je(Ne),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a}},YR=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ee=null,Nt=null,jt=0,Yt=0,Sn=null,ks=!1,Ja=!1,cm=!1,ns=0,de=0,Ls=0,Zr=0,hm=0,Un=0,to=0,Fl=null,mn=null,fm=!1,dm=0,Zc=1/0,Jc=null,Us=null,Ke=0,js=null,eo=null,no=0,mm=0,pm=null,n0=null,Hl=0,gm=null;function wn(){if((Kt&2)!==0&&jt!==0)return jt&-jt;if(X.T!==null){var i=Fa;return i!==0?i:bm()}return Ts()}function i0(){Un===0&&(Un=(jt&536870912)===0||qt?Jo():536870912);var i=Ln.current;return i!==null&&(i.flags|=32),Un}function Rn(i,r,a){(i===ee&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)&&(io(i,0),Bs(i,jt,Un,!1)),Oi(i,a),((Kt&2)===0||i!==ee)&&(i===ee&&((Kt&2)===0&&(Zr|=a),de===4&&Bs(i,jt,Un,!1)),Ti(i))}function s0(i,r,a){if((Kt&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&i.expiredLanes)===0||Sr(i,r),f=l?$R(i,r):_m(i,r,!0),m=l;do{if(f===0){Ja&&!l&&Bs(i,r,0,!1);break}else{if(a=i.current.alternate,m&&!QR(a)){f=_m(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var b=i;f=Fl;var I=b.current.memoizedState.isDehydrated;if(I&&(io(b,T).flags|=256),T=_m(b,T,!1),T!==2){if(cm&&!I){b.errorRecoveryDisabledLanes|=m,Zr|=m,f=4;break t}m=mn,mn=f,m!==null&&(mn===null?mn=m:mn.push.apply(mn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){io(i,0),Bs(i,r,0,!0);break}t:{switch(l=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Bs(l,r,Un,!ks);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=dm+300-In(),10<f)){if(Bs(l,r,Un,!ks),Ta(l,0,!0)!==0)break t;l.timeoutHandle=M0(r0.bind(null,l,a,mn,Jc,fm,r,Un,Zr,to,ks,m,2,-0,0),f);break t}r0(l,a,mn,Jc,fm,r,Un,Zr,to,ks,m,0,-0,0)}}break}while(!0);Ti(i)}function r0(i,r,a,l,f,m,T,b,I,z,$,tt,q,H){if(i.timeoutHandle=-1,tt=r.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(Wl={stylesheets:null,count:0,unsuspend:xI},Z_(r),tt=VI(),tt!==null)){i.cancelPendingCommit=tt(f0.bind(null,i,r,m,a,l,f,T,b,I,$,1,q,H)),Bs(i,m,T,!z);return}f0(i,r,m,a,l,f,T,b,I)}function QR(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Tn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Bs(i,r,a,l){r&=~hm,r&=~Zr,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var m=31-Ze(f),T=1<<m;l[m]=-1,f&=~T}a!==0&&ri(i,a,r)}function th(){return(Kt&6)===0?(Gl(0),!1):!0}function ym(){if(Nt!==null){if(Yt===0)var i=Nt.return;else i=Nt,Qi=Kr=null,Od(i),Xa=null,Pl=0,i=Nt;for(;i!==null;)U_(i.alternate,i),i=i.return;Nt=null}}function io(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,fI(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),ym(),ee=i,Nt=a=Gi(i.current,null),jt=r,Yt=0,Sn=null,ks=!1,Ja=Sr(i,r),cm=!1,to=Un=hm=Zr=Ls=de=0,mn=Fl=null,fm=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-Ze(l),m=1<<f;r|=i[f],l&=~m}return ns=r,Ac(),a}function a0(i,r){xt=null,X.H=zc,r===Rl||r===Vc?(r=bv(),Yt=3):r===Tv?(r=bv(),Yt=4):Yt=r===S_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Sn=r,Nt===null&&(de=1,Kc(i,Mn(r,i.current)))}function o0(){var i=X.H;return X.H=zc,i===null?zc:i}function l0(){var i=X.A;return X.A=KR,i}function vm(){de=4,ks||(jt&4194048)!==jt&&Ln.current!==null||(Ja=!0),(Ls&134217727)===0&&(Zr&134217727)===0||ee===null||Bs(ee,jt,Un,!1)}function _m(i,r,a){var l=Kt;Kt|=2;var f=o0(),m=l0();(ee!==i||jt!==r)&&(Jc=null,io(i,r)),r=!1;var T=de;t:do try{if(Yt!==0&&Nt!==null){var b=Nt,I=Sn;switch(Yt){case 8:ym(),T=6;break t;case 3:case 2:case 9:case 6:Ln.current===null&&(r=!0);var z=Yt;if(Yt=0,Sn=null,so(i,b,I,z),a&&Ja){T=0;break t}break;default:z=Yt,Yt=0,Sn=null,so(i,b,I,z)}}XR(),T=de;break}catch($){a0(i,$)}while(!0);return r&&i.shellSuspendCounter++,Qi=Kr=null,Kt=l,X.H=f,X.A=m,Nt===null&&(ee=null,jt=0,Ac()),T}function XR(){for(;Nt!==null;)u0(Nt)}function $R(i,r){var a=Kt;Kt|=2;var l=o0(),f=l0();ee!==i||jt!==r?(Jc=null,Zc=In()+500,io(i,r)):Ja=Sr(i,r);t:do try{if(Yt!==0&&Nt!==null){r=Nt;var m=Sn;e:switch(Yt){case 1:Yt=0,Sn=null,so(i,r,m,1);break;case 2:case 9:if(Ev(m)){Yt=0,Sn=null,c0(r);break}r=function(){Yt!==2&&Yt!==9||ee!==i||(Yt=7),Ti(i)},m.then(r,r);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Ev(m)?(Yt=0,Sn=null,c0(r)):(Yt=0,Sn=null,so(i,r,m,7));break;case 5:var T=null;switch(Nt.tag){case 26:T=Nt.memoizedState;case 5:case 27:var b=Nt;if(!T||G0(T)){Yt=0,Sn=null;var I=b.sibling;if(I!==null)Nt=I;else{var z=b.return;z!==null?(Nt=z,eh(z)):Nt=null}break e}}Yt=0,Sn=null,so(i,r,m,5);break;case 6:Yt=0,Sn=null,so(i,r,m,6);break;case 8:ym(),de=6;break t;default:throw Error(s(462))}}WR();break}catch($){a0(i,$)}while(!0);return Qi=Kr=null,X.H=l,X.A=f,Kt=a,Nt!==null?0:(ee=null,jt=0,Ac(),de)}function WR(){for(;Nt!==null&&!Xo();)u0(Nt)}function u0(i){var r=k_(i.alternate,i,ns);i.memoizedProps=i.pendingProps,r===null?eh(i):Nt=r}function c0(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=D_(a,r,r.pendingProps,r.type,void 0,jt);break;case 11:r=D_(a,r,r.pendingProps,r.type.render,r.ref,jt);break;case 5:Od(r);default:U_(a,r),r=Nt=hv(r,ns),r=k_(a,r,ns)}i.memoizedProps=i.pendingProps,r===null?eh(i):Nt=r}function so(i,r,a,l){Qi=Kr=null,Od(r),Xa=null,Pl=0;var f=r.return;try{if(BR(i,f,r,a,jt)){de=1,Kc(i,Mn(a,i.current)),Nt=null;return}}catch(m){if(f!==null)throw Nt=f,m;de=1,Kc(i,Mn(a,i.current)),Nt=null;return}r.flags&32768?(qt||l===1?i=!0:Ja||(jt&536870912)!==0?i=!1:(ks=i=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),h0(r,i)):eh(r)}function eh(i){var r=i;do{if((r.flags&32768)!==0){h0(r,ks);return}i=r.return;var a=qR(r.alternate,r,ns);if(a!==null){Nt=a;return}if(r=r.sibling,r!==null){Nt=r;return}Nt=r=i}while(r!==null);de===0&&(de=5)}function h0(i,r){do{var a=FR(i.alternate,i);if(a!==null){a.flags&=32767,Nt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){Nt=i;return}Nt=i=a}while(i!==null);de=6,Nt=null}function f0(i,r,a,l,f,m,T,b,I){i.cancelPendingCommit=null;do nh();while(Ke!==0);if((Kt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=ud,el(i,a,m,T,b,I),i===ee&&(Nt=ee=null,jt=0),eo=r,js=i,no=a,mm=m,pm=f,n0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,eI(Tr,function(){return y0(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=it.p,it.p=2,T=Kt,Kt|=4;try{HR(i,r,a)}finally{Kt=T,it.p=f,X.T=l}}Ke=1,d0(),m0(),p0()}}function d0(){if(Ke===1){Ke=0;var i=js,r=eo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=it.p;it.p=2;var f=Kt;Kt|=4;try{X_(r,i);var m=Vm,T=ev(i.containerInfo),b=m.focusedElem,I=m.selectionRange;if(T!==b&&b&&b.ownerDocument&&tv(b.ownerDocument.documentElement,b)){if(I!==null&&sd(b)){var z=I.start,$=I.end;if($===void 0&&($=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min($,b.value.length);else{var tt=b.ownerDocument||document,q=tt&&tt.defaultView||window;if(q.getSelection){var H=q.getSelection(),Et=b.textContent.length,vt=Math.min(I.start,Et),Wt=I.end===void 0?vt:Math.min(I.end,Et);!H.extend&&vt>Wt&&(T=Wt,Wt=vt,vt=T);var k=Jy(b,vt),N=Jy(b,Wt);if(k&&N&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var B=tt.createRange();B.setStart(k.node,k.offset),H.removeAllRanges(),vt>Wt?(H.addRange(B),H.extend(N.node,N.offset)):(B.setEnd(N.node,N.offset),H.addRange(B))}}}}for(tt=[],H=b;H=H.parentNode;)H.nodeType===1&&tt.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<tt.length;b++){var Z=tt[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}mh=!!Dm,Vm=Dm=null}finally{Kt=f,it.p=l,X.T=a}}i.current=r,Ke=2}}function m0(){if(Ke===2){Ke=0;var i=js,r=eo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=it.p;it.p=2;var f=Kt;Kt|=4;try{G_(i,r.alternate,r)}finally{Kt=f,it.p=l,X.T=a}}Ke=3}}function p0(){if(Ke===4||Ke===3){Ke=0,Wu();var i=js,r=eo,a=no,l=n0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ke=5:(Ke=0,eo=js=null,g0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Us=null),Ea(a),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(he,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=it.p,it.p=2,X.T=null;try{for(var m=i.onRecoverableError,T=0;T<l.length;T++){var b=l[T];m(b.value,{componentStack:b.stack})}}finally{X.T=r,it.p=f}}(no&3)!==0&&nh(),Ti(i),f=i.pendingLanes,(a&4194090)!==0&&(f&42)!==0?i===gm?Hl++:(Hl=0,gm=i):Hl=0,Gl(0)}}function g0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Sl(r)))}function nh(i){return d0(),m0(),p0(),y0()}function y0(){if(Ke!==5)return!1;var i=js,r=mm;mm=0;var a=Ea(no),l=X.T,f=it.p;try{it.p=32>a?32:a,X.T=null,a=pm,pm=null;var m=js,T=no;if(Ke=0,eo=js=null,no=0,(Kt&6)!==0)throw Error(s(331));var b=Kt;if(Kt|=4,t0(m.current),W_(m,m.current,T,a),Kt=b,Gl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(he,m)}catch{}return!0}finally{it.p=f,X.T=l,g0(i,r)}}function v0(i,r,a){r=Mn(a,r),r=Qd(i.stateNode,r,2),i=xs(i,r,2),i!==null&&(Oi(i,2),Ti(i))}function Zt(i,r,a){if(i.tag===3)v0(i,i,a);else for(;r!==null;){if(r.tag===3){v0(r,i,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Us===null||!Us.has(l))){i=Mn(a,i),a=A_(2),l=xs(r,a,2),l!==null&&(b_(a,l,r,i),Oi(l,2),Ti(l));break}}r=r.return}}function Tm(i,r,a){var l=i.pingCache;if(l===null){l=i.pingCache=new YR;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(cm=!0,f.add(a),i=ZR.bind(null,i,r,a),r.then(i,i))}function ZR(i,r,a){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ee===i&&(jt&a)===a&&(de===4||de===3&&(jt&62914560)===jt&&300>In()-dm?(Kt&2)===0&&io(i,0):hm|=a,to===jt&&(to=0)),Ti(i)}function _0(i,r){r===0&&(r=tl()),i=ja(i,r),i!==null&&(Oi(i,r),Ti(i))}function JR(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),_0(i,a)}function tI(i,r){var a=0;switch(i.tag){case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),_0(i,a)}function eI(i,r){return vr(i,r)}var ih=null,ro=null,Em=!1,sh=!1,Am=!1,Jr=0;function Ti(i){i!==ro&&i.next===null&&(ro===null?ih=ro=i:ro=ro.next=i),sh=!0,Em||(Em=!0,iI())}function Gl(i,r){if(!Am&&sh){Am=!0;do for(var a=!1,l=ih;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,b=l.pingedLanes;m=(1<<31-Ze(42|i)+1)-1,m&=f&~(T&~b),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,b0(l,m))}else m=jt,m=Ta(l,l===ee?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Sr(l,m)||(a=!0,b0(l,m));l=l.next}while(a);Am=!1}}function nI(){T0()}function T0(){sh=Em=!1;var i=0;Jr!==0&&(hI()&&(i=Jr),Jr=0);for(var r=In(),a=null,l=ih;l!==null;){var f=l.next,m=E0(l,r);m===0?(l.next=null,a===null?ih=f:a.next=f,f===null&&(ro=a)):(a=l,(i!==0||(m&3)!==0)&&(sh=!0)),l=f}Gl(i)}function E0(i,r){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var T=31-Ze(m),b=1<<T,I=f[T];I===-1?((b&a)===0||(b&l)!==0)&&(f[T]=Zo(b,r)):I<=r&&(i.expiredLanes|=b),m&=~b}if(r=ee,a=jt,a=Ta(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===r&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&_r(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Sr(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(l!==null&&_r(l),Ea(a)){case 2:case 8:a=va;break;case 32:a=Tr;break;case 268435456:a=_a;break;default:a=Tr}return l=A0.bind(null,i),a=vr(a,l),i.callbackPriority=r,i.callbackNode=a,r}return l!==null&&l!==null&&_r(l),i.callbackPriority=2,i.callbackNode=null,2}function A0(i,r){if(Ke!==0&&Ke!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(nh()&&i.callbackNode!==a)return null;var l=jt;return l=Ta(i,i===ee?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(s0(i,l,r),E0(i,In()),i.callbackNode!=null&&i.callbackNode===a?A0.bind(null,i):null)}function b0(i,r){if(nh())return null;s0(i,r,!0)}function iI(){dI(function(){(Kt&6)!==0?vr($o,nI):T0()})}function bm(){return Jr===0&&(Jr=Jo()),Jr}function S0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ia(""+i)}function w0(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function sI(i,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=S0((f[Ee]||null).action),T=l.submitter;T&&(r=(r=T[Ee]||null)?S0(r.formAction):T.getAttribute("formAction"),r!==null&&(m=r,T=null));var b=new Ca("action","action",null,l,f);i.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Jr!==0){var I=T?w0(f,T):new FormData(f);Fd(a,{pending:!0,data:I,method:f.method,action:m},null,I)}}else typeof m=="function"&&(b.preventDefault(),I=T?w0(f,T):new FormData(f),Fd(a,{pending:!0,data:I,method:f.method,action:m},m,I))},currentTarget:f}]})}}for(var Sm=0;Sm<ld.length;Sm++){var wm=ld[Sm],rI=wm.toLowerCase(),aI=wm[0].toUpperCase()+wm.slice(1);Qn(rI,"on"+aI)}Qn(sv,"onAnimationEnd"),Qn(rv,"onAnimationIteration"),Qn(av,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(bR,"onTransitionRun"),Qn(SR,"onTransitionStart"),Qn(wR,"onTransitionCancel"),Qn(ov,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function R0(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var m=void 0;if(r)for(var T=l.length-1;0<=T;T--){var b=l[T],I=b.instance,z=b.currentTarget;if(b=b.listener,I!==m&&f.isPropagationStopped())break t;m=b,f.currentTarget=z;try{m(f)}catch($){Gc($)}f.currentTarget=null,m=I}else for(T=0;T<l.length;T++){if(b=l[T],I=b.instance,z=b.currentTarget,b=b.listener,I!==m&&f.isPropagationStopped())break t;m=b,f.currentTarget=z;try{m(f)}catch($){Gc($)}f.currentTarget=null,m=I}}}}function Mt(i,r){var a=r[il];a===void 0&&(a=r[il]=new Set);var l=i+"__bubble";a.has(l)||(I0(r,i,2,!1),a.add(l))}function Rm(i,r,a){var l=0;r&&(l|=4),I0(a,i,l,r)}var rh="_reactListening"+Math.random().toString(36).slice(2);function Im(i){if(!i[rh]){i[rh]=!0,sl.forEach(function(a){a!=="selectionchange"&&(oI.has(a)||Rm(a,!1,i),Rm(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[rh]||(r[rh]=!0,Rm("selectionchange",!1,r))}}function I0(i,r,a,l){switch(W0(r)){case 2:var f=OI;break;case 8:f=PI;break;default:f=zm}a=f.bind(null,r,a,i),f=void 0,!Vn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,a,{capture:!0,passive:f}):i.addEventListener(r,a,!0):f!==void 0?i.addEventListener(r,a,{passive:f}):i.addEventListener(r,a,!1)}function Cm(i,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var b=l.stateNode.containerInfo;if(b===f)break;if(T===4)for(T=l.return;T!==null;){var I=T.tag;if((I===3||I===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;b!==null;){if(T=Pi(b),T===null)return;if(I=T.tag,I===5||I===6||I===26||I===27){l=m=T;continue t}b=b.parentNode}}l=l.return}oc(function(){var z=m,$=Dn(a),tt=[];t:{var q=lv.get(i);if(q!==void 0){var H=Ca,Et=i;switch(i){case"keypress":if(hi(a)===0)break t;case"keydown":case"keyup":H=Oa;break;case"focusin":Et="focus",H=Va;break;case"focusout":Et="blur",H=Va;break;case"beforeblur":case"afterblur":H=Va;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=td;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=pc;break;case sv:case rv:case av:H=Na;break;case ov:H=yc;break;case"scroll":case"scrollend":H=lc;break;case"wheel":H=Pa;break;case"copy":case"cut":case"paste":H=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=gl;break;case"toggle":case"beforetoggle":H=_c}var vt=(r&4)!==0,Wt=!vt&&(i==="scroll"||i==="scrollend"),k=vt?q!==null?q+"Capture":null:q;vt=[];for(var N=z,B;N!==null;){var Z=N;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||k===null||(Z=Nr(N,k),Z!=null&&vt.push(Yl(N,Z,B))),Wt)break;N=N.return}0<vt.length&&(q=new H(q,Et,null,a,$),tt.push({event:q,listeners:vt}))}}if((r&7)===0){t:{if(q=i==="mouseover"||i==="pointerover",H=i==="mouseout"||i==="pointerout",q&&a!==ji&&(Et=a.relatedTarget||a.fromElement)&&(Pi(Et)||Et[Cn]))break t;if((H||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,H?(Et=a.relatedTarget||a.toElement,H=z,Et=Et?Pi(Et):null,Et!==null&&(Wt=u(Et),vt=Et.tag,Et!==Wt||vt!==5&&vt!==27&&vt!==6)&&(Et=null)):(H=null,Et=z),H!==Et)){if(vt=Nn,Z="onMouseLeave",k="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(vt=gl,Z="onPointerLeave",k="onPointerEnter",N="pointer"),Wt=H==null?q:oi(H),B=Et==null?q:oi(Et),q=new vt(Z,N+"leave",H,a,$),q.target=Wt,q.relatedTarget=B,Z=null,Pi($)===z&&(vt=new vt(k,N+"enter",Et,a,$),vt.target=B,vt.relatedTarget=Wt,Z=vt),Wt=Z,H&&Et)e:{for(vt=H,k=Et,N=0,B=vt;B;B=ao(B))N++;for(B=0,Z=k;Z;Z=ao(Z))B++;for(;0<N-B;)vt=ao(vt),N--;for(;0<B-N;)k=ao(k),B--;for(;N--;){if(vt===k||k!==null&&vt===k.alternate)break e;vt=ao(vt),k=ao(k)}vt=null}else vt=null;H!==null&&C0(tt,q,H,vt,!1),Et!==null&&Wt!==null&&C0(tt,Wt,Et,vt,!0)}}t:{if(q=z?oi(z):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var dt=Yy;else if(Ve(q))if(Qy)dt=TR;else{dt=vR;var Vt=yR}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&ul(z.elementType)&&(dt=Yy):dt=_R;if(dt&&(dt=dt(i,z))){Hi(tt,dt,a,$);break t}Vt&&Vt(i,q,z),i==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Ss(q,"number",q.value)}switch(Vt=z?oi(z):window,i){case"focusin":(Ve(Vt)||Vt.contentEditable==="true")&&(ka=Vt,rd=z,_l=null);break;case"focusout":_l=rd=ka=null;break;case"mousedown":ad=!0;break;case"contextmenu":case"mouseup":case"dragend":ad=!1,nv(tt,a,$);break;case"selectionchange":if(AR)break;case"keydown":case"keyup":nv(tt,a,$)}var pt;if(mi)t:{switch(i){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Lt?K(i,a)&&(_t="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(_&&a.locale!=="ko"&&(Lt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Lt&&(pt=hl()):(ci=$,ws="value"in ci?ci.value:ci.textContent,Lt=!0)),Vt=ah(z,_t),0<Vt.length&&(_t=new ml(_t,i,null,a,$),tt.push({event:_t,listeners:Vt}),pt?_t.data=pt:(pt=at(a),pt!==null&&(_t.data=pt)))),(pt=y?De(i,a):Ut(i,a))&&(_t=ah(z,"onBeforeInput"),0<_t.length&&(Vt=new ml("onBeforeInput","beforeinput",null,a,$),tt.push({event:Vt,listeners:_t}),Vt.data=pt)),sI(tt,i,z,a,$)}R0(tt,r)})}function Yl(i,r,a){return{instance:i,listener:r,currentTarget:a}}function ah(i,r){for(var a=r+"Capture",l=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Nr(i,a),f!=null&&l.unshift(Yl(i,f,m)),f=Nr(i,r),f!=null&&l.push(Yl(i,f,m))),i.tag===3)return l;i=i.return}return[]}function ao(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function C0(i,r,a,l,f){for(var m=r._reactName,T=[];a!==null&&a!==l;){var b=a,I=b.alternate,z=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||z===null||(I=z,f?(z=Nr(a,m),z!=null&&T.unshift(Yl(a,z,I))):f||(z=Nr(a,m),z!=null&&T.push(Yl(a,z,I)))),a=a.return}T.length!==0&&i.push({event:r,listeners:T})}var lI=/\r\n?/g,uI=/\u0000|\uFFFD/g;function x0(i){return(typeof i=="string"?i:""+i).replace(lI,`
`).replace(uI,"")}function D0(i,r){return r=x0(r),x0(i)===r}function oh(){}function $t(i,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||xn(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&xn(i,""+l);break;case"className":li(i,"class",l);break;case"tabIndex":li(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":li(i,a,l);break;case"style":ll(i,l,m);break;case"data":if(r!=="object"){li(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ia(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&$t(i,r,"name",f.name,f,null),$t(i,r,"formEncType",f.formEncType,f,null),$t(i,r,"formMethod",f.formMethod,f,null),$t(i,r,"formTarget",f.formTarget,f,null)):($t(i,r,"encType",f.encType,f,null),$t(i,r,"method",f.method,f,null),$t(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ia(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=oh);break;case"onScroll":l!=null&&Mt("scroll",i);break;case"onScrollEnd":l!=null&&Mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Ia(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Mt("beforetoggle",i),Mt("toggle",i),bs(i,"popover",l);break;case"xlinkActuate":Fe(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Fe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Fe(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Fe(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Fe(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Fe(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Fe(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Fe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Fe(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":bs(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zf.get(a)||a,bs(i,a,l))}}function xm(i,r,a,l,f,m){switch(a){case"style":ll(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof l=="string"?xn(i,l):(typeof l=="number"||typeof l=="bigint")&&xn(i,""+l);break;case"onScroll":l!=null&&Mt("scroll",i);break;case"onScrollEnd":l!=null&&Mt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=oh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=i[Ee]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):bs(i,a,l)}}}function Ye(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",i),Mt("load",i);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$t(i,r,m,T,a,null)}}f&&$t(i,r,"srcSet",a.srcSet,a,null),l&&$t(i,r,"src",a.src,a,null);return;case"input":Mt("invalid",i);var b=m=T=f=null,I=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":T=$;break;case"checked":I=$;break;case"defaultChecked":z=$;break;case"value":m=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$t(i,r,l,$,a,null)}}xr(i,m,b,I,z,T,f,!1),Ra(i);return;case"select":Mt("invalid",i),l=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":m=b;break;case"defaultValue":T=b;break;case"multiple":l=b;default:$t(i,r,f,b,a,null)}r=m,a=T,i.multiple=!!l,r!=null?Ui(i,!!l,r,!1):a!=null&&Ui(i,!!l,a,!0);return;case"textarea":Mt("invalid",i),m=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(b=a[T],b!=null))switch(T){case"value":l=b;break;case"defaultValue":f=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:$t(i,r,T,b,a,null)}Dr(i,l,f,m),Ra(i);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(i,r,I,l,a,null)}return;case"dialog":Mt("beforetoggle",i),Mt("toggle",i),Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":Mt("load",i);break;case"video":case"audio":for(l=0;l<Kl.length;l++)Mt(Kl[l],i);break;case"image":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"embed":case"source":case"link":Mt("error",i),Mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$t(i,r,z,l,a,null)}return;default:if(ul(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&xm(i,r,$,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&$t(i,r,b,l,a,null))}function cI(i,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,b=null,I=null,z=null,$=null;for(H in a){var tt=a[H];if(a.hasOwnProperty(H)&&tt!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=tt;default:l.hasOwnProperty(H)||$t(i,r,H,null,l,tt)}}for(var q in l){var H=l[q];if(tt=a[q],l.hasOwnProperty(q)&&(H!=null||tt!=null))switch(q){case"type":m=H;break;case"name":f=H;break;case"checked":z=H;break;case"defaultChecked":$=H;break;case"value":T=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:H!==tt&&$t(i,r,q,H,l,tt)}}_n(i,T,b,I,z,$,m,f);return;case"select":H=T=b=q=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(m)||$t(i,r,m,null,l,I)}for(f in l)if(m=l[f],I=a[f],l.hasOwnProperty(f)&&(m!=null||I!=null))switch(f){case"value":q=m;break;case"defaultValue":b=m;break;case"multiple":T=m;default:m!==I&&$t(i,r,f,m,l,I)}r=b,a=T,l=H,q!=null?Ui(i,!!a,q,!1):!!l!=!!a&&(r!=null?Ui(i,!!a,r,!0):Ui(i,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:$t(i,r,b,null,l,f)}for(T in l)if(f=l[T],m=a[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":q=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&$t(i,r,T,f,l,m)}Qt(i,q,H);return;case"option":for(var Et in a)if(q=a[Et],a.hasOwnProperty(Et)&&q!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":i.selected=!1;break;default:$t(i,r,Et,null,l,q)}for(I in l)if(q=l[I],H=a[I],l.hasOwnProperty(I)&&q!==H&&(q!=null||H!=null))switch(I){case"selected":i.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:$t(i,r,I,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)q=a[vt],a.hasOwnProperty(vt)&&q!=null&&!l.hasOwnProperty(vt)&&$t(i,r,vt,null,l,q);for(z in l)if(q=l[z],H=a[z],l.hasOwnProperty(z)&&q!==H&&(q!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:$t(i,r,z,q,l,H)}return;default:if(ul(r)){for(var Wt in a)q=a[Wt],a.hasOwnProperty(Wt)&&q!==void 0&&!l.hasOwnProperty(Wt)&&xm(i,r,Wt,void 0,l,q);for($ in l)q=l[$],H=a[$],!l.hasOwnProperty($)||q===H||q===void 0&&H===void 0||xm(i,r,$,q,l,H);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&$t(i,r,k,null,l,q);for(tt in l)q=l[tt],H=a[tt],!l.hasOwnProperty(tt)||q===H||q==null&&H==null||$t(i,r,tt,q,l,H)}var Dm=null,Vm=null;function lh(i){return i.nodeType===9?i:i.ownerDocument}function V0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Nm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Mm=null;function hI(){var i=window.event;return i&&i.type==="popstate"?i===Mm?!1:(Mm=i,!0):(Mm=null,!1)}var M0=typeof setTimeout=="function"?setTimeout:void 0,fI=typeof clearTimeout=="function"?clearTimeout:void 0,O0=typeof Promise=="function"?Promise:void 0,dI=typeof queueMicrotask=="function"?queueMicrotask:typeof O0<"u"?function(i){return O0.resolve(null).then(i).catch(mI)}:M0;function mI(i){setTimeout(function(){throw i})}function zs(i){return i==="head"}function P0(i,r){var a=r,l=0,f=0;do{var m=a.nextSibling;if(i.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var T=i.ownerDocument;if(a&1&&Ql(T.documentElement),a&2&&Ql(T.body),a&4)for(a=T.head,Ql(a),T=a.firstChild;T;){var b=T.nextSibling,I=T.nodeName;T[wr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=b}}if(f===0){i.removeChild(m),nu(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);nu(r)}function Om(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Om(a),As(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function pI(i,r,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[wr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=$n(i.nextSibling),i===null)break}return null}function gI(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=$n(i.nextSibling),i===null))return null;return i}function Pm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function yI(i,r){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function $n(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var km=null;function k0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return i;r--}else a==="/$"&&r++}i=i.previousSibling}return null}function L0(i,r,a){switch(r=lh(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Ql(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);As(i)}var jn=new Map,U0=new Set;function uh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var is=it.d;it.d={f:vI,r:_I,D:TI,C:EI,L:AI,m:bI,X:wI,S:SI,M:RI};function vI(){var i=is.f(),r=th();return i||r}function _I(i){var r=ai(i);r!==null&&r.tag===5&&r.type==="form"?s_(r):is.r(i)}var oo=typeof document>"u"?null:document;function j0(i,r,a){var l=oo;if(l&&typeof r=="string"&&r){var f=Ae(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),U0.has(f)||(U0.add(f),i={rel:i,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ye(r,"link",i),pe(r),l.head.appendChild(r)))}}function TI(i){is.D(i),j0("dns-prefetch",i,null)}function EI(i,r){is.C(i,r),j0("preconnect",i,r)}function AI(i,r,a){is.L(i,r,a);var l=oo;if(l&&i&&r){var f='link[rel="preload"][as="'+Ae(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ae(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ae(a.imageSizes)+'"]')):f+='[href="'+Ae(i)+'"]';var m=f;switch(r){case"style":m=lo(i);break;case"script":m=uo(i)}jn.has(m)||(i=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),jn.set(m,i),l.querySelector(f)!==null||r==="style"&&l.querySelector(Xl(m))||r==="script"&&l.querySelector($l(m))||(r=l.createElement("link"),Ye(r,"link",i),pe(r),l.head.appendChild(r)))}}function bI(i,r){is.m(i,r);var a=oo;if(a&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Ae(l)+'"][href="'+Ae(i)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=uo(i)}if(!jn.has(m)&&(i=v({rel:"modulepreload",href:i},r),jn.set(m,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($l(m)))return}l=a.createElement("link"),Ye(l,"link",i),pe(l),a.head.appendChild(l)}}}function SI(i,r,a){is.S(i,r,a);var l=oo;if(l&&i){var f=on(l).hoistableStyles,m=lo(i);r=r||"default";var T=f.get(m);if(!T){var b={loading:0,preload:null};if(T=l.querySelector(Xl(m)))b.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},a),(a=jn.get(m))&&Lm(i,a);var I=T=l.createElement("link");pe(I),Ye(I,"link",i),I._p=new Promise(function(z,$){I.onload=z,I.onerror=$}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,ch(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:b},f.set(m,T)}}}function wI(i,r){is.X(i,r);var a=oo;if(a&&i){var l=on(a).hoistableScripts,f=uo(i),m=l.get(f);m||(m=a.querySelector($l(f)),m||(i=v({src:i,async:!0},r),(r=jn.get(f))&&Um(i,r),m=a.createElement("script"),pe(m),Ye(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function RI(i,r){is.M(i,r);var a=oo;if(a&&i){var l=on(a).hoistableScripts,f=uo(i),m=l.get(f);m||(m=a.querySelector($l(f)),m||(i=v({src:i,async:!0,type:"module"},r),(r=jn.get(f))&&Um(i,r),m=a.createElement("script"),pe(m),Ye(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function B0(i,r,a,l){var f=(f=St.current)?uh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=lo(a.href),a=on(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=lo(a.href);var m=on(f).hoistableStyles,T=m.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,T),(m=f.querySelector(Xl(i)))&&!m._p&&(T.instance=m,T.state.loading=5),jn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(i,a),m||II(f,i,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=uo(a),a=on(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function lo(i){return'href="'+Ae(i)+'"'}function Xl(i){return'link[rel="stylesheet"]['+i+"]"}function z0(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function II(i,r,a,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ye(r,"link",a),pe(r),i.head.appendChild(r))}function uo(i){return'[src="'+Ae(i)+'"]'}function $l(i){return"script[async]"+i}function q0(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+Ae(a.href)+'"]');if(l)return r.instance=l,pe(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),pe(l),Ye(l,"style",f),ch(l,a.precedence,i),r.instance=l;case"stylesheet":f=lo(a.href);var m=i.querySelector(Xl(f));if(m)return r.state.loading|=4,r.instance=m,pe(m),m;l=z0(a),(f=jn.get(f))&&Lm(l,f),m=(i.ownerDocument||i).createElement("link"),pe(m);var T=m;return T._p=new Promise(function(b,I){T.onload=b,T.onerror=I}),Ye(m,"link",l),r.state.loading|=4,ch(m,a.precedence,i),r.instance=m;case"script":return m=uo(a.src),(f=i.querySelector($l(m)))?(r.instance=f,pe(f),f):(l=a,(f=jn.get(m))&&(l=v({},a),Um(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),pe(f),Ye(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ch(l,a.precedence,i));return r.instance}function ch(i,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var b=l[T];if(b.dataset.precedence===r)m=b;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function Lm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Um(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var hh=null;function F0(i,r,a){if(hh===null){var l=new Map,f=hh=new Map;f.set(a,l)}else f=hh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var m=a[f];if(!(m[wr]||m[xe]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(r)||"";T=i+T;var b=l.get(T);b?b.push(m):l.set(T,[m])}}return l}function H0(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function CI(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function G0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Wl=null;function xI(){}function DI(i,r,a){if(Wl===null)throw Error(s(475));var l=Wl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=lo(a.href),m=i.querySelector(Xl(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=fh.bind(l),i.then(l,l)),r.state.loading|=4,r.instance=m,pe(m);return}m=i.ownerDocument||i,a=z0(a),(f=jn.get(f))&&Lm(a,f),m=m.createElement("link"),pe(m);var T=m;T._p=new Promise(function(b,I){T.onload=b,T.onerror=I}),Ye(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=fh.bind(l),i.addEventListener("load",r),i.addEventListener("error",r))}}function VI(){if(Wl===null)throw Error(s(475));var i=Wl;return i.stylesheets&&i.count===0&&jm(i,i.stylesheets),0<i.count?function(r){var a=setTimeout(function(){if(i.stylesheets&&jm(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(a)}}:null}function fh(){if(this.count--,this.count===0){if(this.stylesheets)jm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var dh=null;function jm(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,dh=new Map,r.forEach(NI,i),dh=null,fh.call(i))}function NI(i,r){if(!(r.state.loading&4)){var a=dh.get(i);if(a)var l=a.get(null);else{a=new Map,dh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,f),a.set(T,f),this.count++,l=fh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Zl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function MI(i,r,a,l,f,m,T,b){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function K0(i,r,a,l,f,m,T,b,I,z,$,tt){return i=new MI(i,r,a,T,b,I,z,tt),r=1,m===!0&&(r|=24),m=En(3,null,null,r),i.current=m,m.stateNode=i,r=Td(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},Sd(m),i}function Y0(i){return i?(i=Ba,i):Ba}function Q0(i,r,a,l,f,m){f=Y0(f),l.context===null?l.context=f:l.pendingContext=f,l=Cs(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=xs(i,l,r),a!==null&&(Rn(a,i,r),Cl(a,i,r))}function X0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function Bm(i,r){X0(i,r),(i=i.alternate)&&X0(i,r)}function $0(i){if(i.tag===13){var r=ja(i,67108864);r!==null&&Rn(r,i,67108864),Bm(i,67108864)}}var mh=!0;function OI(i,r,a,l){var f=X.T;X.T=null;var m=it.p;try{it.p=2,zm(i,r,a,l)}finally{it.p=m,X.T=f}}function PI(i,r,a,l){var f=X.T;X.T=null;var m=it.p;try{it.p=8,zm(i,r,a,l)}finally{it.p=m,X.T=f}}function zm(i,r,a,l){if(mh){var f=qm(l);if(f===null)Cm(i,r,l,ph,a),Z0(i,l);else if(LI(f,i,r,a,l))l.stopPropagation();else if(Z0(i,l),r&4&&-1<kI.indexOf(i)){for(;f!==null;){var m=ai(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Gn(m.pendingLanes);if(T!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var I=1<<31-Ze(T);b.entanglements[1]|=I,T&=~I}Ti(m),(Kt&6)===0&&(Zc=In()+500,Gl(0))}}break;case 13:b=ja(m,2),b!==null&&Rn(b,m,2),th(),Bm(m,2)}if(m=qm(l),m===null&&Cm(i,r,l,ph,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Cm(i,r,l,null,a)}}function qm(i){return i=Dn(i),Fm(i)}var ph=null;function Fm(i){if(ph=null,i=Pi(i),i!==null){var r=u(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return ph=i,null}function W0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kf()){case $o:return 2;case va:return 8;case Tr:case Yf:return 32;case _a:return 268435456;default:return 32}default:return 32}}var Hm=!1,qs=null,Fs=null,Hs=null,Jl=new Map,tu=new Map,Gs=[],kI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z0(i,r){switch(i){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":Jl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(r.pointerId)}}function eu(i,r,a,l,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=ai(r),r!==null&&$0(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function LI(i,r,a,l,f){switch(r){case"focusin":return qs=eu(qs,i,r,a,l,f),!0;case"dragenter":return Fs=eu(Fs,i,r,a,l,f),!0;case"mouseover":return Hs=eu(Hs,i,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return Jl.set(m,eu(Jl.get(m)||null,i,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,tu.set(m,eu(tu.get(m)||null,i,r,a,l,f)),!0}return!1}function J0(i){var r=Pi(i.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,tc(i.priority,function(){if(a.tag===13){var l=wn();l=_s(l);var f=ja(a,l);f!==null&&Rn(f,a,l),Bm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function gh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=qm(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);ji=l,a.target.dispatchEvent(l),ji=null}else return r=ai(a),r!==null&&$0(r),i.blockedOn=a,!1;r.shift()}return!0}function tT(i,r,a){gh(i)&&a.delete(r)}function UI(){Hm=!1,qs!==null&&gh(qs)&&(qs=null),Fs!==null&&gh(Fs)&&(Fs=null),Hs!==null&&gh(Hs)&&(Hs=null),Jl.forEach(tT),tu.forEach(tT)}function yh(i,r){i.blockedOn===r&&(i.blockedOn=null,Hm||(Hm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,UI)))}var vh=null;function eT(i){vh!==i&&(vh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){vh===i&&(vh=null);for(var r=0;r<i.length;r+=3){var a=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(Fm(l||a)===null)continue;break}var m=ai(a);m!==null&&(i.splice(r,3),r-=3,Fd(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function nu(i){function r(I){return yh(I,i)}qs!==null&&yh(qs,i),Fs!==null&&yh(Fs,i),Hs!==null&&yh(Hs,i),Jl.forEach(r),tu.forEach(r);for(var a=0;a<Gs.length;a++){var l=Gs[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Gs.length&&(a=Gs[0],a.blockedOn===null);)J0(a),a.blockedOn===null&&Gs.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],T=f[Ee]||null;if(typeof m=="function")T||eT(a);else if(T){var b=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[Ee]||null)b=T.formAction;else if(Fm(f)!==null)continue}else b=T.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),eT(a)}}}function Gm(i){this._internalRoot=i}_h.prototype.render=Gm.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=wn();Q0(a,l,i,r,null,null)},_h.prototype.unmount=Gm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Q0(i.current,2,null,i,null,null),th(),r[Cn]=null}};function _h(i){this._internalRoot=i}_h.prototype.unstable_scheduleHydration=function(i){if(i){var r=Ts();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Gs.length&&r!==0&&r<Gs[a].priority;a++);Gs.splice(a,0,i),a===0&&J0(i)}};var nT=t.version;if(nT!=="19.1.1")throw Error(s(527,nT,"19.1.1"));it.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var jI={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{he=Th.inject(jI),Gt=Th}catch{}}return su.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,l="",f=v_,m=__,T=T_,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=K0(i,1,!1,null,null,a,l,f,m,T,b,null),i[Cn]=r.current,Im(i),new Gm(r)},su.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var l=!1,f="",m=v_,T=__,b=T_,I=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),r=K0(i,1,!0,r,a??null,l,f,m,T,b,I,z),r.context=Y0(null),a=r.current,l=wn(),l=_s(l),f=Cs(l),f.callback=null,xs(a,f,l),a=l,r.current.lanes=a,Oi(r,a),Ti(r),i[Cn]=r.current,Im(i),new _h(r)},su.version="19.1.1",su}var fT;function XI(){if(fT)return Qm.exports;fT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Qm.exports=QI(),Qm.exports}var $I=XI();const cb=ft.createContext({});function WI(n){const t=ft.useRef(null);return t.current===null&&(t.current=n()),t.current}const Ag=typeof window<"u",ZI=Ag?ft.useLayoutEffect:ft.useEffect,bg=ft.createContext(null);function Sg(n,t){n.indexOf(t)===-1&&n.push(t)}function wg(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const ls=(n,t,e)=>e>t?t:e<n?n:e;let Rg=()=>{};const us={},hb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function fb(n){return typeof n=="object"&&n!==null}const db=n=>/^0[^.\s]+$/u.test(n);function Ig(n){let t;return()=>(t===void 0&&(t=n()),t)}const Hn=n=>n,JI=(n,t)=>e=>t(n(e)),Uu=(...n)=>n.reduce(JI),Au=(n,t,e)=>{const s=t-n;return s===0?1:(e-n)/s};class Cg{constructor(){this.subscriptions=[]}add(t){return Sg(this.subscriptions,t),()=>wg(this.subscriptions,t)}notify(t,e,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,s);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ai=n=>n*1e3,bi=n=>n/1e3;function mb(n,t){return t?n*(1e3/t):0}const pb=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,tC=1e-7,eC=12;function nC(n,t,e,s,o){let u,c,d=0;do c=t+(e-t)/2,u=pb(c,s,o)-n,u>0?e=c:t=c;while(Math.abs(u)>tC&&++d<eC);return c}function ju(n,t,e,s){if(n===t&&e===s)return Hn;const o=u=>nC(u,0,1,n,e);return u=>u===0||u===1?u:pb(o(u),t,s)}const gb=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,yb=n=>t=>1-n(1-t),vb=ju(.33,1.53,.69,.99),xg=yb(vb),_b=gb(xg),Tb=n=>(n*=2)<1?.5*xg(n):.5*(2-Math.pow(2,-10*(n-1))),Dg=n=>1-Math.sin(Math.acos(n)),Eb=yb(Dg),Ab=gb(Dg),iC=ju(.42,0,1,1),sC=ju(0,0,.58,1),bb=ju(.42,0,.58,1),rC=n=>Array.isArray(n)&&typeof n[0]!="number",Sb=n=>Array.isArray(n)&&typeof n[0]=="number",aC={linear:Hn,easeIn:iC,easeInOut:bb,easeOut:sC,circIn:Dg,circInOut:Ab,circOut:Eb,backIn:xg,backInOut:_b,backOut:vb,anticipate:Tb},oC=n=>typeof n=="string",dT=n=>{if(Sb(n)){Rg(n.length===4);const[t,e,s,o]=n;return ju(t,e,s,o)}else if(oC(n))return aC[n];return n},Eh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function lC(n,t){let e=new Set,s=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),n()),v(d)}const g={schedule:(v,E=!1,A=!1)=>{const L=A&&o?e:s;return E&&c.add(v),L.has(v)||L.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(d=v,o){u=!0;return}o=!0,[e,s]=[s,e],e.forEach(p),e.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const uC=40;function wb(n,t){let e=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Eh.reduce((Y,ut)=>(Y[ut]=lC(u),Y),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:v,update:E,preRender:A,render:C,postRender:L}=c,Q=()=>{const Y=us.useManualTiming?o.timestamp:performance.now();e=!1,us.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(Y-o.timestamp,uC),1)),o.timestamp=Y,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),v.process(o),E.process(o),A.process(o),C.process(o),L.process(o),o.isProcessing=!1,e&&t&&(s=!1,n(Q))},F=()=>{e=!0,s=!0,o.isProcessing||n(Q)};return{schedule:Eh.reduce((Y,ut)=>{const st=c[ut];return Y[ut]=(mt,V=!1,w=!1)=>(e||F(),st.schedule(mt,V,w)),Y},{}),cancel:Y=>{for(let ut=0;ut<Eh.length;ut++)c[Eh[ut]].cancel(Y)},state:o,steps:c}}const{schedule:ae,cancel:ar,state:Qe,steps:Zm}=wb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hn,!0);let Mh;function cC(){Mh=void 0}const gn={now:()=>(Mh===void 0&&gn.set(Qe.isProcessing||us.useManualTiming?Qe.timestamp:performance.now()),Mh),set:n=>{Mh=n,queueMicrotask(cC)}},Rb=n=>t=>typeof t=="string"&&t.startsWith(n),Vg=Rb("--"),hC=Rb("var(--"),Ng=n=>hC(n)?fC.test(n.split("/*")[0].trim()):!1,fC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Uo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},bu={...Uo,transform:n=>ls(0,1,n)},Ah={...Uo,default:1},fu=n=>Math.round(n*1e5)/1e5,Mg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dC(n){return n==null}const mC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Og=(n,t)=>e=>!!(typeof e=="string"&&mC.test(e)&&e.startsWith(n)||t&&!dC(e)&&Object.prototype.hasOwnProperty.call(e,t)),Ib=(n,t,e)=>s=>{if(typeof s!="string")return s;const[o,u,c,d]=s.match(Mg);return{[n]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},pC=n=>ls(0,255,n),Jm={...Uo,transform:n=>Math.round(pC(n))},sa={test:Og("rgb","red"),parse:Ib("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:s=1})=>"rgba("+Jm.transform(n)+", "+Jm.transform(t)+", "+Jm.transform(e)+", "+fu(bu.transform(s))+")"};function gC(n){let t="",e="",s="",o="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),s=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),s=n.substring(3,4),o=n.substring(4,5),t+=t,e+=e,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const wp={test:Og("#"),parse:gC,transform:sa.transform},Bu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Qs=Bu("deg"),Si=Bu("%"),At=Bu("px"),yC=Bu("vh"),vC=Bu("vw"),mT={...Si,parse:n=>Si.parse(n)/100,transform:n=>Si.transform(n*100)},po={test:Og("hsl","hue"),parse:Ib("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(n)+", "+Si.transform(fu(t))+", "+Si.transform(fu(e))+", "+fu(bu.transform(s))+")"},Re={test:n=>sa.test(n)||wp.test(n)||po.test(n),parse:n=>sa.test(n)?sa.parse(n):po.test(n)?po.parse(n):wp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?sa.transform(n):po.transform(n),getAnimatableNone:n=>{const t=Re.parse(n);return t.alpha=0,Re.transform(t)}},_C=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TC(n){return isNaN(n)&&typeof n=="string"&&(n.match(Mg)?.length||0)+(n.match(_C)?.length||0)>0}const Cb="number",xb="color",EC="var",AC="var(",pT="${}",bC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Su(n){const t=n.toString(),e=[],s={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(bC,p=>(Re.test(p)?(s.color.push(u),o.push(xb),e.push(Re.parse(p))):p.startsWith(AC)?(s.var.push(u),o.push(EC),e.push(p)):(s.number.push(u),o.push(Cb),e.push(parseFloat(p))),++u,pT)).split(pT);return{values:e,split:d,indexes:s,types:o}}function Db(n){return Su(n).values}function Vb(n){const{split:t,types:e}=Su(n),s=t.length;return o=>{let u="";for(let c=0;c<s;c++)if(u+=t[c],o[c]!==void 0){const d=e[c];d===Cb?u+=fu(o[c]):d===xb?u+=Re.transform(o[c]):u+=o[c]}return u}}const SC=n=>typeof n=="number"?0:Re.test(n)?Re.getAnimatableNone(n):n;function wC(n){const t=Db(n);return Vb(n)(t.map(SC))}const or={test:TC,parse:Db,createTransformer:Vb,getAnimatableNone:wC};function tp(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function RC({hue:n,saturation:t,lightness:e,alpha:s}){n/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const d=e<.5?e*(1+t):e+t-e*t,p=2*e-d;o=tp(p,d,n+1/3),u=tp(p,d,n),c=tp(p,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function Yh(n,t){return e=>e>0?t:n}const ue=(n,t,e)=>n+(t-n)*e,ep=(n,t,e)=>{const s=n*n,o=e*(t*t-s)+s;return o<0?0:Math.sqrt(o)},IC=[wp,sa,po],CC=n=>IC.find(t=>t.test(n));function gT(n){const t=CC(n);if(!t)return!1;let e=t.parse(n);return t===po&&(e=RC(e)),e}const yT=(n,t)=>{const e=gT(n),s=gT(t);if(!e||!s)return Yh(n,t);const o={...e};return u=>(o.red=ep(e.red,s.red,u),o.green=ep(e.green,s.green,u),o.blue=ep(e.blue,s.blue,u),o.alpha=ue(e.alpha,s.alpha,u),sa.transform(o))},Rp=new Set(["none","hidden"]);function xC(n,t){return Rp.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function DC(n,t){return e=>ue(n,t,e)}function Pg(n){return typeof n=="number"?DC:typeof n=="string"?Ng(n)?Yh:Re.test(n)?yT:MC:Array.isArray(n)?Nb:typeof n=="object"?Re.test(n)?yT:VC:Yh}function Nb(n,t){const e=[...n],s=e.length,o=n.map((u,c)=>Pg(u)(u,t[c]));return u=>{for(let c=0;c<s;c++)e[c]=o[c](u);return e}}function VC(n,t){const e={...n,...t},s={};for(const o in e)n[o]!==void 0&&t[o]!==void 0&&(s[o]=Pg(n[o])(n[o],t[o]));return o=>{for(const u in s)e[u]=s[u](o);return e}}function NC(n,t){const e=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][s[u]],d=n.values[c]??0;e[o]=d,s[u]++}return e}const MC=(n,t)=>{const e=or.createTransformer(t),s=Su(n),o=Su(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Rp.has(n)&&!o.values.length||Rp.has(t)&&!s.values.length?xC(n,t):Uu(Nb(NC(s,o),o.values),e):Yh(n,t)};function Mb(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?ue(n,t,e):Pg(n)(n,t)}const OC=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ae.update(t,e),stop:()=>ar(t),now:()=>Qe.isProcessing?Qe.timestamp:gn.now()}},Ob=(n,t,e=10)=>{let s="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)s+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Qh=2e4;function kg(n){let t=0;const e=50;let s=n.next(t);for(;!s.done&&t<Qh;)t+=e,s=n.next(t);return t>=Qh?1/0:t}function PC(n,t=100,e){const s=e({...n,keyframes:[0,t]}),o=Math.min(kg(s),Qh);return{type:"keyframes",ease:u=>s.next(o*u).value/t,duration:bi(o)}}const kC=5;function Pb(n,t,e){const s=Math.max(t-kC,0);return mb(e-n(s),t-s)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},np=.001;function LC({duration:n=me.duration,bounce:t=me.bounce,velocity:e=me.velocity,mass:s=me.mass}){let o,u,c=1-t;c=ls(me.minDamping,me.maxDamping,c),n=ls(me.minDuration,me.maxDuration,bi(n)),c<1?(o=g=>{const v=g*c,E=v*n,A=v-e,C=Ip(g,c),L=Math.exp(-E);return np-A/C*L},u=g=>{const E=g*c*n,A=E*e+e,C=Math.pow(c,2)*Math.pow(g,2)*n,L=Math.exp(-E),Q=Ip(Math.pow(g,2),c);return(-o(g)+np>0?-1:1)*((A-C)*L)/Q}):(o=g=>{const v=Math.exp(-g*n),E=(g-e)*n+1;return-np+v*E},u=g=>{const v=Math.exp(-g*n),E=(e-g)*(n*n);return v*E});const d=5/n,p=jC(o,u,d);if(n=Ai(n),isNaN(p))return{stiffness:me.stiffness,damping:me.damping,duration:n};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:n}}}const UC=12;function jC(n,t,e){let s=e;for(let o=1;o<UC;o++)s=s-n(s)/t(s);return s}function Ip(n,t){return n*Math.sqrt(1-t*t)}const BC=["duration","bounce"],zC=["stiffness","damping","mass"];function vT(n,t){return t.some(e=>n[e]!==void 0)}function qC(n){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...n};if(!vT(n,zC)&&vT(n,BC))if(n.visualDuration){const e=n.visualDuration,s=2*Math.PI/(e*1.2),o=s*s,u=2*ls(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:me.mass,stiffness:o,damping:u}}else{const e=LC(n);t={...t,...e,mass:me.mass},t.isResolvedFromDuration=!0}return t}function Xh(n=me.visualDuration,t=me.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:s,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],d={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:A,isResolvedFromDuration:C}=qC({...e,velocity:-bi(e.velocity||0)}),L=A||0,Q=g/(2*Math.sqrt(p*v)),F=c-u,J=bi(Math.sqrt(p/v)),G=Math.abs(F)<5;s||(s=G?me.restSpeed.granular:me.restSpeed.default),o||(o=G?me.restDelta.granular:me.restDelta.default);let Y;if(Q<1){const st=Ip(J,Q);Y=mt=>{const V=Math.exp(-Q*J*mt);return c-V*((L+Q*J*F)/st*Math.sin(st*mt)+F*Math.cos(st*mt))}}else if(Q===1)Y=st=>c-Math.exp(-J*st)*(F+(L+J*F)*st);else{const st=J*Math.sqrt(Q*Q-1);Y=mt=>{const V=Math.exp(-Q*J*mt),w=Math.min(st*mt,300);return c-V*((L+Q*J*F)*Math.sinh(w)+st*F*Math.cosh(w))/st}}const ut={calculatedDuration:C&&E||null,next:st=>{const mt=Y(st);if(C)d.done=st>=E;else{let V=st===0?L:0;Q<1&&(V=st===0?Ai(L):Pb(Y,st,mt));const w=Math.abs(V)<=s,R=Math.abs(c-mt)<=o;d.done=w&&R}return d.value=d.done?c:mt,d},toString:()=>{const st=Math.min(kg(ut),Qh),mt=Ob(V=>ut.next(st*V).value,st,30);return st+"ms "+mt},toTransition:()=>{}};return ut}Xh.applyToOptions=n=>{const t=PC(n,100,Xh);return n.ease=t.ease,n.duration=Ai(t.duration),n.type="keyframes",n};function Cp({keyframes:n,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:p,restDelta:g=.5,restSpeed:v}){const E=n[0],A={done:!1,value:E},C=w=>d!==void 0&&w<d||p!==void 0&&w>p,L=w=>d===void 0?p:p===void 0||Math.abs(d-w)<Math.abs(p-w)?d:p;let Q=e*t;const F=E+Q,J=c===void 0?F:c(F);J!==F&&(Q=J-E);const G=w=>-Q*Math.exp(-w/s),Y=w=>J+G(w),ut=w=>{const R=G(w),M=Y(w);A.done=Math.abs(R)<=g,A.value=A.done?J:M};let st,mt;const V=w=>{C(A.value)&&(st=w,mt=Xh({keyframes:[A.value,L(A.value)],velocity:Pb(Y,w,A.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return V(0),{calculatedDuration:null,next:w=>{let R=!1;return!mt&&st===void 0&&(R=!0,ut(w),V(w)),st!==void 0&&w>=st?mt.next(w-st):(!R&&ut(w),A)}}}function FC(n,t,e){const s=[],o=e||us.mix||Mb,u=n.length-1;for(let c=0;c<u;c++){let d=o(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||Hn:t;d=Uu(p,d)}s.push(d)}return s}function HC(n,t,{clamp:e=!0,ease:s,mixer:o}={}){const u=n.length;if(Rg(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=FC(t,s,o),p=d.length,g=v=>{if(c&&v<n[0])return t[0];let E=0;if(p>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const A=Au(n[E],n[E+1],v);return d[E](A)};return e?v=>g(ls(n[0],n[u-1],v)):g}function GC(n,t){const e=n[n.length-1];for(let s=1;s<=t;s++){const o=Au(0,t,s);n.push(ue(e,1,o))}}function KC(n){const t=[0];return GC(t,n.length-1),t}function YC(n,t){return n.map(e=>e*t)}function QC(n,t){return n.map(()=>t||bb).splice(0,n.length-1)}function du({duration:n=300,keyframes:t,times:e,ease:s="easeInOut"}){const o=rC(s)?s.map(dT):dT(s),u={done:!1,value:t[0]},c=YC(e&&e.length===t.length?e:KC(t),n),d=HC(c,t,{ease:Array.isArray(o)?o:QC(t,o)});return{calculatedDuration:n,next:p=>(u.value=d(p),u.done=p>=n,u)}}const XC=n=>n!==null;function Lg(n,{repeat:t,repeatType:e="loop"},s,o=1){const u=n.filter(XC),d=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!d||s===void 0?u[d]:s}const $C={decay:Cp,inertia:Cp,tween:du,keyframes:du,spring:Xh};function kb(n){typeof n.type=="string"&&(n.type=$C[n.type])}class Ug{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const WC=n=>n/100;class jg extends Ug{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==gn.now()&&this.tick(gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;kb(t);const{type:e=du,repeat:s=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const p=e||du;p!==du&&typeof d[0]!="number"&&(this.mixKeyframes=Uu(WC,Mb(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=kg(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:s,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:A,repeatDelay:C,type:L,onUpdate:Q,finalKeyframe:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const J=this.currentTime-g*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?J<0:J>o;this.currentTime=Math.max(J,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Y=this.currentTime,ut=s;if(E){const w=Math.min(this.currentTime,o)/d;let R=Math.floor(w),M=w%1;!M&&w>=1&&(M=1),M===1&&R--,R=Math.min(R,E+1),!!(R%2)&&(A==="reverse"?(M=1-M,C&&(M-=C/d)):A==="mirror"&&(ut=c)),Y=ls(0,1,M)*d}const st=G?{done:!1,value:v[0]}:ut.next(Y);u&&(st.value=u(st.value));let{done:mt}=st;!G&&p!==null&&(mt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&mt);return V&&L!==Cp&&(st.value=Lg(v,this.options,F,this.speed)),Q&&Q(st.value),V&&this.finish(),st}then(t,e){return this.finished.then(t,e)}get duration(){return bi(this.calculatedDuration)}get time(){return bi(this.currentTime)}set time(t){t=Ai(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(gn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=bi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=OC,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=e??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function ZC(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const ra=n=>n*180/Math.PI,xp=n=>{const t=ra(Math.atan2(n[1],n[0]));return Dp(t)},JC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:xp,rotateZ:xp,skewX:n=>ra(Math.atan(n[1])),skewY:n=>ra(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Dp=n=>(n=n%360,n<0&&(n+=360),n),_T=xp,TT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),ET=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),tx={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:TT,scaleY:ET,scale:n=>(TT(n)+ET(n))/2,rotateX:n=>Dp(ra(Math.atan2(n[6],n[5]))),rotateY:n=>Dp(ra(Math.atan2(-n[2],n[0]))),rotateZ:_T,rotate:_T,skewX:n=>ra(Math.atan(n[4])),skewY:n=>ra(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Vp(n){return n.includes("scale")?1:0}function Np(n,t){if(!n||n==="none")return Vp(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(e)s=tx,o=e;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=JC,o=d}if(!o)return Vp(t);const u=s[t],c=o[1].split(",").map(nx);return typeof u=="function"?u(c):c[u]}const ex=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return Np(e,t)};function nx(n){return parseFloat(n.trim())}const jo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bo=new Set(jo),AT=n=>n===Uo||n===At,ix=new Set(["x","y","z"]),sx=jo.filter(n=>!ix.has(n));function rx(n){const t=[];return sx.forEach(e=>{const s=n.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const oa={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Np(t,"x"),y:(n,{transform:t})=>Np(t,"y")};oa.translateX=oa.x;oa.translateY=oa.y;const la=new Set;let Mp=!1,Op=!1,Pp=!1;function Lb(){if(Op){const n=Array.from(la).filter(s=>s.needsMeasurement),t=new Set(n.map(s=>s.element)),e=new Map;t.forEach(s=>{const o=rx(s);o.length&&(e.set(s,o),s.render())}),n.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=e.get(s);o&&o.forEach(([u,c])=>{s.getValue(u)?.set(c)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Op=!1,Mp=!1,la.forEach(n=>n.complete(Pp)),la.clear()}function Ub(){la.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Op=!0)})}function ax(){Pp=!0,Ub(),Lb(),Pp=!1}class Bg{constructor(t,e,s,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(la.add(this),Mp||(Mp=!0,ae.read(Ub),ae.resolveKeyframes(Lb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&e){const d=s.readValue(e,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}ZC(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),la.delete(this)}cancel(){this.state==="scheduled"&&(la.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ox=n=>n.startsWith("--");function lx(n,t,e){ox(t)?n.style.setProperty(t,e):n.style[t]=e}const ux=Ig(()=>window.ScrollTimeline!==void 0),cx={};function hx(n,t){const e=Ig(n);return()=>cx[t]??e()}const jb=hx(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ou=([n,t,e,s])=>`cubic-bezier(${n}, ${t}, ${e}, ${s})`,bT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ou([0,.65,.55,1]),circOut:ou([.55,0,1,.45]),backIn:ou([.31,.01,.66,-.59]),backOut:ou([.33,1.53,.69,.99])};function Bb(n,t){if(n)return typeof n=="function"?jb()?Ob(n,t):"ease-out":Sb(n)?ou(n):Array.isArray(n)?n.map(e=>Bb(e,t)||bT.easeOut):bT[n]}function fx(n,t,e,{delay:s=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:p}={},g=void 0){const v={[t]:e};p&&(v.offset=p);const E=Bb(d,o);Array.isArray(E)&&(v.easing=E);const A={delay:s,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(A.pseudoElement=g),n.animate(v,A)}function zb(n){return typeof n=="function"&&"applyToOptions"in n}function dx({type:n,...t}){return zb(n)&&jb()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class mx extends Ug{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:s,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,Rg(typeof t.type!="string");const g=dx(t);this.animation=fx(e,s,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Lg(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):lx(e,s,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return bi(Number(t))}get time(){return bi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ai(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&ux()?(this.animation.timeline=t,Hn):e(this)}}const qb={anticipate:Tb,backInOut:_b,circInOut:Ab};function px(n){return n in qb}function gx(n){typeof n.ease=="string"&&px(n.ease)&&(n.ease=qb[n.ease])}const ST=10;class yx extends mx{constructor(t){gx(t),kb(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:s,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const d=new jg({...c,autoplay:!1}),p=Ai(this.finishedTime??this.time);e.setWithVelocity(d.sample(p-ST).value,d.sample(p).value,ST),d.stop()}}const wT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(or.test(n)||n==="0")&&!n.startsWith("url("));function vx(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function _x(n,t,e,s){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=wT(o,t),d=wT(u,t);return!c||!d?!1:vx(n)||(e==="spring"||zb(e))&&s}function kp(n){n.duration=0,n.type}const Tx=new Set(["opacity","clipPath","filter","transform"]),Ex=Ig(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ax(n){const{motionValue:t,name:e,repeatDelay:s,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return Ex()&&e&&Tx.has(e)&&(e!=="transform"||!g)&&!p&&!s&&o!=="mirror"&&u!==0&&c!=="inertia"}const bx=40;class Sx extends Ug{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:p,motionValue:g,element:v,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=gn.now();const A={autoplay:t,delay:e,type:s,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:v,...E},C=v?.KeyframeResolver||Bg;this.keyframeResolver=new C(d,(L,Q,F)=>this.onKeyframesResolved(L,Q,A,!F),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,s,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:p,isHandoff:g,onUpdate:v}=s;this.resolvedAt=gn.now(),_x(t,u,c,d)||((us.instantAnimations||!p)&&v?.(Lg(t,s,e)),t[0]=t[t.length-1],kp(s),s.repeat=0);const A={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>bx?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...s,keyframes:t},C=!g&&Ax(A)?new yx({...A,element:A.motionValue.owner.current}):new jg(A);C.finished.then(()=>this.notifyFinished()).catch(Hn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),ax()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const wx=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Rx(n){const t=wx.exec(n);if(!t)return[,];const[,e,s,o]=t;return[`--${e??s}`,o]}function Fb(n,t,e=1){const[s,o]=Rx(n);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const c=u.trim();return hb(c)?parseFloat(c):c}return Ng(o)?Fb(o,t,e+1):o}function zg(n,t){return n?.[t]??n?.default??n}const Hb=new Set(["width","height","top","left","right","bottom",...jo]),Ix={test:n=>n==="auto",parse:n=>n},Gb=n=>t=>t.test(n),Kb=[Uo,At,Si,Qs,vC,yC,Ix],RT=n=>Kb.find(Gb(n));function Cx(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||db(n):!0}const xx=new Set(["brightness","contrast","saturate","opacity"]);function Dx(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[s]=e.match(Mg)||[];if(!s)return n;const o=e.replace(s,"");let u=xx.has(t)?1:0;return s!==e&&(u*=100),t+"("+u+o+")"}const Vx=/\b([a-z-]*)\(.*?\)/gu,Lp={...or,getAnimatableNone:n=>{const t=n.match(Vx);return t?t.map(Dx).join(" "):n}},IT={...Uo,transform:Math.round},Nx={rotate:Qs,rotateX:Qs,rotateY:Qs,rotateZ:Qs,scale:Ah,scaleX:Ah,scaleY:Ah,scaleZ:Ah,skew:Qs,skewX:Qs,skewY:Qs,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:bu,originX:mT,originY:mT,originZ:At},qg={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At,...Nx,zIndex:IT,fillOpacity:bu,strokeOpacity:bu,numOctaves:IT},Mx={...qg,color:Re,backgroundColor:Re,outlineColor:Re,fill:Re,stroke:Re,borderColor:Re,borderTopColor:Re,borderRightColor:Re,borderBottomColor:Re,borderLeftColor:Re,filter:Lp,WebkitFilter:Lp},Yb=n=>Mx[n];function Qb(n,t){let e=Yb(n);return e!==Lp&&(e=or),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const Ox=new Set(["auto","none","0"]);function Px(n,t,e){let s=0,o;for(;s<n.length&&!o;){const u=n[s];typeof u=="string"&&!Ox.has(u)&&Su(u).values.length&&(o=n[s]),s++}if(o&&e)for(const u of t)n[u]=Qb(e,o)}class kx extends Bg{constructor(t,e,s,o,u){super(t,e,s,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),Ng(g))){const v=Fb(g,e.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Hb.has(s)||t.length!==2)return;const[o,u]=t,c=RT(o),d=RT(u);if(c!==d)if(AT(c)&&AT(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else oa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||Cx(t[o]))&&s.push(o);s.length&&Px(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oa[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=oa[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function Lx(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const o=e?.[n]??s.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const Xb=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function Ux(n){return fb(n)&&"offsetHeight"in n}const CT=30,jx=n=>!isNaN(parseFloat(n));class Bx{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=gn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=gn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=jx(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Cg);const s=this.events[t].add(e);return t==="change"?()=>{s(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>CT)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,CT);return mb(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xo(n,t){return new Bx(n,t)}const{schedule:Fg}=wb(queueMicrotask,!1),Wn={x:!1,y:!1};function $b(){return Wn.x||Wn.y}function zx(n){return n==="x"||n==="y"?Wn[n]?null:(Wn[n]=!0,()=>{Wn[n]=!1}):Wn.x||Wn.y?null:(Wn.x=Wn.y=!0,()=>{Wn.x=Wn.y=!1})}function Wb(n,t){const e=Lx(n),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[e,o,()=>s.abort()]}function xT(n){return!(n.pointerType==="touch"||$b())}function qx(n,t,e={}){const[s,o,u]=Wb(n,e),c=d=>{if(!xT(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const v=E=>{xT(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return s.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}const Zb=(n,t)=>t?n===t?!0:Zb(n,t.parentElement):!1,Hg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Fx=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Hx(n){return Fx.has(n.tagName)||n.tabIndex!==-1}const Oh=new WeakSet;function DT(n){return t=>{t.key==="Enter"&&n(t)}}function ip(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Gx=(n,t)=>{const e=n.currentTarget;if(!e)return;const s=DT(()=>{if(Oh.has(e))return;ip(e,"down");const o=DT(()=>{ip(e,"up")}),u=()=>ip(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function VT(n){return Hg(n)&&!$b()}function Kx(n,t,e={}){const[s,o,u]=Wb(n,e),c=d=>{const p=d.currentTarget;if(!VT(d))return;Oh.add(p);const g=t(p,d),v=(C,L)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",A),Oh.has(p)&&Oh.delete(p),VT(C)&&typeof g=="function"&&g(C,{success:L})},E=C=>{v(C,p===window||p===document||e.useGlobalTarget||Zb(p,C.target))},A=C=>{v(C,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",A,o)};return s.forEach(d=>{(e.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),Ux(d)&&(d.addEventListener("focus",g=>Gx(g,o)),!Hx(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function Jb(n){return fb(n)&&"ownerSVGElement"in n}function Yx(n){return Jb(n)&&n.tagName==="svg"}const rn=n=>!!(n&&n.getVelocity),Qx=[...Kb,Re,or],Xx=n=>Qx.find(Gb(n)),t1=ft.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function $x(n=!0){const t=ft.useContext(bg);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:o}=t,u=ft.useId();ft.useEffect(()=>{if(n)return o(u)},[n]);const c=ft.useCallback(()=>n&&s&&s(u),[u,s,n]);return!e&&s?[!1,c]:[!0]}const e1=ft.createContext({strict:!1}),NT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Do={};for(const n in NT)Do[n]={isEnabled:t=>NT[n].some(e=>!!t[e])};function Wx(n){for(const t in n)Do[t]={...Do[t],...n[t]}}const Zx=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $h(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Zx.has(n)}let n1=n=>!$h(n);function Jx(n){typeof n=="function"&&(n1=t=>t.startsWith("on")?!$h(t):n(t))}try{Jx(require("@emotion/is-prop-valid").default)}catch{}function t2(n,t,e){const s={};for(const o in n)o==="values"&&typeof n.values=="object"||(n1(o)||e===!0&&$h(o)||!t&&!$h(o)||n.draggable&&o.startsWith("onDrag"))&&(s[o]=n[o]);return s}const Tf=ft.createContext({});function Ef(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function wu(n){return typeof n=="string"||Array.isArray(n)}const Gg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Kg=["initial",...Gg];function Af(n){return Ef(n.animate)||Kg.some(t=>wu(n[t]))}function i1(n){return!!(Af(n)||n.variants)}function e2(n,t){if(Af(n)){const{initial:e,animate:s}=n;return{initial:e===!1||wu(e)?e:void 0,animate:wu(s)?s:void 0}}return n.inherit!==!1?t:{}}function n2(n){const{initial:t,animate:e}=e2(n,ft.useContext(Tf));return ft.useMemo(()=>({initial:t,animate:e}),[MT(t),MT(e)])}function MT(n){return Array.isArray(n)?n.join(" "):n}const Ru={};function i2(n){for(const t in n)Ru[t]=n[t],Vg(t)&&(Ru[t].isCSSVariable=!0)}function s1(n,{layout:t,layoutId:e}){return Bo.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Ru[n]||n==="opacity")}const s2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},r2=jo.length;function a2(n,t,e){let s="",o=!0;for(let u=0;u<r2;u++){const c=jo[u],d=n[c];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(c.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||e){const g=Xb(d,qg[c]);if(!p){o=!1;const v=s2[c]||c;s+=`${v}(${g}) `}e&&(t[c]=g)}}return s=s.trim(),e?s=e(t,o?"":s):o&&(s="none"),s}function Yg(n,t,e){const{style:s,vars:o,transformOrigin:u}=n;let c=!1,d=!1;for(const p in t){const g=t[p];if(Bo.has(p)){c=!0;continue}else if(Vg(p)){o[p]=g;continue}else{const v=Xb(g,qg[p]);p.startsWith("origin")?(d=!0,u[p]=v):s[p]=v}}if(t.transform||(c||e?s.transform=a2(t,n.transform,e):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;s.transformOrigin=`${p} ${g} ${v}`}}const Qg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function r1(n,t,e){for(const s in t)!rn(t[s])&&!s1(s,e)&&(n[s]=t[s])}function o2({transformTemplate:n},t){return ft.useMemo(()=>{const e=Qg();return Yg(e,t,n),Object.assign({},e.vars,e.style)},[t])}function l2(n,t){const e=n.style||{},s={};return r1(s,e,n),Object.assign(s,o2(n,t)),s}function u2(n,t){const e={},s=l2(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=s,e}const c2={offset:"stroke-dashoffset",array:"stroke-dasharray"},h2={offset:"strokeDashoffset",array:"strokeDasharray"};function f2(n,t,e=1,s=0,o=!0){n.pathLength=1;const u=o?c2:h2;n[u.offset]=At.transform(-s);const c=At.transform(t),d=At.transform(e);n[u.array]=`${c} ${d}`}function a1(n,{attrX:t,attrY:e,attrScale:s,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},p,g,v){if(Yg(n,d,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:A}=n;E.transform&&(A.transform=E.transform,delete E.transform),(A.transform||E.transformOrigin)&&(A.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),A.transform&&(A.transformBox=v?.transformBox??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),e!==void 0&&(E.y=e),s!==void 0&&(E.scale=s),o!==void 0&&f2(E,o,u,c,!1)}const o1=()=>({...Qg(),attrs:{}}),l1=n=>typeof n=="string"&&n.toLowerCase()==="svg";function d2(n,t,e,s){const o=ft.useMemo(()=>{const u=o1();return a1(u,t,l1(s),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};r1(u,n.style,n),o.style={...u,...o.style}}return o}const m2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xg(n){return typeof n!="string"||n.includes("-")?!1:!!(m2.indexOf(n)>-1||/[A-Z]/u.test(n))}function p2(n,t,e,{latestValues:s},o,u=!1){const d=(Xg(n)?d2:u2)(t,s,o,n),p=t2(t,typeof n=="string",u),g=n!==ft.Fragment?{...p,...d,ref:e}:{},{children:v}=t,E=ft.useMemo(()=>rn(v)?v.get():v,[v]);return ft.createElement(n,{...g,children:E})}function OT(n){const t=[{},{}];return n?.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function $g(n,t,e,s){if(typeof t=="function"){const[o,u]=OT(s);t=t(e!==void 0?e:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=OT(s);t=t(e!==void 0?e:n.custom,o,u)}return t}function Ph(n){return rn(n)?n.get():n}function g2({scrapeMotionValuesFromProps:n,createRenderState:t},e,s,o){return{latestValues:y2(e,s,o,n),renderState:t()}}function y2(n,t,e,s){const o={},u=s(n,{});for(const A in u)o[A]=Ph(u[A]);let{initial:c,animate:d}=n;const p=Af(n),g=i1(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=e?e.initial===!1:!1;v=v||c===!1;const E=v?d:c;if(E&&typeof E!="boolean"&&!Ef(E)){const A=Array.isArray(E)?E:[E];for(let C=0;C<A.length;C++){const L=$g(n,A[C]);if(L){const{transitionEnd:Q,transition:F,...J}=L;for(const G in J){let Y=J[G];if(Array.isArray(Y)){const ut=v?Y.length-1:0;Y=Y[ut]}Y!==null&&(o[G]=Y)}for(const G in Q)o[G]=Q[G]}}}return o}const u1=n=>(t,e)=>{const s=ft.useContext(Tf),o=ft.useContext(bg),u=()=>g2(n,t,s,o);return e?u():WI(u)};function Wg(n,t,e){const{style:s}=n,o={};for(const u in s)(rn(s[u])||t.style&&rn(t.style[u])||s1(u,n)||e?.getValue(u)?.liveStyle!==void 0)&&(o[u]=s[u]);return o}const v2=u1({scrapeMotionValuesFromProps:Wg,createRenderState:Qg});function c1(n,t,e){const s=Wg(n,t,e);for(const o in n)if(rn(n[o])||rn(t[o])){const u=jo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[u]=n[o]}return s}const _2=u1({scrapeMotionValuesFromProps:c1,createRenderState:o1}),T2=Symbol.for("motionComponentSymbol");function go(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function E2(n,t,e){return ft.useCallback(s=>{s&&n.onMount&&n.onMount(s),t&&(s?t.mount(s):t.unmount()),e&&(typeof e=="function"?e(s):go(e)&&(e.current=s))},[t])}const Zg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),A2="framerAppearId",h1="data-"+Zg(A2),f1=ft.createContext({});function b2(n,t,e,s,o){const{visualElement:u}=ft.useContext(Tf),c=ft.useContext(e1),d=ft.useContext(bg),p=ft.useContext(t1).reducedMotion,g=ft.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(n,{visualState:t,parent:u,props:e,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=ft.useContext(f1);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&S2(g.current,e,o,E);const A=ft.useRef(!1);ft.useInsertionEffect(()=>{v&&A.current&&v.update(e,d)});const C=e[h1],L=ft.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return ZI(()=>{v&&(A.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),L.current&&v.animationState&&v.animationState.animateChanges())}),ft.useEffect(()=>{v&&(!L.current&&v.animationState&&v.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),L.current=!1),v.enteringChildren=void 0)}),v}function S2(n,t,e,s){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:d1(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&go(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:p,layoutRoot:g})}function d1(n){if(n)return n.options.allowProjection!==!1?n.projection:d1(n.parent)}function sp(n,{forwardMotionProps:t=!1}={},e,s){e&&Wx(e);const o=Xg(n)?_2:v2;function u(d,p){let g;const v={...ft.useContext(t1),...d,layoutId:w2(d)},{isStatic:E}=v,A=n2(d),C=o(d,E);if(!E&&Ag){R2();const L=I2(v);g=L.MeasureLayout,A.visualElement=b2(n,C,v,s,L.ProjectionNode)}return O.jsxs(Tf.Provider,{value:A,children:[g&&A.visualElement?O.jsx(g,{visualElement:A.visualElement,...v}):null,p2(n,d,E2(C,A.visualElement,p),C,E,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=ft.forwardRef(u);return c[T2]=n,c}function w2({layoutId:n}){const t=ft.useContext(cb).id;return t&&n!==void 0?t+"-"+n:n}function R2(n,t){ft.useContext(e1).strict}function I2(n){const{drag:t,layout:e}=Do;if(!t&&!e)return{};const s={...t,...e};return{MeasureLayout:t?.isEnabled(n)||e?.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function C2(n,t){if(typeof Proxy>"u")return sp;const e=new Map,s=(u,c)=>sp(u,c,n,t),o=(u,c)=>s(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?s:(e.has(c)||e.set(c,sp(c,void 0,n,t)),e.get(c))})}function m1({top:n,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:n,max:s}}}function x2({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function D2(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),s=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}function rp(n){return n===void 0||n===1}function Up({scale:n,scaleX:t,scaleY:e}){return!rp(n)||!rp(t)||!rp(e)}function na(n){return Up(n)||p1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function p1(n){return PT(n.x)||PT(n.y)}function PT(n){return n&&n!=="0%"}function Wh(n,t,e){const s=n-e,o=t*s;return e+o}function kT(n,t,e,s,o){return o!==void 0&&(n=Wh(n,o,s)),Wh(n,e,s)+t}function jp(n,t=0,e=1,s,o){n.min=kT(n.min,t,e,s,o),n.max=kT(n.max,t,e,s,o)}function g1(n,{x:t,y:e}){jp(n.x,t.translate,t.scale,t.originPoint),jp(n.y,e.translate,e.scale,e.originPoint)}const LT=.999999999999,UT=1.0000000000001;function V2(n,t,e,s=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=e[d],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&vo(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,g1(n,c)),s&&na(u.latestValues)&&vo(n,u.latestValues))}t.x<UT&&t.x>LT&&(t.x=1),t.y<UT&&t.y>LT&&(t.y=1)}function yo(n,t){n.min=n.min+t,n.max=n.max+t}function jT(n,t,e,s,o=.5){const u=ue(n.min,n.max,o);jp(n,t,e,u,s)}function vo(n,t){jT(n.x,t.x,t.scaleX,t.scale,t.originX),jT(n.y,t.y,t.scaleY,t.scale,t.originY)}function y1(n,t){return m1(D2(n.getBoundingClientRect(),t))}function N2(n,t,e){const s=y1(n,e),{scroll:o}=t;return o&&(yo(s.x,o.offset.x),yo(s.y,o.offset.y)),s}const BT=()=>({translate:0,scale:1,origin:0,originPoint:0}),_o=()=>({x:BT(),y:BT()}),zT=()=>({min:0,max:0}),ve=()=>({x:zT(),y:zT()}),Bp={current:null},v1={current:!1};function M2(){if(v1.current=!0,!!Ag)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Bp.current=n.matches;n.addEventListener("change",t),t()}else Bp.current=!1}const O2=new WeakMap;function P2(n,t,e){for(const s in t){const o=t[s],u=e[s];if(rn(o))n.addValue(s,o);else if(rn(u))n.addValue(s,xo(o,{owner:n}));else if(u!==o)if(n.hasValue(s)){const c=n.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(s);n.addValue(s,xo(c!==void 0?c:o,{owner:n}))}}for(const s in e)t[s]===void 0&&n.removeValue(s);return t}const qT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class k2{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=gn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,ae.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=Af(e),this.isVariantNode=i1(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(e,{},this);for(const A in E){const C=E[A];p[A]!==void 0&&rn(C)&&C.set(p[A])}}mount(t){this.current=t,O2.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,s)=>this.bindToMotionValue(s,e)),v1.current||M2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bp.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ar(this.notifyUpdate),ar(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Bo.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ae.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Do){const e=Do[t];if(!e)continue;const{isEnabled:s,Feature:o}=e;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<qT.length;s++){const o=qT[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=P2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=xo(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(hb(s)||db(s))?s=parseFloat(s):!Xx(s)&&or.test(e)&&(s=Qb(t,e)),this.setBaseTarget(t,rn(s)?s.get():s)),rn(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let s;if(typeof e=="string"||typeof e=="object"){const u=$g(this.props,e,this.presenceContext?.custom);u&&(s=u[t])}if(e&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!rn(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Cg),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Fg.render(this.render)}}class _1 extends k2{constructor(){super(...arguments),this.KeyframeResolver=kx}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function T1(n,{style:t,vars:e},s,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,s);for(c in e)u.setProperty(c,e[c])}function L2(n){return window.getComputedStyle(n)}class U2 extends _1{constructor(){super(...arguments),this.type="html",this.renderInstance=T1}readValueFromInstance(t,e){if(Bo.has(e))return this.projection?.isProjecting?Vp(e):ex(t,e);{const s=L2(t),o=(Vg(e)?s.getPropertyValue(e):s[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return y1(t,e)}build(t,e,s){Yg(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return Wg(t,e,s)}}const E1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function j2(n,t,e,s){T1(n,t,void 0,s);for(const o in t.attrs)n.setAttribute(E1.has(o)?o:Zg(o),t.attrs[o])}class B2 extends _1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ve}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Bo.has(e)){const s=Yb(e);return s&&s.default||0}return e=E1.has(e)?e:Zg(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return c1(t,e,s)}build(t,e,s){a1(t,e,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,e,s,o){j2(t,e,s,o)}mount(t){this.isSVGTag=l1(t.tagName),super.mount(t)}}const z2=(n,t)=>Xg(n)?new B2(t):new U2(t,{allowProjection:n!==ft.Fragment});function Eo(n,t,e){const s=n.getProps();return $g(s,t,e!==void 0?e:s.custom,n)}const zp=n=>Array.isArray(n);function q2(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,xo(e))}function F2(n){return zp(n)?n[n.length-1]||0:n}function H2(n,t){const e=Eo(n,t);let{transitionEnd:s={},transition:o={},...u}=e||{};u={...u,...s};for(const c in u){const d=F2(u[c]);q2(n,c,d)}}function G2(n){return!!(rn(n)&&n.add)}function qp(n,t){const e=n.getValue("willChange");if(G2(e))return e.add(t);if(!e&&us.WillChange){const s=new us.WillChange("auto");n.addValue("willChange",s),s.add(t)}}function A1(n){return n.props[h1]}const K2=n=>n!==null;function Y2(n,{repeat:t,repeatType:e="loop"},s){const o=n.filter(K2),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}const Q2={type:"spring",stiffness:500,damping:25,restSpeed:10},X2=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),$2={type:"keyframes",duration:.8},W2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Z2=(n,{keyframes:t})=>t.length>2?$2:Bo.has(n)?n.startsWith("scale")?X2(t[1]):Q2:W2;function J2({when:n,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const Jg=(n,t,e,s={},o,u)=>c=>{const d=zg(s,n)||{},p=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Ai(p);const v={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:A=>{t.set(A),d.onUpdate&&d.onUpdate(A)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:o};J2(d)||Object.assign(v,Z2(n,v)),v.duration&&(v.duration=Ai(v.duration)),v.repeatDelay&&(v.repeatDelay=Ai(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(kp(v),v.delay===0&&(E=!0)),(us.instantAnimations||us.skipAnimations)&&(E=!0,kp(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,E&&!u&&t.get()!==void 0){const A=Y2(v.keyframes,d);if(A!==void 0){ae.update(()=>{v.onUpdate(A),v.onComplete()});return}}return d.isSync?new jg(v):new Sx(v)};function tD({protectedKeys:n,needsAnimating:t},e){const s=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function b1(n,t,{delay:e=0,transitionOverride:s,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(u=s);const p=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in d){const E=n.getValue(v,n.latestValues[v]??null),A=d[v];if(A===void 0||g&&tD(g,v))continue;const C={delay:e,...zg(u||{},v)},L=E.get();if(L!==void 0&&!E.isAnimating&&!Array.isArray(A)&&A===L&&!C.velocity)continue;let Q=!1;if(window.MotionHandoffAnimation){const J=A1(n);if(J){const G=window.MotionHandoffAnimation(J,v,ae);G!==null&&(C.startTime=G,Q=!0)}}qp(n,v),E.start(Jg(v,E,A,n.shouldReduceMotion&&Hb.has(v)?{type:!1}:C,n,Q));const F=E.animation;F&&p.push(F)}return c&&Promise.all(p).then(()=>{ae.update(()=>{c&&H2(n,c)})}),p}function S1(n,t,e,s=0,o=1){const u=Array.from(n).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=n.size,d=(c-1)*s;return typeof e=="function"?e(u,c):o===1?u*s:d-u*s}function Fp(n,t,e={}){const s=Eo(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(o=e.transitionOverride);const u=s?()=>Promise.all(b1(n,s,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:E}=o;return eD(n,t,p,g,v,E,e)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,g]=d==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(e.delay)])}function eD(n,t,e=0,s=0,o=0,u=1,c){const d=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),d.push(Fp(p,t,{...c,delay:e+(typeof s=="function"?0:s)+S1(n.variantChildren,p,s,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(d)}function nD(n,t,e={}){n.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(u=>Fp(n,u,e));s=Promise.all(o)}else if(typeof t=="string")s=Fp(n,t,e);else{const o=typeof t=="function"?Eo(n,t,e.custom):t;s=Promise.all(b1(n,o,e))}return s.then(()=>{n.notify("AnimationComplete",t)})}function w1(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let s=0;s<e;s++)if(t[s]!==n[s])return!1;return!0}const iD=Kg.length;function R1(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?R1(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<iD;e++){const s=Kg[e],o=n.props[s];(wu(o)||o===!1)&&(t[s]=o)}return t}const sD=[...Gg].reverse(),rD=Gg.length;function aD(n){return t=>Promise.all(t.map(({animation:e,options:s})=>nD(n,e,s)))}function oD(n){let t=aD(n),e=FT(),s=!0;const o=p=>(g,v)=>{const E=Eo(n,v,p==="exit"?n.presenceContext?.custom:void 0);if(E){const{transition:A,transitionEnd:C,...L}=E;g={...g,...L,...C}}return g};function u(p){t=p(n)}function c(p){const{props:g}=n,v=R1(n.parent)||{},E=[],A=new Set;let C={},L=1/0;for(let F=0;F<rD;F++){const J=sD[F],G=e[J],Y=g[J]!==void 0?g[J]:v[J],ut=wu(Y),st=J===p?G.isActive:null;st===!1&&(L=F);let mt=Y===v[J]&&Y!==g[J]&&ut;if(mt&&s&&n.manuallyAnimateOnMount&&(mt=!1),G.protectedKeys={...C},!G.isActive&&st===null||!Y&&!G.prevProp||Ef(Y)||typeof Y=="boolean")continue;const V=lD(G.prevProp,Y);let w=V||J===p&&G.isActive&&!mt&&ut||F>L&&ut,R=!1;const M=Array.isArray(Y)?Y:[Y];let P=M.reduce(o(J),{});st===!1&&(P={});const{prevResolvedValues:U={}}=G,x={...U,...P},Te=it=>{w=!0,A.has(it)&&(R=!0,A.delete(it)),G.needsAnimating[it]=!0;const ct=n.getValue(it);ct&&(ct.liveStyle=!1)};for(const it in x){const ct=P[it],Ct=U[it];if(C.hasOwnProperty(it))continue;let D=!1;zp(ct)&&zp(Ct)?D=!w1(ct,Ct):D=ct!==Ct,D?ct!=null?Te(it):A.add(it):ct!==void 0&&A.has(it)?Te(it):G.protectedKeys[it]=!0}G.prevProp=Y,G.prevResolvedValues=P,G.isActive&&(C={...C,...P}),s&&n.blockInitialAnimation&&(w=!1);const ne=mt&&V;w&&(!ne||R)&&E.push(...M.map(it=>{const ct={type:J};if(typeof it=="string"&&s&&!ne&&n.manuallyAnimateOnMount&&n.parent){const{parent:Ct}=n,D=Eo(Ct,it);if(Ct.enteringChildren&&D){const{delayChildren:nt}=D.transition||{};ct.delay=S1(Ct.enteringChildren,n,nt)}}return{animation:it,options:ct}}))}if(A.size){const F={};if(typeof g.initial!="boolean"){const J=Eo(n,Array.isArray(g.initial)?g.initial[0]:g.initial);J&&J.transition&&(F.transition=J.transition)}A.forEach(J=>{const G=n.getBaseTarget(J),Y=n.getValue(J);Y&&(Y.liveStyle=!0),F[J]=G??null}),E.push({animation:F})}let Q=!!E.length;return s&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(Q=!1),s=!1,Q?t(E):Promise.resolve()}function d(p,g){if(e[p].isActive===g)return Promise.resolve();n.variantChildren?.forEach(E=>E.animationState?.setActive(p,g)),e[p].isActive=g;const v=c(p);for(const E in e)e[E].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>e,reset:()=>{e=FT(),s=!0}}}function lD(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!w1(t,n):!1}function ta(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function FT(){return{animate:ta(!0),whileInView:ta(),whileHover:ta(),whileTap:ta(),whileDrag:ta(),whileFocus:ta(),exit:ta()}}class gr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class uD extends gr{constructor(t){super(t),t.animationState||(t.animationState=oD(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ef(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let cD=0;class hD extends gr{constructor(){super(...arguments),this.id=cD++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const fD={animation:{Feature:uD},exit:{Feature:hD}};function Iu(n,t,e,s={passive:!0}){return n.addEventListener(t,e,s),()=>n.removeEventListener(t,e)}function zu(n){return{point:{x:n.pageX,y:n.pageY}}}const dD=n=>t=>Hg(t)&&n(t,zu(t));function mu(n,t,e,s){return Iu(n,t,dD(e),s)}const I1=1e-4,mD=1-I1,pD=1+I1,C1=.01,gD=0-C1,yD=0+C1;function hn(n){return n.max-n.min}function vD(n,t,e){return Math.abs(n-t)<=e}function HT(n,t,e,s=.5){n.origin=s,n.originPoint=ue(t.min,t.max,n.origin),n.scale=hn(e)/hn(t),n.translate=ue(e.min,e.max,n.origin)-n.originPoint,(n.scale>=mD&&n.scale<=pD||isNaN(n.scale))&&(n.scale=1),(n.translate>=gD&&n.translate<=yD||isNaN(n.translate))&&(n.translate=0)}function pu(n,t,e,s){HT(n.x,t.x,e.x,s?s.originX:void 0),HT(n.y,t.y,e.y,s?s.originY:void 0)}function GT(n,t,e){n.min=e.min+t.min,n.max=n.min+hn(t)}function _D(n,t,e){GT(n.x,t.x,e.x),GT(n.y,t.y,e.y)}function KT(n,t,e){n.min=t.min-e.min,n.max=n.min+hn(t)}function gu(n,t,e){KT(n.x,t.x,e.x),KT(n.y,t.y,e.y)}function zn(n){return[n("x"),n("y")]}const x1=({current:n})=>n?n.ownerDocument.defaultView:null,YT=(n,t)=>Math.abs(n-t);function TD(n,t){const e=YT(n.x,t.x),s=YT(n.y,t.y);return Math.sqrt(e**2+s**2)}class D1{constructor(t,e,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=op(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,L=TD(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!L)return;const{point:Q}=A,{timestamp:F}=Qe;this.history.push({...Q,timestamp:F});const{onStart:J,onMove:G}=this.handlers;C||(J&&J(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),G&&G(this.lastMoveEvent,A)},this.handlePointerMove=(A,C)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=ap(C,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(A,C)=>{this.end();const{onEnd:L,onSessionEnd:Q,resumeAnimation:F}=this.handlers;if(this.dragSnapToOrigin&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const J=op(A.type==="pointercancel"?this.lastMoveEventInfo:ap(C,this.transformPagePoint),this.history);this.startEvent&&L&&L(A,J),Q&&Q(A,J)},!Hg(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const d=zu(t),p=ap(d,this.transformPagePoint),{point:g}=p,{timestamp:v}=Qe;this.history=[{...g,timestamp:v}];const{onSessionStart:E}=e;E&&E(t,op(p,this.history)),this.removeListeners=Uu(mu(this.contextWindow,"pointermove",this.handlePointerMove),mu(this.contextWindow,"pointerup",this.handlePointerUp),mu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ar(this.updatePoint)}}function ap(n,t){return t?{point:t(n.point)}:n}function QT(n,t){return{x:n.x-t.x,y:n.y-t.y}}function op({point:n},t){return{point:n,delta:QT(n,V1(t)),offset:QT(n,ED(t)),velocity:AD(t,.1)}}function ED(n){return n[0]}function V1(n){return n[n.length-1]}function AD(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,s=null;const o=V1(n);for(;e>=0&&(s=n[e],!(o.timestamp-s.timestamp>Ai(t)));)e--;if(!s)return{x:0,y:0};const u=bi(o.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-s.x)/u,y:(o.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function bD(n,{min:t,max:e},s){return t!==void 0&&n<t?n=s?ue(t,n,s.min):Math.max(n,t):e!==void 0&&n>e&&(n=s?ue(e,n,s.max):Math.min(n,e)),n}function XT(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function SD(n,{top:t,left:e,bottom:s,right:o}){return{x:XT(n.x,e,o),y:XT(n.y,t,s)}}function $T(n,t){let e=t.min-n.min,s=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,s]=[s,e]),{min:e,max:s}}function wD(n,t){return{x:$T(n.x,t.x),y:$T(n.y,t.y)}}function RD(n,t){let e=.5;const s=hn(n),o=hn(t);return o>s?e=Au(t.min,t.max-s,n.min):s>o&&(e=Au(n.min,n.max-o,t.min)),ls(0,1,e)}function ID(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Hp=.35;function CD(n=Hp){return n===!1?n=0:n===!0&&(n=Hp),{x:WT(n,"left","right"),y:WT(n,"top","bottom")}}function WT(n,t,e){return{min:ZT(n,t),max:ZT(n,e)}}function ZT(n,t){return typeof n=="number"?n:n[t]||0}const xD=new WeakMap;class DD{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(zu(E).point)},c=(E,A)=>{const{drag:C,dragPropagation:L,onDragStart:Q}=this.getProps();if(C&&!L&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zx(C),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(J=>{let G=this.getAxisMotionValue(J).get()||0;if(Si.test(G)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const ut=Y.layout.layoutBox[J];ut&&(G=hn(ut)*(parseFloat(G)/100))}}this.originPoint[J]=G}),Q&&ae.postRender(()=>Q(E,A)),qp(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},d=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A;const{dragPropagation:C,dragDirectionLock:L,onDirectionLock:Q,onDrag:F}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:J}=A;if(L&&this.currentDirection===null){this.currentDirection=VD(J),this.currentDirection!==null&&Q&&Q(this.currentDirection);return}this.updateAxis("x",A.point,J),this.updateAxis("y",A.point,J),this.visualElement.render(),F&&F(E,A)},p=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A,this.stop(E,A),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>zn(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new D1(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:x1(this.visualElement)})}stop(t,e){const s=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ae.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,s){const{drag:o}=this.getProps();if(!s||!bh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=bD(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&go(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=SD(s.layoutBox,t):this.constraints=!1,this.elastic=CD(e),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&zn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=ID(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!go(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=N2(s,o.root,this.visualElement.getTransformPagePoint());let c=wD(o.layout.layoutBox,u);if(e){const d=e(x2(c));this.hasMutatedConstraints=!!d,d&&(c=m1(d))}return c}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=zn(v=>{if(!bh(v,e,this.currentDirection))return;let E=p&&p[v]||{};c&&(E={min:0,max:0});const A=o?200:1e6,C=o?40:1e7,L={type:"inertia",velocity:s?t[v]:0,bounceStiffness:A,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,L)});return Promise.all(g).then(d)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return qp(this.visualElement,t),s.start(Jg(t,s,0,e,this.visualElement,!1))}stopAnimation(){zn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[e];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){zn(e=>{const{drag:s}=this.getProps();if(!bh(e,s,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[e];u.set(t[e]-ue(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!go(e)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};zn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();o[c]=RD({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),zn(c=>{if(!bh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];d.set(ue(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;xD.set(this.visualElement,this);const t=this.visualElement.current,e=mu(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();go(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ae.read(s);const c=Iu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(zn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Hp,dragMomentum:d=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function bh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function VD(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class ND extends gr{constructor(t){super(t),this.removeGroupControls=Hn,this.removeListeners=Hn,this.controls=new DD(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const JT=n=>(t,e)=>{n&&ae.postRender(()=>n(t,e))};class MD extends gr{constructor(){super(...arguments),this.removePointerDownListener=Hn}onPointerDown(t){this.session=new D1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:x1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:JT(t),onStart:JT(e),onMove:s,onEnd:(u,c)=>{delete this.session,o&&ae.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=mu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tE(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const ru={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(At.test(n))n=parseFloat(n);else return n;const e=tE(n,t.target.x),s=tE(n,t.target.y);return`${e}% ${s}%`}},OD={correct:(n,{treeScale:t,projectionDelta:e})=>{const s=n,o=or.parse(n);if(o.length>5)return s;const u=or.createTransformer(n),c=typeof o[0]!="number"?1:0,d=e.x.scale*t.x,p=e.y.scale*t.y;o[0+c]/=d,o[1+c]/=p;const g=ue(d,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}};let lp=!1;class PD extends ft.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:o}=this.props,{projection:u}=t;i2(kD),u&&(e.group&&e.group.add(u),s&&s.register&&o&&s.register(u),lp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),kh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:o,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,lp=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ae.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Fg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:o}=t;lp=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function N1(n){const[t,e]=$x(),s=ft.useContext(cb);return O.jsx(PD,{...n,layoutGroup:s,switchLayoutGroup:ft.useContext(f1),isPresent:t,safeToRemove:e})}const kD={borderRadius:{...ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ru,borderTopRightRadius:ru,borderBottomLeftRadius:ru,borderBottomRightRadius:ru,boxShadow:OD};function LD(n,t,e){const s=rn(n)?n:xo(n);return s.start(Jg("",s,t,e)),s.animation}const UD=(n,t)=>n.depth-t.depth;class jD{constructor(){this.children=[],this.isDirty=!1}add(t){Sg(this.children,t),this.isDirty=!0}remove(t){wg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(UD),this.isDirty=!1,this.children.forEach(t)}}function BD(n,t){const e=gn.now(),s=({timestamp:o})=>{const u=o-e;u>=t&&(ar(s),n(u-t))};return ae.setup(s,!0),()=>ar(s)}const M1=["TopLeft","TopRight","BottomLeft","BottomRight"],zD=M1.length,eE=n=>typeof n=="string"?parseFloat(n):n,nE=n=>typeof n=="number"||At.test(n);function qD(n,t,e,s,o,u){o?(n.opacity=ue(0,e.opacity??1,FD(s)),n.opacityExit=ue(t.opacity??1,0,HD(s))):u&&(n.opacity=ue(t.opacity??1,e.opacity??1,s));for(let c=0;c<zD;c++){const d=`border${M1[c]}Radius`;let p=iE(t,d),g=iE(e,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||nE(p)===nE(g)?(n[d]=Math.max(ue(eE(p),eE(g),s),0),(Si.test(g)||Si.test(p))&&(n[d]+="%")):n[d]=g}(t.rotate||e.rotate)&&(n.rotate=ue(t.rotate||0,e.rotate||0,s))}function iE(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const FD=O1(0,.5,Eb),HD=O1(.5,.95,Hn);function O1(n,t,e){return s=>s<n?0:s>t?1:e(Au(n,t,s))}function sE(n,t){n.min=t.min,n.max=t.max}function Bn(n,t){sE(n.x,t.x),sE(n.y,t.y)}function rE(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function aE(n,t,e,s,o){return n-=t,n=Wh(n,1/e,s),o!==void 0&&(n=Wh(n,1/o,s)),n}function GD(n,t=0,e=1,s=.5,o,u=n,c=n){if(Si.test(t)&&(t=parseFloat(t),t=ue(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=ue(u.min,u.max,s);n===u&&(d-=t),n.min=aE(n.min,t,e,d,o),n.max=aE(n.max,t,e,d,o)}function oE(n,t,[e,s,o],u,c){GD(n,t[e],t[s],t[o],t.scale,u,c)}const KD=["x","scaleX","originX"],YD=["y","scaleY","originY"];function lE(n,t,e,s){oE(n.x,t,KD,e?e.x:void 0,s?s.x:void 0),oE(n.y,t,YD,e?e.y:void 0,s?s.y:void 0)}function uE(n){return n.translate===0&&n.scale===1}function P1(n){return uE(n.x)&&uE(n.y)}function cE(n,t){return n.min===t.min&&n.max===t.max}function QD(n,t){return cE(n.x,t.x)&&cE(n.y,t.y)}function hE(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function k1(n,t){return hE(n.x,t.x)&&hE(n.y,t.y)}function fE(n){return hn(n.x)/hn(n.y)}function dE(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class XD{constructor(){this.members=[]}add(t){Sg(this.members,t),t.scheduleRender()}remove(t){if(wg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let s;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $D(n,t,e){let s="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(s=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:A,skewX:C,skewY:L}=e;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),E&&(s+=`rotateX(${E}deg) `),A&&(s+=`rotateY(${A}deg) `),C&&(s+=`skewX(${C}deg) `),L&&(s+=`skewY(${L}deg) `)}const d=n.x.scale*t.x,p=n.y.scale*t.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const up=["","X","Y","Z"],WD=1e3;let ZD=0;function cp(n,t,e,s){const{latestValues:o}=t;o[n]&&(e[n]=o[n],t.setStaticValue(n,0),s&&(s[n]=0))}function L1(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=A1(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ae,!(o||u))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&L1(s)}function U1({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=ZD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eV),this.nodes.forEach(rV),this.nodes.forEach(aV),this.nodes.forEach(nV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new jD)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Cg),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Jb(c)&&!Yx(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),n){let v,E=0;const A=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{E=window.innerWidth}),n(c,()=>{const C=window.innerWidth;C!==E&&(E=C,this.root.updateBlockedByResize=!0,v&&v(),v=BD(A,250),kh.hasAnimatedSinceResize&&(kh.hasAnimatedSinceResize=!1,this.nodes.forEach(gE)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:A,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||g.getDefaultTransition()||hV,{onLayoutAnimationStart:Q,onLayoutAnimationComplete:F}=g.getProps(),J=!this.targetLayout||!k1(this.targetLayout,C),G=!E&&A;if(this.options.layoutRoot||this.resumeFrom||G||E&&(J||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...zg(L,"layout"),onPlay:Q,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(v,G)}else E||gE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ar(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&L1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(pE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(sV),this.nodes.forEach(JD),this.nodes.forEach(tV)):this.nodes.forEach(pE),this.clearAllSnapshots();const d=gn.now();Qe.delta=ls(0,1e3/60,d-Qe.timestamp),Qe.timestamp=d,Qe.isProcessing=!0,Zm.update.process(Qe),Zm.preRender.process(Qe),Zm.render.process(Qe),Qe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iV),this.sharedNodes.forEach(lV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!P1(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||na(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),fV(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ve();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(dV))){const{scroll:g}=this.root;g&&(yo(d.x,g.offset.x),yo(d.y,g.offset.y))}return d}removeElementScroll(c){const d=ve();if(Bn(d,c),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:E}=g;g!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&Bn(d,c),yo(d.x,v.offset.x),yo(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const p=ve();Bn(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&vo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),na(v.latestValues)&&vo(p,v.latestValues)}return na(this.latestValues)&&vo(p,this.latestValues),p}removeTransform(c){const d=ve();Bn(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!na(g.latestValues))continue;Up(g.latestValues)&&g.updateSnapshot();const v=ve(),E=g.measurePageBox();Bn(v,E),lE(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return na(this.latestValues)&&lE(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=Qe.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),gu(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_D(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),g1(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),gu(this.relativeTargetOrigin,this.target,A.target),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Up(this.parent.latestValues)||p1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Qe.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Bn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,A=this.treeScale.y;V2(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ve());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rE(this.prevProjectionDelta.x,this.projectionDelta.x),rE(this.prevProjectionDelta.y,this.projectionDelta.y)),pu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==A||!dE(this.projectionDelta.x,this.prevProjectionDelta.x)||!dE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_o(),this.projectionDelta=_o(),this.projectionDeltaWithTransform=_o()}setAnimationOrigin(c,d=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=_o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const A=ve(),C=p?p.source:void 0,L=this.layout?this.layout.source:void 0,Q=C!==L,F=this.getStack(),J=!F||F.members.length<=1,G=!!(Q&&!J&&this.options.crossfade===!0&&!this.path.some(cV));this.animationProgress=0;let Y;this.mixTargetDelta=ut=>{const st=ut/1e3;yE(E.x,c.x,st),yE(E.y,c.y,st),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gu(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uV(this.relativeTarget,this.relativeTargetOrigin,A,st),Y&&QD(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=ve()),Bn(Y,this.relativeTarget)),Q&&(this.animationValues=v,qD(v,g,this.latestValues,st,G,J)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=st},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ar(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{kh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xo(0)),this.currentAnimation=LD(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(WD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:v}=c;if(!(!d||!p||!g)){if(this!==c&&this.layout&&g&&j1(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ve();const E=hn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+E;const A=hn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+A}Bn(d,p),vo(d,v),pu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new XD),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&cp("z",c,g,this.animationValues);for(let v=0;v<up.length;v++)cp(`rotate${up[v]}`,c,g,this.animationValues),cp(`skew${up[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Ph(d?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Ph(d?.pointerEvents)||""),this.hasProjected&&!na(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=$D(this.projectionDeltaWithTransform,this.treeScale,v);p&&(E=p(v,E)),c.transform=E;const{x:A,y:C}=this.projectionDelta;c.transformOrigin=`${A.origin*100}% ${C.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const L in Ru){if(v[L]===void 0)continue;const{correct:Q,applyTo:F,isCSSVariable:J}=Ru[L],G=E==="none"?v[L]:Q(v[L],g);if(F){const Y=F.length;for(let ut=0;ut<Y;ut++)c[F[ut]]=G}else J?this.options.visualElement.renderState.vars[L]=G:c[L]=G}this.options.layoutId&&(c.pointerEvents=g===this?Ph(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(mE),this.root.sharedNodes.clear()}}}function JD(n){n.updateLayout()}function tV(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:s}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?zn(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],A=hn(E);E.min=e[v].min,E.max=E.min+A}):j1(o,t.layoutBox,e)&&zn(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],A=hn(e[v]);E.max=E.min+A,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+A)});const c=_o();pu(c,e,t.layoutBox);const d=_o();u?pu(d,n.applyTransform(s,!0),t.measuredBox):pu(d,e,t.layoutBox);const p=!P1(c);let g=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:E,layout:A}=v;if(E&&A){const C=ve();gu(C,t.layoutBox,E.layoutBox);const L=ve();gu(L,e,A.layoutBox),k1(C,L)||(g=!0),v.options.layoutRoot&&(n.relativeTarget=L,n.relativeTargetOrigin=C,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function eV(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function nV(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function iV(n){n.clearSnapshot()}function mE(n){n.clearMeasurements()}function pE(n){n.isLayoutDirty=!1}function sV(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function gE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function rV(n){n.resolveTargetDelta()}function aV(n){n.calcProjection()}function oV(n){n.resetSkewAndRotation()}function lV(n){n.removeLeadSnapshot()}function yE(n,t,e){n.translate=ue(t.translate,0,e),n.scale=ue(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function vE(n,t,e,s){n.min=ue(t.min,e.min,s),n.max=ue(t.max,e.max,s)}function uV(n,t,e,s){vE(n.x,t.x,e.x,s),vE(n.y,t.y,e.y,s)}function cV(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const hV={duration:.45,ease:[.4,0,.1,1]},_E=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),TE=_E("applewebkit/")&&!_E("chrome/")?Math.round:Hn;function EE(n){n.min=TE(n.min),n.max=TE(n.max)}function fV(n){EE(n.x),EE(n.y)}function j1(n,t,e){return n==="position"||n==="preserve-aspect"&&!vD(fE(t),fE(e),.2)}function dV(n){return n!==n.root&&n.scroll?.wasRoot}const mV=U1({attachResizeListener:(n,t)=>Iu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hp={current:void 0},B1=U1({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!hp.current){const n=new mV({});n.mount(window),n.setOptions({layoutScroll:!0}),hp.current=n}return hp.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),pV={pan:{Feature:MD},drag:{Feature:ND,ProjectionNode:B1,MeasureLayout:N1}};function AE(n,t,e){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=s[o];u&&ae.postRender(()=>u(t,zu(t)))}class gV extends gr{mount(){const{current:t}=this.node;t&&(this.unmount=qx(t,(e,s)=>(AE(this.node,s,"Start"),o=>AE(this.node,o,"End"))))}unmount(){}}class yV extends gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uu(Iu(this.node.current,"focus",()=>this.onFocus()),Iu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function bE(n,t,e){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=s[o];u&&ae.postRender(()=>u(t,zu(t)))}class vV extends gr{mount(){const{current:t}=this.node;t&&(this.unmount=Kx(t,(e,s)=>(bE(this.node,s,"Start"),(o,{success:u})=>bE(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gp=new WeakMap,fp=new WeakMap,_V=n=>{const t=Gp.get(n.target);t&&t(n)},TV=n=>{n.forEach(_V)};function EV({root:n,...t}){const e=n||document;fp.has(e)||fp.set(e,{});const s=fp.get(e),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(TV,{root:n,...t})),s[o]}function AV(n,t,e){const s=EV(t);return Gp.set(n,e),s.observe(n),()=>{Gp.delete(n),s.unobserve(n)}}const bV={some:0,all:1};class SV extends gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:bV[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),A=g?v:E;A&&A(p)};return AV(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(wV(t,e))&&this.startObserver()}unmount(){}}function wV({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const RV={inView:{Feature:SV},tap:{Feature:vV},focus:{Feature:yV},hover:{Feature:gV}},IV={layout:{ProjectionNode:B1,MeasureLayout:N1}},CV={...fD,...RV,...pV,...IV},Sh=C2(CV,z2);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DV=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,s)=>s?s.toUpperCase():e.toLowerCase()),SE=n=>{const t=DV(n);return t.charAt(0).toUpperCase()+t.slice(1)},z1=(...n)=>n.filter((t,e,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===e).join(" ").trim(),VV=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=ft.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:c,...d},p)=>ft.createElement("svg",{ref:p,...NV,width:t,height:t,stroke:n,strokeWidth:s?Number(e)*24/Number(t):e,className:z1("lucide",o),...!u&&!VV(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,v])=>ft.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=(n,t)=>{const e=ft.forwardRef(({className:s,...o},u)=>ft.createElement(MV,{ref:u,iconNode:t,className:z1(`lucide-${xV(SE(n))}`,`lucide-${n}`,s),...o}));return e.displayName=SE(n),e};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],PV=ii("calendar-days",OV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],q1=ii("check",kV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],F1=ii("chevron-down",LV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],jV=ii("chevron-left",UV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zV=ii("chevron-right",BV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],FV=ii("copy",qV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],wE=ii("heart",HV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],KV=ii("image",GV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],RE=ii("map-pin",YV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],XV=ii("phone",QV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],WV=ii("x",$V),ZV=()=>{};var IE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},JV=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const o=n[e++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],c=n[e++],d=n[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=n[e++],c=n[e++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},ty={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,E=(u&3)<<4|d>>4;let A=(d&15)<<2|g>>6,C=g&63;p||(C=64,c||(A=64)),s.push(e[v],e[E],e[A],e[C])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(H1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):JV(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],d=o<n.length?e[n.charAt(o)]:0;++o;const g=o<n.length?e[n.charAt(o)]:64;++o;const E=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||E==null)throw new tN;const A=u<<2|d>>4;if(s.push(A),g!==64){const C=d<<4&240|g>>2;if(s.push(C),E!==64){const L=g<<6&192|E;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class tN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eN=function(n){const t=H1(n);return ty.encodeByteArray(t,!0)},Zh=function(n){return eN(n).replace(/\./g,"")},G1=function(n){try{return ty.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=()=>nN().__FIREBASE_DEFAULTS__,sN=()=>{if(typeof process>"u"||typeof IE>"u")return;const n=IE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},rN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&G1(n[1]);return t&&JSON.parse(t)},bf=()=>{try{return ZV()||iN()||sN()||rN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},K1=n=>bf()?.emulatorHosts?.[n],aN=n=>{const t=K1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},Y1=()=>bf()?.config,Q1=n=>bf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function X1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Zh(JSON.stringify(e)),Zh(JSON.stringify(c)),""].join(".")}const yu={};function lN(){const n={prod:[],emulator:[]};for(const t of Object.keys(yu))yu[t]?n.emulator.push(t):n.prod.push(t);return n}function uN(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let CE=!1;function $1(n,t){if(typeof window>"u"||typeof document>"u"||!zo(window.location.host)||yu[n]===t||yu[n]||CE)return;yu[n]=t;function e(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=lN().prod.length>0;function c(){const A=document.getElementById(s);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,C){A.setAttribute("width","24"),A.setAttribute("id",C),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{CE=!0,c()},A}function v(A,C){A.setAttribute("id",C),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=uN(s),C=e("text"),L=document.getElementById(C)||document.createElement("span"),Q=e("learnmore"),F=document.getElementById(Q)||document.createElement("a"),J=e("preprendIcon"),G=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Y=A.element;d(Y),v(F,Q);const ut=g();p(G,J),Y.append(G,L,F,ut),document.body.appendChild(Y)}u?(L.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function hN(){const n=bf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pN(){const n=an();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function gN(){return!hN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W1(){try{return typeof indexedDB=="object"}catch{return!1}}function yN(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="FirebaseError";class gs extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=vN,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qo.prototype.create)}}class qo{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?_N(u,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new gs(o,d,s)}}function _N(n,t){return n.replace(TN,(e,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const TN=/\{\$([^}]+)}/g;function EN(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function ua(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const o of e){if(!s.includes(o))return!1;const u=n[o],c=t[o];if(xE(u)&&xE(c)){if(!ua(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!e.includes(o))return!1;return!0}function xE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function AN(n,t){const e=new bN(n,t);return e.subscribe.bind(e)}class bN{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let o;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");SN(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:s},o.next===void 0&&(o.next=dp),o.error===void 0&&(o.error=dp),o.complete===void 0&&(o.complete=dp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SN(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function dp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(n){return n&&n._delegate?n._delegate:n}class cs{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new Kp;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(IN(t))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ia){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ia){return this.instances.has(t)}getOptions(t=ia){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(o)}return o}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const o of s)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RN(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ia){return this.component?this.component.multipleInstances?t:ia:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RN(n){return n===ia?void 0:n}function IN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new wN(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ot||(Ot={}));const xN={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},DN=Ot.INFO,VN={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},NN=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),o=VN[t];if(o)console[o](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sf{constructor(t){this.name=t,this._logLevel=DN,this._logHandler=NN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?xN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const MN=(n,t)=>t.some(e=>n instanceof e);let DE,VE;function ON(){return DE||(DE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PN(){return VE||(VE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z1=new WeakMap,Yp=new WeakMap,J1=new WeakMap,mp=new WeakMap,ey=new WeakMap;function kN(n){const t=new Promise((e,s)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{e(tr(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&Z1.set(e,n)}).catch(()=>{}),ey.set(t,n),t}function LN(n){if(Yp.has(n))return;const t=new Promise((e,s)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Yp.set(n,t)}let Qp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Yp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||J1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return tr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function UN(n){Qp=n(Qp)}function jN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(pp(this),t,...e);return J1.set(s,t.sort?t.sort():[t]),tr(s)}:PN().includes(n)?function(...t){return n.apply(pp(this),t),tr(Z1.get(this))}:function(...t){return tr(n.apply(pp(this),t))}}function BN(n){return typeof n=="function"?jN(n):(n instanceof IDBTransaction&&LN(n),MN(n,ON())?new Proxy(n,Qp):n)}function tr(n){if(n instanceof IDBRequest)return kN(n);if(mp.has(n))return mp.get(n);const t=BN(n);return t!==n&&(mp.set(n,t),ey.set(t,n)),t}const pp=n=>ey.get(n);function zN(n,t,{blocked:e,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),d=tr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(tr(c.result),p.oldVersion,p.newVersion,tr(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const qN=["get","getKey","getAll","getAllKeys","count"],FN=["put","add","delete","clear"],gp=new Map;function NE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(gp.get(t))return gp.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,o=FN.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(o||qN.includes(e)))return;const u=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&p.done]))[0]};return gp.set(t,u),u}UN(n=>({...n,get:(t,e,s)=>NE(t,e)||n.get(t,e,s),has:(t,e)=>!!NE(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(GN(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function GN(n){return n.getComponent()?.type==="VERSION"}const Xp="@firebase/app",ME="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Sf("@firebase/app"),KN="@firebase/app-compat",YN="@firebase/analytics-compat",QN="@firebase/analytics",XN="@firebase/app-check-compat",$N="@firebase/app-check",WN="@firebase/auth",ZN="@firebase/auth-compat",JN="@firebase/database",tM="@firebase/data-connect",eM="@firebase/database-compat",nM="@firebase/functions",iM="@firebase/functions-compat",sM="@firebase/installations",rM="@firebase/installations-compat",aM="@firebase/messaging",oM="@firebase/messaging-compat",lM="@firebase/performance",uM="@firebase/performance-compat",cM="@firebase/remote-config",hM="@firebase/remote-config-compat",fM="@firebase/storage",dM="@firebase/storage-compat",mM="@firebase/firestore",pM="@firebase/ai",gM="@firebase/firestore-compat",yM="firebase",vM="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="[DEFAULT]",_M={[Xp]:"fire-core",[KN]:"fire-core-compat",[QN]:"fire-analytics",[YN]:"fire-analytics-compat",[$N]:"fire-app-check",[XN]:"fire-app-check-compat",[WN]:"fire-auth",[ZN]:"fire-auth-compat",[JN]:"fire-rtdb",[tM]:"fire-data-connect",[eM]:"fire-rtdb-compat",[nM]:"fire-fn",[iM]:"fire-fn-compat",[sM]:"fire-iid",[rM]:"fire-iid-compat",[aM]:"fire-fcm",[oM]:"fire-fcm-compat",[lM]:"fire-perf",[uM]:"fire-perf-compat",[cM]:"fire-rc",[hM]:"fire-rc-compat",[fM]:"fire-gcs",[dM]:"fire-gcs-compat",[mM]:"fire-fst",[gM]:"fire-fst-compat",[pM]:"fire-vertex","fire-js":"fire-js",[yM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=new Map,TM=new Map,Wp=new Map;function OE(n,t){try{n.container.addComponent(t)}catch(e){hs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function lr(n){const t=n.name;if(Wp.has(t))return hs.debug(`There were multiple attempts to register component ${t}.`),!1;Wp.set(t,n);for(const e of Jh.values())OE(e,n);for(const e of TM.values())OE(e,n);return!0}function ny(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Zn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new qo("app","Firebase",EM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=vM;function tS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s={name:$p,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw er.create("bad-app-name",{appName:String(o)});if(e||(e=Y1()),!e)throw er.create("no-options");const u=Jh.get(o);if(u){if(ua(e,u.options)&&ua(s,u.config))return u;throw er.create("duplicate-app",{appName:o})}const c=new CN(o);for(const p of Wp.values())c.addComponent(p);const d=new AM(e,s,c);return Jh.set(o,d),d}function eS(n=$p){const t=Jh.get(n);if(!t&&n===$p&&Y1())return tS();if(!t)throw er.create("no-app",{appName:n});return t}function as(n,t,e){let s=_M[n]??n;e&&(s+=`-${e}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hs.warn(c.join(" "));return}lr(new cs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="firebase-heartbeat-database",SM=1,Cu="firebase-heartbeat-store";let yp=null;function nS(){return yp||(yp=zN(bM,SM,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Cu)}catch(e){console.warn(e)}}}}).catch(n=>{throw er.create("idb-open",{originalErrorMessage:n.message})})),yp}async function wM(n){try{const e=(await nS()).transaction(Cu),s=await e.objectStore(Cu).get(iS(n));return await e.done,s}catch(t){if(t instanceof gs)hs.warn(t.message);else{const e=er.create("idb-get",{originalErrorMessage:t?.message});hs.warn(e.message)}}}async function PE(n,t){try{const s=(await nS()).transaction(Cu,"readwrite");await s.objectStore(Cu).put(t,iS(n)),await s.done}catch(e){if(e instanceof gs)hs.warn(e.message);else{const s=er.create("idb-set",{originalErrorMessage:e?.message});hs.warn(s.message)}}}function iS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=1024,IM=30;class CM{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new DM(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>IM){const o=VM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){hs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kE(),{heartbeatsToSend:e,unsentEntries:s}=xM(this._heartbeatsCache.heartbeats),o=Zh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return hs.warn(t),""}}}function kE(){return new Date().toISOString().substring(0,10)}function xM(n,t=RM){const e=[];let s=n.slice();for(const o of n){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),LE(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),LE(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class DM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W1()?yN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await wM(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return PE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return PE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function LE(n){return Zh(JSON.stringify({version:2,heartbeats:n})).length}function VM(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(n){lr(new cs("platform-logger",t=>new HN(t),"PRIVATE")),lr(new cs("heartbeat",t=>new CM(t),"PRIVATE")),as(Xp,ME,n),as(Xp,ME,"esm2020"),as("fire-js","")}NM("");var UE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nr,sS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,w){function R(){}R.prototype=w.prototype,V.D=w.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(M,P,U){for(var x=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)x[Te-2]=arguments[Te];return w.prototype[P].apply(M,x)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,w,R){R||(R=0);var M=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)M[P]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(P=0;16>P;++P)M[P]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=V.g[0],R=V.g[1],P=V.g[2];var U=V.g[3],x=w+(U^R&(P^U))+M[0]+3614090360&4294967295;w=R+(x<<7&4294967295|x>>>25),x=U+(P^w&(R^P))+M[1]+3905402710&4294967295,U=w+(x<<12&4294967295|x>>>20),x=P+(R^U&(w^R))+M[2]+606105819&4294967295,P=U+(x<<17&4294967295|x>>>15),x=R+(w^P&(U^w))+M[3]+3250441966&4294967295,R=P+(x<<22&4294967295|x>>>10),x=w+(U^R&(P^U))+M[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=U+(P^w&(R^P))+M[5]+1200080426&4294967295,U=w+(x<<12&4294967295|x>>>20),x=P+(R^U&(w^R))+M[6]+2821735955&4294967295,P=U+(x<<17&4294967295|x>>>15),x=R+(w^P&(U^w))+M[7]+4249261313&4294967295,R=P+(x<<22&4294967295|x>>>10),x=w+(U^R&(P^U))+M[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=U+(P^w&(R^P))+M[9]+2336552879&4294967295,U=w+(x<<12&4294967295|x>>>20),x=P+(R^U&(w^R))+M[10]+4294925233&4294967295,P=U+(x<<17&4294967295|x>>>15),x=R+(w^P&(U^w))+M[11]+2304563134&4294967295,R=P+(x<<22&4294967295|x>>>10),x=w+(U^R&(P^U))+M[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=U+(P^w&(R^P))+M[13]+4254626195&4294967295,U=w+(x<<12&4294967295|x>>>20),x=P+(R^U&(w^R))+M[14]+2792965006&4294967295,P=U+(x<<17&4294967295|x>>>15),x=R+(w^P&(U^w))+M[15]+1236535329&4294967295,R=P+(x<<22&4294967295|x>>>10),x=w+(P^U&(R^P))+M[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=U+(R^P&(w^R))+M[6]+3225465664&4294967295,U=w+(x<<9&4294967295|x>>>23),x=P+(w^R&(U^w))+M[11]+643717713&4294967295,P=U+(x<<14&4294967295|x>>>18),x=R+(U^w&(P^U))+M[0]+3921069994&4294967295,R=P+(x<<20&4294967295|x>>>12),x=w+(P^U&(R^P))+M[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=U+(R^P&(w^R))+M[10]+38016083&4294967295,U=w+(x<<9&4294967295|x>>>23),x=P+(w^R&(U^w))+M[15]+3634488961&4294967295,P=U+(x<<14&4294967295|x>>>18),x=R+(U^w&(P^U))+M[4]+3889429448&4294967295,R=P+(x<<20&4294967295|x>>>12),x=w+(P^U&(R^P))+M[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=U+(R^P&(w^R))+M[14]+3275163606&4294967295,U=w+(x<<9&4294967295|x>>>23),x=P+(w^R&(U^w))+M[3]+4107603335&4294967295,P=U+(x<<14&4294967295|x>>>18),x=R+(U^w&(P^U))+M[8]+1163531501&4294967295,R=P+(x<<20&4294967295|x>>>12),x=w+(P^U&(R^P))+M[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=U+(R^P&(w^R))+M[2]+4243563512&4294967295,U=w+(x<<9&4294967295|x>>>23),x=P+(w^R&(U^w))+M[7]+1735328473&4294967295,P=U+(x<<14&4294967295|x>>>18),x=R+(U^w&(P^U))+M[12]+2368359562&4294967295,R=P+(x<<20&4294967295|x>>>12),x=w+(R^P^U)+M[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=U+(w^R^P)+M[8]+2272392833&4294967295,U=w+(x<<11&4294967295|x>>>21),x=P+(U^w^R)+M[11]+1839030562&4294967295,P=U+(x<<16&4294967295|x>>>16),x=R+(P^U^w)+M[14]+4259657740&4294967295,R=P+(x<<23&4294967295|x>>>9),x=w+(R^P^U)+M[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=U+(w^R^P)+M[4]+1272893353&4294967295,U=w+(x<<11&4294967295|x>>>21),x=P+(U^w^R)+M[7]+4139469664&4294967295,P=U+(x<<16&4294967295|x>>>16),x=R+(P^U^w)+M[10]+3200236656&4294967295,R=P+(x<<23&4294967295|x>>>9),x=w+(R^P^U)+M[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=U+(w^R^P)+M[0]+3936430074&4294967295,U=w+(x<<11&4294967295|x>>>21),x=P+(U^w^R)+M[3]+3572445317&4294967295,P=U+(x<<16&4294967295|x>>>16),x=R+(P^U^w)+M[6]+76029189&4294967295,R=P+(x<<23&4294967295|x>>>9),x=w+(R^P^U)+M[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=U+(w^R^P)+M[12]+3873151461&4294967295,U=w+(x<<11&4294967295|x>>>21),x=P+(U^w^R)+M[15]+530742520&4294967295,P=U+(x<<16&4294967295|x>>>16),x=R+(P^U^w)+M[2]+3299628645&4294967295,R=P+(x<<23&4294967295|x>>>9),x=w+(P^(R|~U))+M[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=U+(R^(w|~P))+M[7]+1126891415&4294967295,U=w+(x<<10&4294967295|x>>>22),x=P+(w^(U|~R))+M[14]+2878612391&4294967295,P=U+(x<<15&4294967295|x>>>17),x=R+(U^(P|~w))+M[5]+4237533241&4294967295,R=P+(x<<21&4294967295|x>>>11),x=w+(P^(R|~U))+M[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=U+(R^(w|~P))+M[3]+2399980690&4294967295,U=w+(x<<10&4294967295|x>>>22),x=P+(w^(U|~R))+M[10]+4293915773&4294967295,P=U+(x<<15&4294967295|x>>>17),x=R+(U^(P|~w))+M[1]+2240044497&4294967295,R=P+(x<<21&4294967295|x>>>11),x=w+(P^(R|~U))+M[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=U+(R^(w|~P))+M[15]+4264355552&4294967295,U=w+(x<<10&4294967295|x>>>22),x=P+(w^(U|~R))+M[6]+2734768916&4294967295,P=U+(x<<15&4294967295|x>>>17),x=R+(U^(P|~w))+M[13]+1309151649&4294967295,R=P+(x<<21&4294967295|x>>>11),x=w+(P^(R|~U))+M[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=U+(R^(w|~P))+M[11]+3174756917&4294967295,U=w+(x<<10&4294967295|x>>>22),x=P+(w^(U|~R))+M[2]+718787259&4294967295,P=U+(x<<15&4294967295|x>>>17),x=R+(U^(P|~w))+M[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(P+(x<<21&4294967295|x>>>11))&4294967295,V.g[2]=V.g[2]+P&4294967295,V.g[3]=V.g[3]+U&4294967295}s.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var R=w-this.blockSize,M=this.B,P=this.h,U=0;U<w;){if(P==0)for(;U<=R;)o(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<w;)if(M[P++]=V.charCodeAt(U++),P==this.blockSize){o(this,M),P=0;break}}else for(;U<w;)if(M[P++]=V[U++],P==this.blockSize){o(this,M),P=0;break}}this.h=P,this.o+=w},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var R=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=R&255,R/=256;for(this.u(V),V=Array(16),w=R=0;4>w;++w)for(var M=0;32>M;M+=8)V[R++]=this.g[w]>>>M&255;return V};function u(V,w){var R=d;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=w(V)}function c(V,w){this.h=w;for(var R=[],M=!0,P=V.length-1;0<=P;P--){var U=V[P]|0;M&&U==w||(R[P]=U,M=!1)}this.g=R}var d={};function p(V){return-128<=V&&128>V?u(V,function(w){return new c([w|0],0>w?-1:0)}):new c([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return E;if(0>V)return F(g(-V));for(var w=[],R=1,M=0;V>=R;M++)w[M]=V/R|0,R*=4294967296;return new c(w,0)}function v(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return F(v(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),M=E,P=0;P<V.length;P+=8){var U=Math.min(8,V.length-P),x=parseInt(V.substring(P,P+U),w);8>U?(U=g(Math.pow(w,U)),M=M.j(U).add(g(x))):(M=M.j(R),M=M.add(g(x)))}return M}var E=p(0),A=p(1),C=p(16777216);n=c.prototype,n.m=function(){if(Q(this))return-F(this).m();for(var V=0,w=1,R=0;R<this.g.length;R++){var M=this.i(R);V+=(0<=M?M:4294967296+M)*w,w*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(L(this))return"0";if(Q(this))return"-"+F(this).toString(V);for(var w=g(Math.pow(V,6)),R=this,M="";;){var P=ut(R,w).g;R=J(R,P.j(w));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=P,L(R))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function L(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function Q(V){return V.h==-1}n.l=function(V){return V=J(this,V),Q(V)?-1:L(V)?0:1};function F(V){for(var w=V.g.length,R=[],M=0;M<w;M++)R[M]=~V.g[M];return new c(R,~V.h).add(A)}n.abs=function(){return Q(this)?F(this):this},n.add=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],M=0,P=0;P<=w;P++){var U=M+(this.i(P)&65535)+(V.i(P)&65535),x=(U>>>16)+(this.i(P)>>>16)+(V.i(P)>>>16);M=x>>>16,U&=65535,x&=65535,R[P]=x<<16|U}return new c(R,R[R.length-1]&-2147483648?-1:0)};function J(V,w){return V.add(F(w))}n.j=function(V){if(L(this)||L(V))return E;if(Q(this))return Q(V)?F(this).j(F(V)):F(F(this).j(V));if(Q(V))return F(this.j(F(V)));if(0>this.l(C)&&0>V.l(C))return g(this.m()*V.m());for(var w=this.g.length+V.g.length,R=[],M=0;M<2*w;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<V.g.length;P++){var U=this.i(M)>>>16,x=this.i(M)&65535,Te=V.i(P)>>>16,ne=V.i(P)&65535;R[2*M+2*P]+=x*ne,G(R,2*M+2*P),R[2*M+2*P+1]+=U*ne,G(R,2*M+2*P+1),R[2*M+2*P+1]+=x*Te,G(R,2*M+2*P+1),R[2*M+2*P+2]+=U*Te,G(R,2*M+2*P+2)}for(M=0;M<w;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=w;M<2*w;M++)R[M]=0;return new c(R,0)};function G(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function Y(V,w){this.g=V,this.h=w}function ut(V,w){if(L(w))throw Error("division by zero");if(L(V))return new Y(E,E);if(Q(V))return w=ut(F(V),w),new Y(F(w.g),F(w.h));if(Q(w))return w=ut(V,F(w)),new Y(F(w.g),w.h);if(30<V.g.length){if(Q(V)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var R=A,M=w;0>=M.l(V);)R=st(R),M=st(M);var P=mt(R,1),U=mt(M,1);for(M=mt(M,2),R=mt(R,2);!L(M);){var x=U.add(M);0>=x.l(V)&&(P=P.add(R),U=x),M=mt(M,1),R=mt(R,1)}return w=J(V,P.j(w)),new Y(P,w)}for(P=E;0<=V.l(w);){for(R=Math.max(1,Math.floor(V.m()/w.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=g(R),x=U.j(w);Q(x)||0<x.l(V);)R-=M,U=g(R),x=U.j(w);L(U)&&(U=A),P=P.add(U),V=J(V,x)}return new Y(P,V)}n.A=function(V){return ut(this,V).h},n.and=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],M=0;M<w;M++)R[M]=this.i(M)&V.i(M);return new c(R,this.h&V.h)},n.or=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],M=0;M<w;M++)R[M]=this.i(M)|V.i(M);return new c(R,this.h|V.h)},n.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],M=0;M<w;M++)R[M]=this.i(M)^V.i(M);return new c(R,this.h^V.h)};function st(V){for(var w=V.g.length+1,R=[],M=0;M<w;M++)R[M]=V.i(M)<<1|V.i(M-1)>>>31;return new c(R,V.h)}function mt(V,w){var R=w>>5;w%=32;for(var M=V.g.length-R,P=[],U=0;U<M;U++)P[U]=0<w?V.i(U+R)>>>w|V.i(U+R+1)<<32-w:V.i(U+R);return new c(P,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,sS=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,nr=c}).apply(typeof UE<"u"?UE:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rS,lu,aS,Lh,Zp,oS,lS,uS;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=e(this);function o(h,y){if(y)t:{var _=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var j=h[S];if(!(j in _))break t;_=_[j]}h=h[h.length-1],S=_[h],y=y(S),y!=S&&y!=null&&t(_,h,{configurable:!0,writable:!0,value:y})}}function u(h,y){h instanceof String&&(h+="");var _=0,S=!1,j={next:function(){if(!S&&_<h.length){var K=_++;return{value:y(K,h[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(h){return h||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function E(h,y,_){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),h.apply(y,j)}}return function(){return h.apply(y,arguments)}}function A(h,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,A.apply(null,arguments)}function C(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function L(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(S,j,K){for(var at=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)at[Lt-2]=arguments[Lt];return y.prototype[j].apply(S,at)}}function Q(h){const y=h.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=h[S];return _}return[]}function F(h,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const j=h.length||0,K=S.length||0;h.length=j+K;for(let at=0;at<K;at++)h[j+at]=S[at]}else h.push(S)}}class J{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(h){return/^[\s\xa0]*$/.test(h)}function Y(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function ut(h){return ut[" "](h),h}ut[" "]=function(){};var st=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function mt(h,y,_){for(const S in h)y.call(_,h[S],S,h)}function V(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function w(h){const y={};for(const _ in h)y[_]=h[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,y){let _,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(_ in S)h[_]=S[_];for(let K=0;K<R.length;K++)_=R[K],Object.prototype.hasOwnProperty.call(S,_)&&(h[_]=S[_])}}function P(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function U(h){d.setTimeout(()=>{throw h},0)}function x(){var h=Ct;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Te{constructor(){this.h=this.g=null}add(y,_){const S=ne.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ne=new J(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ct=!1,Ct=new Te,D=()=>{const h=d.Promise.resolve(void 0);it=()=>{h.then(nt)}};var nt=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(_){U(_)}var y=ne;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ct=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var yt=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h})();function Dt(h,y){if(rt.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(st){t:{try{ut(y.nodeName);var j=!0;break t}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:St[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Dt.aa.h.call(this)}}L(Dt,rt);var St={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),te=0;function si(h,y,_,S,j){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=j,this.key=++te,this.da=this.fa=!1}function vs(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ni(h){this.src=h,this.g={},this.h=0}Ni.prototype.add=function(h,y,_,S,j){var K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);var at=vr(h,y,S,j);return-1<at?(y=h[at],_||(y.fa=!1)):(y=new si(y,this.src,K,!!S,j),y.fa=_,h.push(y)),y};function yr(h,y){var _=y.type;if(_ in h.g){var S=h.g[_],j=Array.prototype.indexOf.call(S,y,void 0),K;(K=0<=j)&&Array.prototype.splice.call(S,j,1),K&&(vs(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function vr(h,y,_,S){for(var j=0;j<h.length;++j){var K=h[j];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==S)return j}return-1}var _r="closure_lm_"+(1e6*Math.random()|0),Xo={};function Wu(h,y,_,S,j){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Wu(h,y[K],_,S,j);return null}return _=Zu(_),h&&h[Pe]?h.K(y,_,g(S)?!!S.capture:!1,j):In(h,y,_,!1,S,j)}function In(h,y,_,S,j,K){if(!y)throw Error("Invalid event type");var at=g(j)?!!j.capture:!!j,Lt=_a(h);if(Lt||(h[_r]=Lt=new Ni(h)),_=Lt.add(y,_,S,at,K),_.proxy)return _;if(S=Kf(),_.proxy=S,S.src=h,S.listener=_,h.addEventListener)yt||(j=at),j===void 0&&(j=!1),h.addEventListener(y.toString(),S,j);else if(h.attachEvent)h.attachEvent(Tr(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Kf(){function h(_){return y.call(h.src,h.listener,_)}const y=Yf;return h}function $o(h,y,_,S,j){if(Array.isArray(y))for(var K=0;K<y.length;K++)$o(h,y[K],_,S,j);else S=g(S)?!!S.capture:!!S,_=Zu(_),h&&h[Pe]?(h=h.i,y=String(y).toString(),y in h.g&&(K=h.g[y],_=vr(K,_,S,j),-1<_&&(vs(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete h.g[y],h.h--)))):h&&(h=_a(h))&&(y=h.g[y.toString()],h=-1,y&&(h=vr(y,_,S,j)),(_=-1<h?y[h]:null)&&va(_))}function va(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Pe])yr(y.i,h);else{var _=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(_,S,h.capture):y.detachEvent?y.detachEvent(Tr(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=_a(y))?(yr(_,h),_.h==0&&(_.src=null,y[_r]=null)):vs(h)}}}function Tr(h){return h in Xo?Xo[h]:Xo[h]="on"+h}function Yf(h,y){if(h.da)h=!0;else{y=new Dt(y,this);var _=h.listener,S=h.ha||h.src;h.fa&&va(h),h=_.call(S,y)}return h}function _a(h){return h=h[_r],h instanceof Ni?h:null}var Wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zu(h){return typeof h=="function"?h:(h[Wo]||(h[Wo]=function(y){return h.handleEvent(y)}),h[Wo])}function he(){lt.call(this),this.i=new Ni(this),this.M=this,this.F=null}L(he,lt),he.prototype[Pe]=!0,he.prototype.removeEventListener=function(h,y,_,S){$o(this,h,y,_,S)};function Gt(h,y){var _,S=h.F;if(S)for(_=[];S;S=S.F)_.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new rt(y,h);else if(y instanceof rt)y.target=y.target||h;else{var j=y;y=new rt(S,h),M(y,j)}if(j=!0,_)for(var K=_.length-1;0<=K;K--){var at=y.g=_[K];j=vn(at,S,!0,y)&&j}if(at=y.g=h,j=vn(at,S,!0,y)&&j,j=vn(at,S,!1,y)&&j,_)for(K=0;K<_.length;K++)at=y.g=_[K],j=vn(at,S,!1,y)&&j}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],S=0;S<_.length;S++)vs(_[S]);delete h.g[y],h.h--}}this.F=null},he.prototype.K=function(h,y,_,S){return this.i.add(String(h),y,!1,_,S)},he.prototype.L=function(h,y,_,S){return this.i.add(String(h),y,!0,_,S)};function vn(h,y,_,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,K=0;K<y.length;++K){var at=y[K];if(at&&!at.da&&at.capture==_){var Lt=at.listener,De=at.ha||at.src;at.fa&&yr(h.i,at),j=Lt.call(De,S)!==!1&&j}}return j&&!S.defaultPrevented}function Ze(h,y,_){if(typeof h=="function")_&&(h=A(h,_));else if(h&&typeof h.handleEvent=="function")h=A(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function Ju(h){h.g=Ze(()=>{h.g=null,h.i&&(h.i=!1,Ju(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Qf extends lt{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ju(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(h){lt.call(this),this.h=h,this.g={}}L(Er,lt);var Ar=[];function br(h){mt(h.g,function(y,_){this.g.hasOwnProperty(_)&&va(y)},h),h.g={}}Er.prototype.N=function(){Er.aa.N.call(this),br(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gn=d.JSON.stringify,Ta=d.JSON.parse,Sr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Zo(){}Zo.prototype.h=null;function Jo(h){return h.h||(h.h=h.i())}function tl(){}var Mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Oi(){rt.call(this,"d")}L(Oi,rt);function el(){rt.call(this,"c")}L(el,rt);var ri={},nl=null;function _s(){return nl=nl||new he}ri.La="serverreachability";function Ea(h){rt.call(this,ri.La,h)}L(Ea,rt);function Ts(h){const y=_s();Gt(y,new Ea(y))}ri.STAT_EVENT="statevent";function tc(h,y){rt.call(this,ri.STAT_EVENT,h),this.stat=y}L(tc,rt);function se(h){const y=_s();Gt(y,new tc(y,h))}ri.Ma="timingevent";function xe(h,y){rt.call(this,ri.Ma,h),this.size=y}L(xe,rt);function Ee(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function il(h,y,_,S,j,K){h.info(function(){if(h.g)if(K)for(var at="",Lt=K.split("&"),De=0;De<Lt.length;De++){var Ut=Lt[De].split("=");if(1<Ut.length){var Le=Ut[0];Ut=Ut[1];var Ve=Le.split("_");at=2<=Ve.length&&Ve[1]=="type"?at+(Le+"="+Ut+"&"):at+(Le+"=redacted&")}}else at=null;else at=K;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+y+`
`+_+`
`+at})}function Xf(h,y,_,S,j,K,at){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+y+`
`+_+`
`+K+" "+at})}function Es(h,y,_,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+wr(h,_)+(S?" "+S:"")})}function ec(h,y){h.info(function(){return"TIMEOUT: "+y})}Cn.prototype.info=function(){};function wr(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var S=_[h];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var at=1;at<j.length;at++)j[at]=""}}}}return Gn(_)}catch{return y}}var As={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ai;function oi(){}L(oi,Zo),oi.prototype.g=function(){return new XMLHttpRequest},oi.prototype.i=function(){return{}},ai=new oi;function on(h,y,_,S){this.j=h,this.i=y,this.l=_,this.R=S||1,this.U=new Er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var sl={},Aa={};function Kn(h,y,_){h.L=1,h.v=Dr(_n(y)),h.m=_,h.P=!0,ki(h,null)}function ki(h,y){h.F=Date.now(),Rr(h),h.A=_n(h.v);var _=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),cl(_.i,"t",S),h.C=0,_=h.j.J,h.h=new pe,h.g=yc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new Qf(A(h.Y,h,h.g),h.O)),y=h.U,_=h.g,S=h.ca;var j="readystatechange";Array.isArray(j)||(j&&(Ar[0]=j.toString()),j=Ar);for(var K=0;K<j.length;K++){var at=Wu(_,j[K],S||y.handleEvent,!1,y.h||y);if(!at)break;y.g[at.key]=at}y=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Ts(),il(h.i,h.u,h.A,h.l,h.R,h.m)}on.prototype.ca=function(h){h=h.target;const y=this.M;y&&Nn(h)==3?y.j():this.Y(h)},on.prototype.Y=function(h){try{if(h==this.g)t:{const Ve=Nn(this.g);var y=this.g.Ba();const Hi=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||uc(this.g)))){this.J||Ve!=4||y==7||(y==8||0>=Hi?Ts(3):Ts(2)),bs(this);var _=this.g.Z();this.X=_;e:if(nc(this)){var S=uc(this.g);h="";var j=S.length,K=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fe(this),li(this);var at="";break e}this.h.i=new d.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,h+=this.h.i.decode(S[y],{stream:!(K&&y==j-1)});S.length=0,this.h.g+=h,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=_==200,Xf(this.i,this.u,this.A,this.l,this.R,Ve,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,De=this.g;if((Lt=De.g?De.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Lt)){var Ut=Lt;break e}}Ut=null}if(_=Ut)Es(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ir(this,_);else{this.o=!1,this.s=3,se(12),Fe(this),li(this);break t}}if(this.P){_=!0;let He;for(;!this.J&&this.C<at.length;)if(He=ic(this,at),He==Aa){Ve==4&&(this.s=4,se(14),_=!1),Es(this.i,this.l,null,"[Incomplete Response]");break}else if(He==sl){this.s=4,se(15),Es(this.i,this.l,at,"[Invalid Chunk]"),_=!1;break}else Es(this.i,this.l,He,null),Ir(this,He);if(nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||at.length!=0||this.h.h||(this.s=1,se(16),_=!1),this.o=this.o&&_,!_)Es(this.i,this.l,at,"[Invalid Chunked Response]"),Fe(this),li(this);else if(0<at.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Ur(Le),Le.M=!0,se(11))}}else Es(this.i,this.l,at,null),Ir(this,at);Ve==4&&Fe(this),this.o&&!this.J&&(Ve==4?mc(this.j,this):(this.o=!1,Rr(this)))}else td(this.g),_==400&&0<at.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),Fe(this),li(this)}}}catch{}finally{}};function nc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ic(h,y){var _=h.C,S=y.indexOf(`
`,_);return S==-1?Aa:(_=Number(y.substring(_,S)),isNaN(_)?sl:(S+=1,S+_>y.length?Aa:(y=y.slice(S,S+_),h.C=S+_,y)))}on.prototype.cancel=function(){this.J=!0,Fe(this)};function Rr(h){h.S=Date.now()+h.I,sc(h,h.I)}function sc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ee(A(h.ba,h),y)}function bs(h){h.B&&(d.clearTimeout(h.B),h.B=null)}on.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ec(this.i,this.A),this.L!=2&&(Ts(),se(17)),Fe(this),this.s=2,li(this)):sc(this,this.S-h)};function li(h){h.j.G==0||h.J||mc(h.j,h)}function Fe(h){bs(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,br(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Ir(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||rl(_.h,h))){if(!h.K&&rl(_.h,h)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Oa(_),Na(_);else break t;pl(_),se(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ee(A(_.Za,_),6e3));if(1>=Sa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Fi(_,11)}else if((h.K||_.g==h)&&Oa(_),!G(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let Ut=j[y];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Le=Ut[3];Le!=null&&(_.la=Le,_.j.info("VER="+_.la));const Ve=Ut[4];Ve!=null&&(_.Aa=Ve,_.j.info("SVER="+_.Aa));const Hi=Ut[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(S=1.5*Hi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const He=h.g;if(He){const pi=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var K=S.h;K.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(wa(K,K.h),K.h=null))}if(S.D){const yl=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;yl&&(S.ya=yl,Qt(S.I,S.D,yl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var at=h;if(S.qa=gc(S,S.J?S.ia:null,S.W),at.K){ln(S.h,at);var Lt=at,De=S.L;De&&(Lt.I=De),Lt.B&&(bs(Lt),Rr(Lt)),S.g=at}else fc(S);0<_.i.length&&Ma(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Fi(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Fi(_,7):dl(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}Ts(4)}catch{}}var rc=class{constructor(h,y){this.g=h,this.map=y}};function Li(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ba(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Sa(h){return h.h?1:h.g?h.g.size:0}function rl(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function wa(h,y){h.g?h.g.add(y):h.h=y}function ln(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Li.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function al(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return Q(h.i)}function $f(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],_=h.length,S=0;S<_;S++)y.push(h[S]);return y}y=[],_=0;for(S in h)y[_++]=h[S];return y}function Ra(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const S in h)y[_++]=S;return y}}}function ol(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=Ra(h),S=$f(h),j=S.length,K=0;K<j;K++)y.call(void 0,S[K],_&&_[K],h)}var Cr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wf(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var S=h[_].indexOf("="),j=null;if(0<=S){var K=h[_].substring(0,S);j=h[_].substring(S+1)}else K=h[_];y(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ae(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ae){this.h=h.h,xr(this,h.j),this.o=h.o,this.g=h.g,Ss(this,h.s),this.l=h.l;var y=h.i,_=new ji;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ui(this,_),this.m=h.m}else h&&(y=String(h).match(Cr))?(this.h=!1,xr(this,y[1]||"",!0),this.o=xn(y[2]||""),this.g=xn(y[3]||"",!0),Ss(this,y[4]),this.l=xn(y[5]||"",!0),Ui(this,y[6]||"",!0),this.m=xn(y[7]||"")):(this.h=!1,this.i=new ji(null,this.h))}Ae.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Vr(y,ll,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Vr(y,ll,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Vr(_,_.charAt(0)=="/"?Zf:ul,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Vr(_,Ia)),h.join("")};function _n(h){return new Ae(h)}function xr(h,y,_){h.j=_?xn(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ss(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Ui(h,y,_){y instanceof ji?(h.i=y,oc(h.i,h.h)):(_||(y=Vr(y,Jf)),h.i=new ji(y,h.h))}function Qt(h,y,_){h.i.set(y,_)}function Dr(h){return Qt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function xn(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Vr(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,ac),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ac(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ll=/[#\/\?@]/g,ul=/[#\?:]/g,Zf=/[#\?]/g,Jf=/[#\?@]/g,Ia=/#/g;function ji(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Wf(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=ji.prototype,n.add=function(h,y){Dn(this),this.i=null,h=ui(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function Bi(h,y){Dn(h),y=ui(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function zi(h,y){return Dn(h),y=ui(h,y),h.g.has(y)}n.forEach=function(h,y){Dn(this),this.g.forEach(function(_,S){_.forEach(function(j){h.call(y,j,S,this)},this)},this)},n.na=function(){Dn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const j=h[S];for(let K=0;K<j.length;K++)_.push(y[S])}return _},n.V=function(h){Dn(this);let y=[];if(typeof h=="string")zi(this,h)&&(y=y.concat(this.g.get(ui(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},n.set=function(h,y){return Dn(this),this.i=null,h=ui(this,h),zi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function cl(h,y,_){Bi(h,y),0<_.length&&(h.i=null,h.g.set(ui(h,y),Q(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const K=encodeURIComponent(String(S)),at=this.V(S);for(S=0;S<at.length;S++){var j=K;at[S]!==""&&(j+="="+encodeURIComponent(String(at[S]))),h.push(j)}}return this.i=h.join("&")};function ui(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function oc(h,y){y&&!h.j&&(Dn(h),h.i=null,h.g.forEach(function(_,S){var j=S.toLowerCase();S!=j&&(Bi(this,S),cl(this,j,_))},h)),h.j=y}function Nr(h,y){const _=new Cn;if(d.Image){const S=new Image;S.onload=C(Vn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=C(Vn,_,"TestLoadImage: error",!1,y,S),S.onabort=C(Vn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=C(Vn,_,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Yn(h,y){const _=new Cn,S=new AbortController,j=setTimeout(()=>{S.abort(),Vn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(K=>{clearTimeout(j),K.ok?Vn(_,"TestPingServer: ok",!0,y):Vn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Vn(_,"TestPingServer: error",!1,y)})}function Vn(h,y,_,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(_)}catch{}}function Mr(){this.g=new Sr}function ci(h,y,_){const S=_||"";try{ol(h,function(j,K){let at=j;g(j)&&(at=Gn(j)),y.push(S+K+"="+encodeURIComponent(at))})}catch(j){throw y.push(S+"type="+encodeURIComponent("_badmap")),j}}function ws(h){this.l=h.Ub||null,this.j=h.eb||!1}L(ws,Zo),ws.prototype.g=function(){return new qi(this.l,this.j)},ws.prototype.i=(function(h){return function(){return h}})({});function qi(h,y){he.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(qi,he),n=qi.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,fi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function hl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?hi(this):fi(this),this.readyState==3&&hl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,hi(this))},n.Qa=function(h){this.g&&(this.response=h,hi(this))},n.ga=function(){this.g&&hi(this)};function hi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,fi(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function fi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function fl(h){let y="";return mt(h,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function ke(h,y,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=fl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Qt(h,y,_))}function Ft(h){he.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ft,he);var Ca=/^https?$/i,Or=["POST","PUT"];n=Ft.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ai.g(),this.v=this.o?Jo(this.o):Jo(ai),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(K){lc(this,K);return}if(h=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)_.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),j=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Or,y,void 0))||S||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,at]of _)this.g.setRequestHeader(K,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pr(this),this.u=!0,this.g.send(h),this.u=!1}catch(K){lc(this,K)}};function lc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,xa(h),di(h)}function xa(h){h.A||(h.A=!0,Gt(h,"complete"),Gt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Gt(this,"complete"),Gt(this,"abort"),di(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),Ft.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Da(this):this.bb())},n.bb=function(){Da(this)};function Da(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Nn(h)!=4||h.Z()!=2)){if(h.u&&Nn(h)==4)Ze(h.Ea,0,h);else if(Gt(h,"readystatechange"),Nn(h)==4){h.h=!1;try{const at=h.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var S;if(S=at===0){var j=String(h.D).match(Cr)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),S=!Ca.test(j?j.toLowerCase():"")}_=S}if(_)Gt(h,"complete"),Gt(h,"success");else{h.m=6;try{var K=2<Nn(h)?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.Z()+"]",xa(h)}}finally{di(h)}}}}function di(h,y){if(h.g){Pr(h);const _=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Gt(h,"ready");try{_.onreadystatechange=S}catch{}}}function Pr(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Nn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Ta(y)}};function uc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function td(h){const y={};h=(h.g&&2<=Nn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(G(h[S]))continue;var _=P(h[S]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[j]||[];y[j]=K,K.push(_)}V(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kr(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function Va(h){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kr("baseRetryDelayMs",5e3,h),this.cb=kr("retryDelaySeedMs",1e4,h),this.Wa=kr("forwardChannelMaxRetries",2,h),this.wa=kr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Li(h&&h.concurrentRequestLimit),this.Da=new Mr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Va.prototype,n.la=8,n.G=1,n.connect=function(h,y,_,S){se(0),this.W=h,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=gc(this,null,this.W),Ma(this)};function dl(h){if(cc(h),h.G==3){var y=h.U++,_=_n(h.I);if(Qt(_,"SID",h.K),Qt(_,"RID",y),Qt(_,"TYPE","terminate"),Lr(h,_),y=new on(h,h.j,y),y.L=2,y.v=Dr(_n(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=yc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Rr(y)}pc(h)}function Na(h){h.g&&(Ur(h),h.g.cancel(),h.g=null)}function cc(h){Na(h),h.u&&(d.clearTimeout(h.u),h.u=null),Oa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ma(h){if(!ba(h.h)&&!h.s){h.s=!0;var y=h.Ga;it||D(),ct||(it(),ct=!0),Ct.add(y,h),h.B=0}}function ed(h,y){return Sa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ee(A(h.Ga,h,y),gl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const j=new on(this,this.j,h);let K=this.o;if(this.S&&(K?(K=w(K),M(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=hc(this,j,y),_=_n(this.I),Qt(_,"RID",h),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),Lr(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(fl(K)))+"&"+y:this.m&&ke(_,this.m,K)),wa(this.h,j),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",y),Qt(_,"SID","null"),j.T=!0,Kn(j,_,null)):Kn(j,_,y),this.G=2}}else this.G==3&&(h?ml(this,h):this.i.length==0||ba(this.h)||ml(this))};function ml(h,y){var _;y?_=y.l:_=h.U++;const S=_n(h.I);Qt(S,"SID",h.K),Qt(S,"RID",_),Qt(S,"AID",h.T),Lr(h,S),h.m&&h.o&&ke(S,h.m,h.o),_=new on(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=hc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),wa(h.h,_),Kn(_,S,y)}function Lr(h,y){h.H&&mt(h.H,function(_,S){Qt(y,S,_)}),h.l&&ol({},function(_,S){Qt(y,S,_)})}function hc(h,y,_){_=Math.min(h.i.length,_);var S=h.l?A(h.l.Na,h.l,h):null;t:{var j=h.i;let K=-1;for(;;){const at=["count="+_];K==-1?0<_?(K=j[0].g,at.push("ofs="+K)):K=0:at.push("ofs="+K);let Lt=!0;for(let De=0;De<_;De++){let Ut=j[De].g;const Le=j[De].map;if(Ut-=K,0>Ut)K=Math.max(0,j[De].g-100),Lt=!1;else try{ci(Le,at,"req"+Ut+"_")}catch{S&&S(Le)}}if(Lt){S=at.join("&");break t}}}return h=h.i.splice(0,_),y.D=h,S}function fc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;it||D(),ct||(it(),ct=!0),Ct.add(y,h),h.v=0}}function pl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ee(A(h.Fa,h),gl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,dc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ee(A(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Na(this),dc(this))};function Ur(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function dc(h){h.g=new on(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=_n(h.qa);Qt(y,"RID","rpc"),Qt(y,"SID",h.K),Qt(y,"AID",h.T),Qt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Qt(y,"TO",h.ja),Qt(y,"TYPE","xmlhttp"),Lr(h,y),h.m&&h.o&&ke(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Dr(_n(y)),_.m=null,_.P=!0,ki(_,h)}n.Za=function(){this.C!=null&&(this.C=null,Na(this),pl(this),se(19))};function Oa(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function mc(h,y){var _=null;if(h.g==y){Oa(h),Ur(h),h.g=null;var S=2}else if(rl(h.h,y))_=y.D,ln(h.h,y),S=1;else return;if(h.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=h.B;S=_s(),Gt(S,new xe(S,_)),Ma(h)}else fc(h);else if(j=y.s,j==3||j==0&&0<y.X||!(S==1&&ed(h,y)||S==2&&pl(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),j){case 1:Fi(h,5);break;case 4:Fi(h,10);break;case 3:Fi(h,6);break;default:Fi(h,2)}}}function gl(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function Fi(h,y){if(h.j.info("Error code "+y),y==2){var _=A(h.fb,h),S=h.Xa;const j=!S;S=new Ae(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xr(S,"https"),Dr(S),j?Nr(S.toString(),_):Yn(S.toString(),_)}else se(2);h.G=0,h.l&&h.l.sa(y),pc(h),cc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function pc(h){if(h.G=0,h.ka=[],h.l){const y=al(h.h);(y.length!=0||h.i.length!=0)&&(F(h.ka,y),F(h.ka,h.i),h.h.i.length=0,Q(h.i),h.i.length=0),h.l.ra()}}function gc(h,y,_){var S=_ instanceof Ae?_n(_):new Ae(_);if(S.g!="")y&&(S.g=y+"."+S.g),Ss(S,S.s);else{var j=d.location;S=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var K=new Ae(null);S&&xr(K,S),y&&(K.g=y),j&&Ss(K,j),_&&(K.l=_),S=K}return _=h.D,y=h.ya,_&&y&&Qt(S,_,y),Qt(S,"VER",h.la),Lr(h,S),S}function yc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ft(new ws({eb:_})):new Ft(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vc(){}n=vc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Pa(){}Pa.prototype.g=function(h,y){return new un(h,y)};function un(h,y){he.call(this),this.g=new Va(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!G(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!G(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new mi(this)}L(un,he),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){dl(this.g)},un.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Gn(h),h=_);y.i.push(new rc(y.Ya++,h)),y.G==3&&Ma(y)},un.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,un.aa.N.call(this)};function _c(h){Oi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const _ in y){h=_;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}L(_c,Oi);function Tc(){el.call(this),this.status=1}L(Tc,el);function mi(h){this.g=h}L(mi,vc),mi.prototype.ua=function(){Gt(this.g,"a")},mi.prototype.ta=function(h){Gt(this.g,new _c(h))},mi.prototype.sa=function(h){Gt(this.g,new Tc)},mi.prototype.ra=function(){Gt(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,uS=function(){return new Pa},lS=function(){return _s()},oS=ri,Zp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,Lh=As,Pi.COMPLETE="complete",aS=Pi,tl.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",he.prototype.listen=he.prototype.K,lu=tl,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,rS=Ft}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});const jE="@firebase/firestore",BE="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new Sf("@firebase/firestore");function co(){return ca.logLevel}function ht(n,...t){if(ca.logLevel<=Ot.DEBUG){const e=t.map(iy);ca.debug(`Firestore (${Ho}): ${n}`,...e)}}function fs(n,...t){if(ca.logLevel<=Ot.ERROR){const e=t.map(iy);ca.error(`Firestore (${Ho}): ${n}`,...e)}}function Vo(n,...t){if(ca.logLevel<=Ot.WARN){const e=t.map(iy);ca.warn(`Firestore (${Ho}): ${n}`,...e)}}function iy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,cS(n,s,e)}function cS(n,t,e){let s=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw fs(s),new Error(s)}function Ht(n,t,e,s){let o="Unexpected state";typeof e=="string"?o=e:s=e,n||cS(t,o,s)}function Rt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends gs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class MM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(nn.UNAUTHENTICATED)))}shutdown(){}}class OM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class PM{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ht(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,e(p)):Promise.resolve();let u=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ir,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ir)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new hS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class kM{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LM{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new kM(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UM{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Ht(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Ht(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new zE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=jM(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<e&&(s+=t.charAt(o[u]%62))}return s}}function Pt(n,t){return n<t?-1:n>t?1:0}function Jp(n,t){const e=Math.min(n.length,t.length);for(let s=0;s<e;s++){const o=n.charAt(s),u=t.charAt(s);if(o!==u)return vp(o)===vp(u)?Pt(o,u):vp(o)?1:-1}return Pt(n.length,t.length)}const BM=55296,zM=57343;function vp(n){const t=n.charCodeAt(0);return t>=BM&&t<=zM}function No(n,t,e){return n.length===t.length&&n.every(((s,o)=>e(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="__name__";class Ei{constructor(t,e,s){e===void 0?e=0:e>t.length&&Tt(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Tt(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let o=0;o<s;o++){const u=Ei.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Pt(t.length,e.length)}static compareSegments(t,e){const s=Ei.isNumericId(t),o=Ei.isNumericId(e);return s&&!o?-1:!s&&o?1:s&&o?Ei.extractNumericId(t).compare(Ei.extractNumericId(e)):Jp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return nr.fromString(t.substring(4,t.length-2))}}class Jt extends Ei{construct(t,e,s){return new Jt(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new ot(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((o=>o.length>0)))}return new Jt(e)}static emptyPath(){return new Jt([])}}const qM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Ei{construct(t,e,s){return new $e(t,e,s)}static isValidIdentifier(t){return qM.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qE}static keyField(){return new $e([qE])}static fromServerFormat(t){const e=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ot(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new ot(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ot(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(u(),o++)}if(u(),c)throw new ot(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(e)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(Jt.fromString(t))}static fromName(t){return new gt(Jt.fromString(t).popFirst(5))}static empty(){return new gt(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Jt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(n,t,e){if(!e)throw new ot(W.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function FM(n,t,e,s){if(t===!0&&s===!0)throw new ot(W.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function FE(n){if(!gt.isDocumentKey(n))throw new ot(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function HE(n){if(gt.isDocumentKey(n))throw new ot(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function wf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Tt(12329,{type:typeof n})}function tf(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ot(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=wf(n);throw new ot(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function HM(n,t){if(t<=0)throw new ot(W.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n,t){const e={typeString:n};return t&&(e.value=t),e}function Fu(n,t){if(!dS(n))throw new ot(W.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in n)){e=`JSON missing required field: '${s}'`;break}const c=n[s];if(o&&typeof c!==o){e=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${s}' field to equal '${u.value}'`;break}}if(e)throw new ot(W.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=-62135596800,KE=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*KE);return new ie(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ot(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ot(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<GE)throw new ot(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KE}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fu(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-GE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ce("string",ie._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new ie(0,0))}static max(){return new wt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=-1;function GM(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=wt.fromTimestamp(s===1e9?new ie(e+1,0):new ie(e,s));return new ur(o,gt.empty(),t)}function KM(n){return new ur(n.readTime,n.key,xu)}class ur{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new ur(wt.min(),gt.empty(),xu)}static max(){return new ur(wt.max(),gt.empty(),xu)}}function YM(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=gt.comparator(n.documentKey,t.documentKey),e!==0?e:Pt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(n){if(n.code!==W.FAILED_PRECONDITION||n.message!==QM)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new et(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(s,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof et?e:et.resolve(e)}catch(e){return et.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):et.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):et.reject(e)}static resolve(t){return new et(((e,s)=>{e(t)}))}static reject(t){return new et(((e,s)=>{s(t)}))}static waitFor(t){return new et(((e,s)=>{let o=0,u=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&e()}),(p=>s(p)))})),c=!0,u===o&&e()}))}static or(t){let e=et.resolve(!1);for(const s of t)e=e.next((o=>o?et.resolve(o):s()));return e}static forEach(t,e){const s=[];return t.forEach(((o,u)=>{s.push(e.call(this,o,u))})),this.waitFor(s)}static mapArray(t,e){return new et(((s,o)=>{const u=t.length,c=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((v=>{c[g]=v,++d,d===u&&s(c)}),(v=>o(v)))}}))}static doWhile(t,e){return new et(((s,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):s()};u()}))}}function $M(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ko(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Rf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=-1;function If(n){return n==null}function ef(n){return n===0&&1/n==-1/0}function WM(n){return typeof n=="number"&&Number.isInteger(n)&&!ef(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="";function ZM(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=YE(t)),t=JM(n.get(e),t);return YE(t)}function JM(n,t){let e=t;const s=n.length;for(let o=0;o<s;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case mS:e+="";break;default:e+=u}}return e}function YE(n){return n+mS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function da(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function pS(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,e){this.comparator=t,this.root=e||Xe.EMPTY}insert(t,e){return new ce(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rh(this.root,t,this.comparator,!0)}}class Rh{constructor(t,e,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?s(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,e,s,o,u){this.key=t,this.value=e,this.color=s??Xe.RED,this.left=o??Xe.EMPTY,this.right=u??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,o,u){return new Xe(t??this.key,e??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,s),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Xe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,e,s,o,u){return this}insert(t,e,s){return new Xe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new XE(this.data.getIterator())}getIteratorFrom(t){return new XE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Oe(this.comparator);return e.data=t,e}}class XE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new Jn([])}unionWith(t){let e=new Oe($e.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new Jn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return No(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new gS("Invalid base64 string: "+u):u}})(t);return new We(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new We(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const tO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(n){if(Ht(!!n,39018),typeof n=="string"){let t=0;const e=tO.exec(n);if(Ht(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:_e(n.seconds),nanos:_e(n.nanos)}}function _e(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function hr(n){return typeof n=="string"?We.fromBase64String(n):We.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="server_timestamp",vS="__type__",_S="__previous_value__",TS="__local_write_time__";function Cf(n){return(n?.mapValue?.fields||{})[vS]?.stringValue===yS}function xf(n){const t=n.mapValue.fields[_S];return Cf(t)?xf(t):t}function Du(n){const t=cr(n.mapValue.fields[TS].timestampValue);return new ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(t,e,s,o,u,c,d,p,g,v){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const nf="(default)";class Vu{constructor(t,e){this.projectId=t,this.database=e||nf}static empty(){return new Vu("","")}get isDefaultDatabase(){return this.database===nf}isEqual(t){return t instanceof Vu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="__type__",nO="__max__",Ih={mapValue:{}},AS="__vector__",sf="value";function fr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Cf(n)?4:sO(n)?9007199254740991:iO(n)?10:11:Tt(28295,{value:n})}function Vi(n,t){if(n===t)return!0;const e=fr(n);if(e!==fr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Du(n).isEqual(Du(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=cr(o.timestampValue),d=cr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return hr(o.bytesValue).isEqual(hr(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return _e(o.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _e(o.integerValue)===_e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=_e(o.doubleValue),d=_e(u.doubleValue);return c===d?ef(c)===ef(d):isNaN(c)&&isNaN(d)}return!1})(n,t);case 9:return No(n.arrayValue.values||[],t.arrayValue.values||[],Vi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(QE(c)!==QE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Vi(c[p],d[p])))return!1;return!0})(n,t);default:return Tt(52216,{left:n})}}function Nu(n,t){return(n.values||[]).find((e=>Vi(e,t)))!==void 0}function Mo(n,t){if(n===t)return 0;const e=fr(n),s=fr(t);if(e!==s)return Pt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=_e(u.integerValue||u.doubleValue),p=_e(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,t);case 3:return $E(n.timestampValue,t.timestampValue);case 4:return $E(Du(n),Du(t));case 5:return Jp(n.stringValue,t.stringValue);case 6:return(function(u,c){const d=hr(u),p=hr(c);return d.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Pt(d[g],p[g]);if(v!==0)return v}return Pt(d.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=Pt(_e(u.latitude),_e(c.latitude));return d!==0?d:Pt(_e(u.longitude),_e(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return WE(n.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},p=c.fields||{},g=d[sf]?.arrayValue,v=p[sf]?.arrayValue,E=Pt(g?.values?.length||0,v?.values?.length||0);return E!==0?E:WE(g,v)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Ih.mapValue&&c===Ih.mapValue)return 0;if(u===Ih.mapValue)return 1;if(c===Ih.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const A=Jp(p[E],v[E]);if(A!==0)return A;const C=Mo(d[p[E]],g[v[E]]);if(C!==0)return C}return Pt(p.length,v.length)})(n.mapValue,t.mapValue);default:throw Tt(23264,{he:e})}}function $E(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Pt(n,t);const e=cr(n),s=cr(t),o=Pt(e.seconds,s.seconds);return o!==0?o:Pt(e.nanos,s.nanos)}function WE(n,t){const e=n.values||[],s=t.values||[];for(let o=0;o<e.length&&o<s.length;++o){const u=Mo(e[o],s[o]);if(u)return u}return Pt(e.length,s.length)}function Oo(n){return tg(n)}function tg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const s=cr(e);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return hr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return gt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let s="[",o=!0;for(const u of e.values||[])o?o=!1:s+=",",s+=tg(u);return s+"]"})(n.arrayValue):"mapValue"in n?(function(e){const s=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${tg(e.fields[c])}`;return o+"}"})(n.mapValue):Tt(61005,{value:n})}function Uh(n){switch(fr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xf(n);return t?16+Uh(t):16;case 5:return 2*n.stringValue.length;case 6:return hr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Uh(u)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return da(s.fields,((u,c)=>{o+=u.length+Uh(c)})),o})(n.mapValue);default:throw Tt(13486,{value:n})}}function rf(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function eg(n){return!!n&&"integerValue"in n}function ay(n){return!!n&&"arrayValue"in n}function ZE(n){return!!n&&"nullValue"in n}function JE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jh(n){return!!n&&"mapValue"in n}function iO(n){return(n?.mapValue?.fields||{})[ES]?.stringValue===AS}function vu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return da(n.mapValue.fields,((e,s)=>t.mapValue.fields[e]=vu(s))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=vu(n.arrayValue.values[e]);return t}return{...n}}function sO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!jh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=vu(e)}setAll(t){let e=$e.emptyPath(),s={},o=[];t.forEach(((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,s,o),s={},o=[],e=d.popLast()}c?s[d.lastSegment()]=vu(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,s,o)}delete(t){const e=this.field(t.popLast());jh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Vi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=e.mapValue.fields[t.get(s)];jh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,s){da(e,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new qn(vu(this.value))}}function bS(n){const t=[];return da(n.fields,((e,s)=>{const o=new $e([e]);if(jh(s)){const u=bS(s.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,e,s,o,u,c,d){this.key=t,this.documentType=e,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new sn(t,0,wt.min(),wt.min(),wt.min(),qn.empty(),0)}static newFoundDocument(t,e,s,o){return new sn(t,1,e,wt.min(),s,o,0)}static newNoDocument(t,e){return new sn(t,2,e,wt.min(),wt.min(),qn.empty(),0)}static newUnknownDocument(t,e){return new sn(t,3,e,wt.min(),wt.min(),qn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t,e){this.position=t,this.inclusive=e}}function tA(n,t,e){let s=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?s=gt.comparator(gt.fromName(c.referenceValue),e.key):s=Mo(c,e.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function eA(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Vi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(t,e="asc"){this.field=t,this.dir=e}}function rO(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{}class Ie extends SS{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new oO(t,e,s):e==="array-contains"?new cO(t,s):e==="in"?new hO(t,s):e==="not-in"?new fO(t,s):e==="array-contains-any"?new dO(t,s):new Ie(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new lO(t,s):new uO(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Mo(e,this.value)):e!==null&&fr(this.value)===fr(e)&&this.matchesComparison(Mo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends SS{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ei(t,e)}matches(t){return wS(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wS(n){return n.op==="and"}function RS(n){return aO(n)&&wS(n)}function aO(n){for(const t of n.filters)if(t instanceof ei)return!1;return!0}function ng(n){if(n instanceof Ie)return n.field.canonicalString()+n.op.toString()+Oo(n.value);if(RS(n))return n.filters.map((t=>ng(t))).join(",");{const t=n.filters.map((e=>ng(e))).join(",");return`${n.op}(${t})`}}function IS(n,t){return n instanceof Ie?(function(s,o){return o instanceof Ie&&s.op===o.op&&s.field.isEqual(o.field)&&Vi(s.value,o.value)})(n,t):n instanceof ei?(function(s,o){return o instanceof ei&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,d)=>u&&IS(c,o.filters[d])),!0):!1})(n,t):void Tt(19439)}function CS(n){return n instanceof Ie?(function(e){return`${e.field.canonicalString()} ${e.op} ${Oo(e.value)}`})(n):n instanceof ei?(function(e){return e.op.toString()+" {"+e.getFilters().map(CS).join(" ,")+"}"})(n):"Filter"}class oO extends Ie{constructor(t,e,s){super(t,e,s),this.key=gt.fromName(s.referenceValue)}matches(t){const e=gt.comparator(t.key,this.key);return this.matchesComparison(e)}}class lO extends Ie{constructor(t,e){super(t,"in",e),this.keys=xS("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class uO extends Ie{constructor(t,e){super(t,"not-in",e),this.keys=xS("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function xS(n,t){return(t.arrayValue?.values||[]).map((e=>gt.fromName(e.referenceValue)))}class cO extends Ie{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ay(e)&&Nu(e.arrayValue,this.value)}}class hO extends Ie{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Nu(this.value.arrayValue,e)}}class fO extends Ie{constructor(t,e){super(t,"not-in",e)}matches(t){if(Nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Nu(this.value.arrayValue,e)}}class dO extends Ie{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ay(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>Nu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(t,e=null,s=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function nA(n,t=null,e=[],s=[],o=null,u=null,c=null){return new mO(n,t,e,s,o,u,c)}function oy(n){const t=Rt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>ng(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),If(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>Oo(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>Oo(s))).join(",")),t.Te=e}return t.Te}function ly(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!rO(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!IS(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!eA(n.startAt,t.startAt)&&eA(n.endAt,t.endAt)}function ig(n){return gt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t,e=null,s=[],o=[],u=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pO(n,t,e,s,o,u,c,d){return new ma(n,t,e,s,o,u,c,d)}function DS(n){return new ma(n)}function iA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function uy(n){return n.collectionGroup!==null}function Ao(n){const t=Rt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Oe($e.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Mu(u,s))})),e.has($e.keyField().canonicalString())||t.Ie.push(new Mu($e.keyField(),s))}return t.Ie}function wi(n){const t=Rt(n);return t.Ee||(t.Ee=gO(t,Ao(n))),t.Ee}function gO(n,t){if(n.limitType==="F")return nA(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Mu(o.field,u)}));const e=n.endAt?new Po(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Po(n.startAt.position,n.startAt.inclusive):null;return nA(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function sg(n,t){const e=n.filters.concat([t]);return new ma(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function af(n,t,e){return new ma(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Df(n,t){return ly(wi(n),wi(t))&&n.limitType===t.limitType}function VS(n){return`${oy(wi(n))}|lt:${n.limitType}`}function ho(n){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((o=>CS(o))).join(", ")}]`),If(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((o=>Oo(o))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((o=>Oo(o))).join(",")),`Target(${s})`})(wi(n))}; limitType=${n.limitType})`}function Vf(n,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):gt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(n,t)&&(function(s,o){for(const u of Ao(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(s,o){return!(s.startAt&&!(function(c,d,p){const g=tA(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,Ao(s),o)||s.endAt&&!(function(c,d,p){const g=tA(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,Ao(s),o))})(n,t)}function yO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function NS(n){return(t,e)=>{let s=!1;for(const o of Ao(n)){const u=vO(o,t,e);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function vO(n,t,e){const s=n.field.isKeyField()?gt.comparator(t.key,e.key):(function(u,c,d){const p=c.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Mo(p,g):Tt(42886)})(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[e]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){da(this.inner,((e,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return pS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=new ce(gt.comparator);function ds(){return _O}const MS=new ce(gt.comparator);function uu(...n){let t=MS;for(const e of n)t=t.insert(e.key,e);return t}function OS(n){let t=MS;return n.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function aa(){return _u()}function PS(){return _u()}function _u(){return new pa((n=>n.toString()),((n,t)=>n.isEqual(t)))}const TO=new ce(gt.comparator),EO=new Oe(gt.comparator);function kt(...n){let t=EO;for(const e of n)t=t.add(e);return t}const AO=new Oe(Pt);function bO(){return AO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(t)?"-0":t}}function kS(n){return{integerValue:""+n}}function SO(n,t){return WM(t)?kS(t):cy(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(){this._=void 0}}function wO(n,t,e){return n instanceof Ou?(function(o,u){const c={fields:{[vS]:{stringValue:yS},[TS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Cf(u)&&(u=xf(u)),u&&(c.fields[_S]=u),{mapValue:c}})(e,t):n instanceof Pu?US(n,t):n instanceof ku?jS(n,t):(function(o,u){const c=LS(o,u),d=sA(c)+sA(o.Ae);return eg(c)&&eg(o.Ae)?kS(d):cy(o.serializer,d)})(n,t)}function RO(n,t,e){return n instanceof Pu?US(n,t):n instanceof ku?jS(n,t):e}function LS(n,t){return n instanceof of?(function(s){return eg(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Ou extends Nf{}class Pu extends Nf{constructor(t){super(),this.elements=t}}function US(n,t){const e=BS(t);for(const s of n.elements)e.some((o=>Vi(o,s)))||e.push(s);return{arrayValue:{values:e}}}class ku extends Nf{constructor(t){super(),this.elements=t}}function jS(n,t){let e=BS(t);for(const s of n.elements)e=e.filter((o=>!Vi(o,s)));return{arrayValue:{values:e}}}class of extends Nf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function sA(n){return _e(n.integerValue||n.doubleValue)}function BS(n){return ay(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(t,e){this.field=t,this.transform=e}}function CO(n,t){return n.field.isEqual(t.field)&&(function(s,o){return s instanceof Pu&&o instanceof Pu||s instanceof ku&&o instanceof ku?No(s.elements,o.elements,Vi):s instanceof of&&o instanceof of?Vi(s.Ae,o.Ae):s instanceof Ou&&o instanceof Ou})(n.transform,t.transform)}class xO{constructor(t,e){this.version=t,this.transformResults=e}}class os{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new os}static exists(t){return new os(void 0,t)}static updateTime(t){return new os(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Mf{}function zS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new FS(n.key,os.none()):new Hu(n.key,n.data,os.none());{const e=n.data,s=qn.empty();let o=new Oe($e.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new ga(n.key,s,new Jn(o.toArray()),os.none())}}function DO(n,t,e){n instanceof Hu?(function(o,u,c){const d=o.value.clone(),p=aA(o.fieldTransforms,u,c.transformResults);d.setAll(p),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,t,e):n instanceof ga?(function(o,u,c){if(!Bh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=aA(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(qS(o)),p.setAll(d),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Tu(n,t,e,s){return n instanceof Hu?(function(u,c,d,p){if(!Bh(u.precondition,c))return d;const g=u.value.clone(),v=oA(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,e,s):n instanceof ga?(function(u,c,d,p){if(!Bh(u.precondition,c))return d;const g=oA(u.fieldTransforms,p,c),v=c.data;return v.setAll(qS(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(n,t,e,s):(function(u,c,d){return Bh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,t,e)}function VO(n,t){let e=null;for(const s of n.fieldTransforms){const o=t.data.field(s.field),u=LS(s.transform,o||null);u!=null&&(e===null&&(e=qn.empty()),e.set(s.field,u))}return e||null}function rA(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&No(s,o,((u,c)=>CO(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Hu extends Mf{constructor(t,e,s,o=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ga extends Mf{constructor(t,e,s,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function qS(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}})),t}function aA(n,t,e){const s=new Map;Ht(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let o=0;o<e.length;o++){const u=n[o],c=u.transform,d=t.data.field(u.field);s.set(u.field,RO(c,d,e[o]))}return s}function oA(n,t,e){const s=new Map;for(const o of n){const u=o.transform,c=e.data.field(o.field);s.set(o.field,wO(u,c,t))}return s}class FS extends Mf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NO extends Mf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&DO(u,t,s[o])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=Tu(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=Tu(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=PS();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=e.has(o.key)?null:d;const p=zS(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(wt.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),kt())}isEqual(t){return this.batchId===t.batchId&&No(this.mutations,t.mutations,((e,s)=>rA(e,s)))&&No(this.baseMutations,t.baseMutations,((e,s)=>rA(e,s)))}}class hy{constructor(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}static from(t,e,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return TO})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new hy(t,e,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,Bt;function kO(n){switch(n){case W.OK:return Tt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Tt(15467,{code:n})}}function HS(n){if(n===void 0)return fs("GRPC error has no .code"),W.UNKNOWN;switch(n){case we.OK:return W.OK;case we.CANCELLED:return W.CANCELLED;case we.UNKNOWN:return W.UNKNOWN;case we.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case we.INTERNAL:return W.INTERNAL;case we.UNAVAILABLE:return W.UNAVAILABLE;case we.UNAUTHENTICATED:return W.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case we.NOT_FOUND:return W.NOT_FOUND;case we.ALREADY_EXISTS:return W.ALREADY_EXISTS;case we.PERMISSION_DENIED:return W.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case we.ABORTED:return W.ABORTED;case we.OUT_OF_RANGE:return W.OUT_OF_RANGE;case we.UNIMPLEMENTED:return W.UNIMPLEMENTED;case we.DATA_LOSS:return W.DATA_LOSS;default:return Tt(39323,{code:n})}}(Bt=we||(we={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=new nr([4294967295,4294967295],0);function lA(n){const t=LO().encode(n),e=new sS;return e.update(t),new Uint8Array(e.digest())}function uA(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new nr([e,s],0),new nr([o,u],0)]}class fy{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new cu(`Invalid padding: ${e}`);if(s<0)throw new cu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new cu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=nr.fromNumber(this.ge)}ye(t,e,s){let o=t.add(e.multiply(nr.fromNumber(s)));return o.compare(UO)===1&&(o=new nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=lA(t),[s,o]=uA(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(t,e,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new fy(u,o,e);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const e=lA(t),[s,o]=uA(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(t,e,s,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const o=new Map;return o.set(t,Gu.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Of(wt.min(),o,new ce(Pt),ds(),kt())}}class Gu{constructor(t,e,s,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Gu(s,e,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t,e,s,o){this.be=t,this.removedTargetIds=e,this.key=s,this.De=o}}class GS{constructor(t,e){this.targetId=t,this.Ce=e}}class KS{constructor(t,e,s=We.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=o}}class cA{constructor(){this.ve=0,this.Fe=hA(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),e=kt(),s=kt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:u})}})),new Gu(this.Me,this.xe,t,e,s)}qe(){this.Oe=!1,this.Fe=hA()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jO{constructor(t){this.Ge=t,this.ze=new Map,this.je=ds(),this.Je=Ch(),this.He=Ch(),this.Ye=new ce(Pt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const s=this.nt(e);switch(t.state){case 0:this.rt(e)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),s.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((s,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,s=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(ig(u))if(s===0){const c=new gt(u.path);this.et(e,c,sn.newNoDocument(c,wt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const c=this._t(e);if(c!==s){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=e;let c,d;try{c=hr(s).toUint8Array()}catch(p){if(p instanceof gS)return Vo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new fy(c,o,u)}catch(p){return Vo(p instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,e,s){return e.Ce.count===s-this.Pt(t,e.targetId)?0:2}Pt(t,e){const s=this.Ge.getRemoteKeysForTarget(e);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&ig(d.target)){const p=new gt(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,sn.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.qe())}}));let s=kt();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Of(t,e,this.Ye,this.je,s);return this.je=ds(),this.Je=Ch(),this.He=Ch(),this.Ye=new ce(Pt),o}Xe(t,e){if(!this.rt(t))return;const s=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,s),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),s&&(this.je=this.je.insert(e,s))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new cA,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Oe(Pt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Oe(Pt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new cA),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Ch(){return new ce(gt.comparator)}function hA(){return new ce(gt.comparator)}const BO={asc:"ASCENDING",desc:"DESCENDING"},zO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qO={and:"AND",or:"OR"};class FO{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function rg(n,t){return n.useProto3Json||If(t)?t:{value:t}}function lf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function YS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function HO(n,t){return lf(n,t.toTimestamp())}function Ri(n){return Ht(!!n,49232),wt.fromTimestamp((function(e){const s=cr(e);return new ie(s.seconds,s.nanos)})(n))}function dy(n,t){return ag(n,t).canonicalString()}function ag(n,t){const e=(function(o){return new Jt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?e:e.child(t)}function QS(n){const t=Jt.fromString(n);return Ht(JS(t),10190,{key:t.toString()}),t}function og(n,t){return dy(n.databaseId,t.path)}function _p(n,t){const e=QS(t);if(e.get(1)!==n.databaseId.projectId)throw new ot(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ot(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new gt($S(e))}function XS(n,t){return dy(n.databaseId,t)}function GO(n){const t=QS(n);return t.length===4?Jt.emptyPath():$S(t)}function lg(n){return new Jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $S(n){return Ht(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function fA(n,t,e){return{name:og(n,t),fields:e.value.mapValue.fields}}function KO(n,t){let e;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Ht(v===void 0||typeof v=="string",58123),We.fromBase64String(v||"")):(Ht(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),We.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?W.UNKNOWN:HS(g.code);return new ot(v,g.message||"")})(c);e=new KS(s,o,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=_p(n,s.document.name),u=Ri(s.document.updateTime),c=s.document.createTime?Ri(s.document.createTime):wt.min(),d=new qn({mapValue:{fields:s.document.fields}}),p=sn.newFoundDocument(o,u,c,d),g=s.targetIds||[],v=s.removedTargetIds||[];e=new zh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=_p(n,s.document),u=s.readTime?Ri(s.readTime):wt.min(),c=sn.newNoDocument(o,u),d=s.removedTargetIds||[];e=new zh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=_p(n,s.document),u=s.removedTargetIds||[];e=new zh([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new PO(o,u),d=s.targetId;e=new GS(d,c)}}return e}function YO(n,t){let e;if(t instanceof Hu)e={update:fA(n,t.key,t.value)};else if(t instanceof FS)e={delete:og(n,t.key)};else if(t instanceof ga)e={update:fA(n,t.key,t.data),updateMask:nP(t.fieldMask)};else{if(!(t instanceof NO))return Tt(16599,{Vt:t.type});e={verify:og(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((s=>(function(u,c){const d=c.transform;if(d instanceof Ou)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Pu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ku)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof of)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Tt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:HO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)})(n,t.precondition)),e}function QO(n,t){return n&&n.length>0?(Ht(t!==void 0,14353),n.map((e=>(function(o,u){let c=o.updateTime?Ri(o.updateTime):Ri(u);return c.isEqual(wt.min())&&(c=Ri(u)),new xO(c,o.transformResults||[])})(e,t)))):[]}function XO(n,t){return{documents:[XS(n,t.path)]}}function $O(n,t){const e={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=XS(n,o);const u=(function(g){if(g.length!==0)return ZS(ei.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(A){return{field:fo(A.field),direction:JO(A.dir)}})(v)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=rg(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function WO(n){let t=GO(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const v=e.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];e.where&&(u=(function(E){const A=WS(E);return A instanceof ei&&RS(A)?A.getFilters():[A]})(e.where));let c=[];e.orderBy&&(c=(function(E){return E.map((A=>(function(L){return new Mu(mo(L.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(A)))})(e.orderBy));let d=null;e.limit&&(d=(function(E){let A;return A=typeof E=="object"?E.value:E,If(A)?null:A})(e.limit));let p=null;e.startAt&&(p=(function(E){const A=!!E.before,C=E.values||[];return new Po(C,A)})(e.startAt));let g=null;return e.endAt&&(g=(function(E){const A=!E.before,C=E.values||[];return new Po(C,A)})(e.endAt)),pO(t,o,c,u,d,"F",p,g)}function ZO(n,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function WS(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=mo(e.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(e.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=mo(e.unaryFilter.field);return Ie.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=mo(e.unaryFilter.field);return Ie.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ie.create(mo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return ei.create(e.compositeFilter.filters.map((s=>WS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(e.compositeFilter.op))})(n):Tt(30097,{filter:n})}function JO(n){return BO[n]}function tP(n){return zO[n]}function eP(n){return qO[n]}function fo(n){return{fieldPath:n.canonicalString()}}function mo(n){return $e.fromServerFormat(n.fieldPath)}function ZS(n){return n instanceof Ie?(function(e){if(e.op==="=="){if(JE(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NAN"}};if(ZE(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(JE(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NOT_NAN"}};if(ZE(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(e.field),op:tP(e.op),value:e.value}}})(n):n instanceof ei?(function(e){const s=e.getFilters().map((o=>ZS(o)));return s.length===1?s[0]:{compositeFilter:{op:eP(e.op),filters:s}}})(n):Tt(54877,{filter:n})}function nP(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function JS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,e,s,o,u=wt.min(),c=wt.min(),d=We.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(t){this.yt=t}}function sP(n){const t=WO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?af(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.Cn=new aP}addToCollectionParentIndex(t,e){return this.Cn.add(e),et.resolve()}getCollectionParents(t,e){return et.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return et.resolve()}deleteFieldIndex(t,e){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,e){return et.resolve()}getDocumentsMatchingTarget(t,e){return et.resolve(null)}getIndexType(t,e){return et.resolve(0)}getFieldIndexes(t,e){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,e){return et.resolve(ur.min())}getMinOffsetFromCollectionGroup(t,e){return et.resolve(ur.min())}updateCollectionGroup(t,e,s){return et.resolve()}updateIndexEntries(t,e){return et.resolve()}}class aP{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new Oe(Jt.comparator),u=!o.has(s);return this.index[e]=o.add(s),u}has(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Oe(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tw=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(tw,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ko(0)}static cr(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="LruGarbageCollector",oP=1048576;function pA([n,t],[e,s]){const o=Pt(n,e);return o===0?Pt(t,s):o}class lP{constructor(t){this.Ir=t,this.buffer=new Oe(pA),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();pA(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class uP{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(mA,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ko(e)?ht(mA,"Ignoring IndexedDB error during garbage collection: ",e):await Go(e)}await this.Vr(3e5)}))}}class cP{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((s=>Math.floor(e/100*s)))}nthSequenceNumber(t,e){if(e===0)return et.resolve(Rf.ce);const s=new lP(e);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,e,s){return this.mr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(dA)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dA):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let s,o,u,c,d,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(t,o)))).next((E=>(s=E,d=Date.now(),this.removeTargets(t,s,e)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((E=>(g=Date.now(),co()<=Ot.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function hP(n,t){return new cP(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.changes=new pa((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?et.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(t,e,s,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(s!==null&&Tu(s.mutation,o,Jn.empty(),ie.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,kt()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=kt()){const o=aa();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,s).next((u=>{let c=uu();return u.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const s=aa();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,kt())))}populateOverlays(t,e,s){const o=[];return s.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,d)=>{e.set(c,d)}))}))}computeViews(t,e,s,o){let u=ds();const c=_u(),d=(function(){return _u()})();return e.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof ga)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Tu(v.mutation,g,v.mutation.getFieldMask(),ie.now())):c.set(g.key,Jn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),e.forEach(((g,v)=>d.set(g,new dP(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,e){const s=_u();let o=new ce(((c,d)=>c-d)),u=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let v=s.get(p)||Jn.empty();v=d.applyToLocalView(g,v),s.set(p,v);const E=(o.get(d.batchId)||kt()).add(p);o=o.insert(d.batchId,E)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=PS();v.forEach((A=>{if(!u.has(A)){const C=zS(e.get(A),s.get(A));C!==null&&E.set(A,C),u=u.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return et.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,o){return(function(c){return gt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):uy(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,o):this.getDocumentsMatchingCollectionQuery(t,e,s,o)}getNextDocuments(t,e,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,o-u.size):et.resolve(aa());let d=xu,p=u;return c.next((g=>et.forEach(g,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(v)?et.resolve():this.remoteDocumentCache.getEntry(t,v).next((A=>{p=p.insert(v,A)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,kt()))).next((v=>({batchId:d,changes:OS(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new gt(e)).next((s=>{let o=uu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,o){const u=e.collectionGroup;let c=uu();return this.indexManager.getCollectionParents(t,u).next((d=>et.forEach(d,(p=>{const g=(function(E,A){return new ma(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((v=>{v.forEach(((E,A)=>{c=c.insert(E,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,sn.newInvalidDocument(v)))}));let d=uu();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Tu(v.mutation,g,Jn.empty(),ie.now()),Vf(e,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return et.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}})(e)),et.resolve()}getNamedQuery(t,e){return et.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:sP(o.bundledQuery),readTime:Ri(o.readTime)}})(e)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.overlays=new ce(gt.comparator),this.qr=new Map}getOverlay(t,e){return et.resolve(this.overlays.get(e))}getOverlays(t,e){const s=aa();return et.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((o,u)=>{this.St(t,e,u)})),et.resolve()}removeOverlaysForBatchId(t,e,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),et.resolve()}getOverlaysForCollection(t,e,s){const o=aa(),u=e.length+1,c=new gt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return et.resolve(o)}getOverlaysForCollectionGroup(t,e,s,o){let u=new ce(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=aa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=aa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=o)););return et.resolve(d)}St(t,e,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new OO(e,s));let u=this.qr.get(e);u===void 0&&(u=kt(),this.qr.set(e,u)),this.qr.set(e,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this.Qr=new Oe(ze.$r),this.Ur=new Oe(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const s=new ze(t,e);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Gr(new ze(t,e))}zr(t,e){t.forEach((s=>this.removeReference(s,e)))}jr(t){const e=new gt(new Jt([])),s=new ze(e,t),o=new ze(e,t+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new gt(new Jt([])),s=new ze(e,t),o=new ze(e,t+1);let u=kt();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new ze(t,0),s=this.Qr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class ze{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return gt.comparator(t.key,e.key)||Pt(t.Yr,e.Yr)}static Kr(t,e){return Pt(t.Yr,e.Yr)||gt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(ze.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new MO(u,e,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new ze(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return et.resolve(c)}lookupMutationBatch(t,e){return et.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,o=this.ei(s),u=o<0?0:o;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?ry:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new ze(e,0),o=new ze(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Oe(Pt);return e.forEach((o=>{const u=new ze(o,0),c=new ze(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{s=s.add(d.Yr)}))})),et.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,o=s.length+1;let u=s;gt.isDocumentKey(u)||(u=u.child(""));const c=new ze(new gt(u),0);let d=new Oe(Pt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)}),c),et.resolve(this.ti(d))}ti(t){const e=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Ht(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return et.forEach(e.mutations,(o=>{const u=new ze(o.key,e.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,e){const s=new ze(e,0),o=this.Zr.firstAfterOrEqual(s);return et.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(t){this.ri=t,this.docs=(function(){return new ce(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return et.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(e))}getEntries(t,e){let s=ds();return e.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),et.resolve(s)}getDocumentsMatchingQuery(t,e,s,o){let u=ds();const c=e.path,d=new gt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||YM(KM(v),s)<=0||(o.has(v.key)||Vf(e,v))&&(u=u.insert(v.key,v.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,e,s,o){Tt(9500)}ii(t,e){return et.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new TP(this)}getSize(t){return et.resolve(this.size)}}class TP extends fP{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),et.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(t){this.persistence=t,this.si=new pa((e=>oy(e)),ly),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.oi=0,this._i=new my,this.targetCount=0,this.ai=ko.ur()}forEachTarget(t,e){return this.si.forEach(((s,o)=>e(o))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.oi&&(this.oi=e),et.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new ko(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,et.resolve()}updateTargetData(t,e){return this.Pr(e),et.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,e,s){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),et.waitFor(u).next((()=>o))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,e){const s=this.si.get(e)||null;return et.resolve(s)}addMatchingKeys(t,e,s){return this._i.Wr(e,s),et.resolve()}removeMatchingKeys(t,e,s){this._i.zr(e,s);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),et.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),et.resolve()}getMatchingKeysForTargetId(t,e){const s=this._i.Hr(e);return et.resolve(s)}containsKey(t,e){return et.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,e){this.ui={},this.overlays={},this.ci=new Rf(0),this.li=!1,this.li=!0,this.hi=new yP,this.referenceDelegate=t(this),this.Pi=new EP(this),this.indexManager=new rP,this.remoteDocumentCache=(function(o){return new _P(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new iP(e),this.Ii=new pP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new gP,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ui[t.toKey()];return s||(s=new vP(e,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,s){ht("MemoryPersistence","Starting transaction:",t);const o=new AP(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return et.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,e))))}}class AP extends XM{constructor(t){super(),this.currentSequenceNumber=t}}class py{constructor(t){this.persistence=t,this.Ri=new my,this.Vi=null}static mi(t){return new py(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.fi.delete(s.toString()),et.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.fi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),et.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(s=>{const o=gt.fromPath(s);return this.gi(t,o).next((u=>{u||e.removeEntry(o,wt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((s=>{s?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return et.or([()=>et.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class uf{constructor(t,e){this.persistence=t,this.pi=new pa((s=>ZM(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=hP(this,e)}static mi(t,e){return new uf(t,e)}Ei(){}di(t){return et.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>e.next((o=>s+o))))}wr(t){let e=0;return this.pr(t,(s=>{e++})).next((()=>e))}pr(t,e){return et.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?et.resolve():e(o)))))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,e).next((d=>{d||(s++,u.removeEntry(c,wt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),et.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}removeReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),et.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Uh(t.data.value)),e}br(t,e,s){return et.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(t,e,s,o){this.targetId=t,this.fromCache=e,this.Es=s,this.ds=o}static As(t,e){let s=kt(),o=kt();for(const u of e.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new gy(t,e.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gN()?8:$M(an())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,o){const u={result:null};return this.ys(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,e,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new bP;return this.Ss(t,e,c).next((d=>{if(u.result=d,this.Vs)return this.bs(t,e,c,d.size)}))})).next((()=>u.result))}bs(t,e,s,o){return s.documentReadCount<this.fs?(co()<=Ot.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",ho(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(co()<=Ot.DEBUG&&ht("QueryEngine","Query:",ho(e),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(co()<=Ot.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",ho(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wi(e))):et.resolve())}ys(t,e){if(iA(e))return et.resolve(null);let s=wi(e);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=af(e,null,"F"),s=wi(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const c=kt(...u);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(e,d);return this.Cs(e,g,c,p.readTime)?this.ys(t,af(e,null,"F")):this.vs(t,g,e,p)}))))})))))}ws(t,e,s,o){return iA(e)||o.isEqual(wt.min())?et.resolve(null):this.ps.getDocuments(t,s).next((u=>{const c=this.Ds(e,u);return this.Cs(e,c,s,o)?et.resolve(null):(co()<=Ot.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(e)),this.vs(t,c,e,GM(o,xu)).next((d=>d)))}))}Ds(t,e){let s=new Oe(NS(t));return e.forEach(((o,u)=>{Vf(t,u)&&(s=s.add(u))})),s}Cs(t,e,s,o){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,s){return co()<=Ot.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",ho(e)),this.ps.getDocumentsMatchingQuery(t,e,ur.min(),s)}vs(t,e,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="LocalStore",wP=3e8;class RP{constructor(t,e,s,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new ce(Pt),this.xs=new pa((u=>oy(u)),ly),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function IP(n,t,e,s){return new RP(n,t,e,s)}async function nw(n,t){const e=Rt(n);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return e.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],d=[];let p=kt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return e.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function CP(n,t){const e=Rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const E=g.batch,A=E.keys();let C=et.resolve();return A.forEach((L=>{C=C.next((()=>v.getEntry(p,L))).next((Q=>{const F=g.docVersions.get(L);Ht(F!==null,48541),Q.version.compareTo(F)<0&&(E.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),v.addEntry(Q)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(e,s,t,u).next((()=>u.apply(s))).next((()=>e.mutationQueue.performConsistencyCheck(s))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=kt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(s,o)))}))}function iw(n){const t=Rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function xP(n,t){const e=Rt(n),s=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const d=[];t.targetChanges.forEach(((v,E)=>{const A=o.get(E);if(!A)return;d.push(e.Pi.removeMatchingKeys(u,v.removedDocuments,E).next((()=>e.Pi.addMatchingKeys(u,v.addedDocuments,E))));let C=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?C=C.withResumeToken(We.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,s)),o=o.insert(E,C),(function(Q,F,J){return Q.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=wP?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(A,C,v)&&d.push(e.Pi.updateTargetData(u,C))}));let p=ds(),g=kt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(DP(u,c,t.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(wt.min())){const v=e.Pi.getLastRemoteSnapshotVersion(u).next((E=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(v)}return et.waitFor(d).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.Ms=o,u)))}function DP(n,t,e){let s=kt(),o=kt();return e.forEach((u=>s=s.add(u))),t.getEntries(n,s).next((u=>{let c=ds();return e.forEach(((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(wt.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):ht(yy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function VP(n,t){const e=Rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=ry),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function NP(n,t){const e=Rt(n);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return e.Pi.getTargetData(s,t).next((u=>u?(o=u,et.resolve(o)):e.Pi.allocateTargetId(s).next((c=>(o=new Js(t,c,"TargetPurposeListen",s.currentSequenceNumber),e.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=e.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(s.targetId,s),e.xs.set(t,s.targetId)),s}))}async function ug(n,t,e){const s=Rt(n),o=s.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Ko(c))throw c;ht(yy,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function gA(n,t,e){const s=Rt(n);let o=wt.min(),u=kt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const E=Rt(p),A=E.xs.get(v);return A!==void 0?et.resolve(E.Ms.get(A)):E.Pi.getTargetData(g,v)})(s,c,wi(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,e?o:wt.min(),e?u:kt()))).next((d=>(MP(s,yO(t),d),{documents:d,Qs:u})))))}function MP(n,t,e){let s=n.Os.get(t)||wt.min();e.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),n.Os.set(t,s)}class yA{constructor(){this.activeTargetIds=bO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class OP{constructor(){this.Mo=new yA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,s){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new yA,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="ConnectivityMonitor";class _A{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(vA,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(vA,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh=null;function cg(){return xh===null?xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():xh++,"0x"+xh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="RestConnection",kP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LP{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===nf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,e,s,o,u){const c=cg(),d=this.zo(t,e.toUriEncodedString());ht(Tp,`Sending RPC '${t}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(d),v=zo(g);return this.Jo(t,d,p,s,v).then((E=>(ht(Tp,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw Vo(Tp,`RPC '${t}' ${c} failed with error: `,E,"url: ",d,"request:",s),E}))}Ho(t,e,s,o,u,c){return this.Go(t,e,s,o,u)}jo(t,e,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const s=kP[t];return`${this.Uo}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class jP extends LP{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,o,u){const c=cg();return new Promise(((d,p)=>{const g=new rS;g.setWithCredentials(!0),g.listenOnce(aS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Lh.NO_ERROR:const E=g.getResponseJson();ht(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case Lh.TIMEOUT:ht(en,`RPC '${t}' ${c} timed out`),p(new ot(W.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const A=g.getStatus();if(ht(en,`RPC '${t}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const L=C?.error;if(L&&L.status&&L.message){const Q=(function(J){const G=J.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(G)>=0?G:W.UNKNOWN})(L.status);p(new ot(Q,L.message))}else p(new ot(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ot(W.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(en,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);ht(en,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",v,s,15)}))}T_(t,e,s){const o=cg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=uS(),d=lS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,e,s),p.encodeInitMessageHeaders=!0;const v=u.join("");ht(en,`Creating RPC '${t}' stream ${o}: ${v}`,p);const E=c.createWebChannel(v,p);this.I_(E);let A=!1,C=!1;const L=new UP({Yo:F=>{C?ht(en,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(A||(ht(en,`Opening RPC '${t}' stream ${o} transport.`),E.open(),A=!0),ht(en,`RPC '${t}' stream ${o} sending:`,F),E.send(F))},Zo:()=>E.close()}),Q=(F,J,G)=>{F.listen(J,(Y=>{try{G(Y)}catch(ut){setTimeout((()=>{throw ut}),0)}}))};return Q(E,lu.EventType.OPEN,(()=>{C||(ht(en,`RPC '${t}' stream ${o} transport opened.`),L.o_())})),Q(E,lu.EventType.CLOSE,(()=>{C||(C=!0,ht(en,`RPC '${t}' stream ${o} transport closed`),L.a_(),this.E_(E))})),Q(E,lu.EventType.ERROR,(F=>{C||(C=!0,Vo(en,`RPC '${t}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),L.a_(new ot(W.UNAVAILABLE,"The operation could not be completed")))})),Q(E,lu.EventType.MESSAGE,(F=>{if(!C){const J=F.data[0];Ht(!!J,16349);const G=J,Y=G?.error||G[0]?.error;if(Y){ht(en,`RPC '${t}' stream ${o} received error:`,Y);const ut=Y.status;let st=(function(w){const R=we[w];if(R!==void 0)return HS(R)})(ut),mt=Y.message;st===void 0&&(st=W.INTERNAL,mt="Unknown error status: "+ut+" with message "+Y.message),C=!0,L.a_(new ot(st,mt)),E.close()}else ht(en,`RPC '${t}' stream ${o} received:`,J),L.u_(J)}})),Q(d,oS.STAT_EVENT,(F=>{F.stat===Zp.PROXY?ht(en,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===Zp.NOPROXY&&ht(en,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(n){return new FO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,e,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="PersistentStream";class rw{constructor(t,e,s,o,u,c,d,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sw(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===W.RESOURCE_EXHAUSTED?(fs(e.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===e&&this.G_(s,o)}),(s=>{t((()=>{const o=new ot(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,e){const s=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(TA,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ht(TA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BP extends rw{constructor(t,e,s,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=KO(this.serializer,t),s=(function(u){if(!("targetChange"in u))return wt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?wt.min():c.readTime?Ri(c.readTime):wt.min()})(t);return this.listener.H_(e,s)}Y_(t){const e={};e.database=lg(this.serializer),e.addTarget=(function(u,c){let d;const p=c.target;if(d=ig(p)?{documents:XO(u,p)}:{query:$O(u,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=YS(u,c.resumeToken);const g=rg(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(wt.min())>0){d.readTime=lf(u,c.snapshotVersion.toTimestamp());const g=rg(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=ZO(this.serializer,t);s&&(e.labels=s),this.q_(e)}Z_(t){const e={};e.database=lg(this.serializer),e.removeTarget=t,this.q_(e)}}class zP extends rw{constructor(t,e,s,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=QO(t.writeResults,t.commitTime),s=Ri(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=lg(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((s=>YO(this.serializer,s)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{}class FP extends qP{constructor(t,e,s,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,ag(e,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot(W.UNKNOWN,u.toString())}))}Ho(t,e,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,ag(e,s),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(W.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HP{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(e),this.aa=!1):ht("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class GP{constructor(t,e,s,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{ya(this)&&(ht(ha,"Restarting streams for network reachability change."),await(async function(p){const g=Rt(p);g.Ea.add(4),await Ku(g),g.Ra.set("Unknown"),g.Ea.delete(4),await kf(g)})(this))}))})),this.Ra=new HP(s,o)}}async function kf(n){if(ya(n))for(const t of n.da)await t(!0)}async function Ku(n){for(const t of n.da)await t(!1)}function aw(n,t){const e=Rt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Ey(e)?Ty(e):Yo(e).O_()&&_y(e,t))}function vy(n,t){const e=Rt(n),s=Yo(e);e.Ia.delete(t),s.O_()&&ow(e,t),e.Ia.size===0&&(s.O_()?s.L_():ya(e)&&e.Ra.set("Unknown"))}function _y(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Yo(n).Y_(t)}function ow(n,t){n.Va.Ue(t),Yo(n).Z_(t)}function Ty(n){n.Va=new jO({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Yo(n).start(),n.Ra.ua()}function Ey(n){return ya(n)&&!Yo(n).x_()&&n.Ia.size>0}function ya(n){return Rt(n).Ea.size===0}function lw(n){n.Va=void 0}async function KP(n){n.Ra.set("Online")}async function YP(n){n.Ia.forEach(((t,e)=>{_y(n,t)}))}async function QP(n,t){lw(n),Ey(n)?(n.Ra.ha(t),Ty(n)):n.Ra.set("Unknown")}async function XP(n,t,e){if(n.Ra.set("Online"),t instanceof KS&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(n,t)}catch(s){ht(ha,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await cf(n,s)}else if(t instanceof zh?n.Va.Ze(t):t instanceof GS?n.Va.st(t):n.Va.tt(t),!e.isEqual(wt.min()))try{const s=await iw(n.localStore);e.compareTo(s)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(We.EMPTY_BYTE_STRING,v.snapshotVersion)),ow(u,p);const E=new Js(v.target,p,g,v.sequenceNumber);_y(u,E)})),u.remoteSyncer.applyRemoteEvent(d)})(n,e)}catch(s){ht(ha,"Failed to raise snapshot:",s),await cf(n,s)}}async function cf(n,t,e){if(!Ko(t))throw t;n.Ea.add(1),await Ku(n),n.Ra.set("Offline"),e||(e=()=>iw(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ht(ha,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await kf(n)}))}function uw(n,t){return t().catch((e=>cf(n,e,t)))}async function Lf(n){const t=Rt(n),e=dr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ry;for(;$P(t);)try{const o=await VP(t.localStore,s);if(o===null){t.Ta.length===0&&e.L_();break}s=o.batchId,WP(t,o)}catch(o){await cf(t,o)}cw(t)&&hw(t)}function $P(n){return ya(n)&&n.Ta.length<10}function WP(n,t){n.Ta.push(t);const e=dr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function cw(n){return ya(n)&&!dr(n).x_()&&n.Ta.length>0}function hw(n){dr(n).start()}async function ZP(n){dr(n).ra()}async function JP(n){const t=dr(n);for(const e of n.Ta)t.ea(e.mutations)}async function t4(n,t,e){const s=n.Ta.shift(),o=hy.from(s,t,e);await uw(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Lf(n)}async function e4(n,t){t&&dr(n).X_&&await(async function(s,o){if((function(c){return kO(c)&&c!==W.ABORTED})(o.code)){const u=s.Ta.shift();dr(s).B_(),await uw(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Lf(s)}})(n,t),cw(n)&&hw(n)}async function EA(n,t){const e=Rt(n);e.asyncQueue.verifyOperationInProgress(),ht(ha,"RemoteStore received new credentials");const s=ya(e);e.Ea.add(3),await Ku(e),s&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await kf(e)}async function n4(n,t){const e=Rt(n);t?(e.Ea.delete(2),await kf(e)):t||(e.Ea.add(2),await Ku(e),e.Ra.set("Unknown"))}function Yo(n){return n.ma||(n.ma=(function(e,s,o){const u=Rt(e);return u.sa(),new BP(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:KP.bind(null,n),t_:YP.bind(null,n),r_:QP.bind(null,n),H_:XP.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Ey(n)?Ty(n):n.Ra.set("Unknown")):(await n.ma.stop(),lw(n))}))),n.ma}function dr(n){return n.fa||(n.fa=(function(e,s,o){const u=Rt(e);return u.sa(),new zP(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZP.bind(null,n),r_:e4.bind(null,n),ta:JP.bind(null,n),na:t4.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Lf(n)):(await n.fa.stop(),n.Ta.length>0&&(ht(ha,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(t,e,s,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,o,u){const c=Date.now()+s,d=new Ay(t,e,c,o,u);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function by(n,t){if(fs("AsyncQueue",`${t}: ${n}`),Ko(n))return new ot(W.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(t){return new bo(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||gt.comparator(e.key,s.key):(e,s)=>gt.comparator(e.key,s.key),this.keyedMap=uu(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof bo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new bo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.ga=new ce(gt.comparator)}track(t){const e=t.doc.key,s=this.ga.get(e);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(e,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(e):t.type===1&&s.type===2?this.ga=this.ga.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,s)=>{t.push(s)})),t}}class Lo{constructor(t,e,s,o,u,c,d,p,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,o,u){const c=[];return e.forEach((d=>{c.push({type:0,doc:d})})),new Lo(t,e,bo.emptySet(e),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Df(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class s4{constructor(){this.queries=bA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const o=Rt(e),u=o.queries;o.queries=bA(),u.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new ot(W.ABORTED,"Firestore shutting down"))}}function bA(){return new pa((n=>VS(n)),Df)}async function r4(n,t){const e=Rt(n);let s=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new i4,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const d=by(c,`Initialization of query '${ho(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Sy(e)}async function a4(n,t){const e=Rt(n),s=t.query;let o=3;const u=e.queries.get(s);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function o4(n,t){const e=Rt(n);let s=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&Sy(e)}function l4(n,t,e){const s=Rt(n),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);s.queries.delete(t)}function Sy(n){n.Ca.forEach((t=>{t.next()}))}var hg,SA;(SA=hg||(hg={})).Ma="default",SA.Cache="cache";class u4{constructor(t,e,s){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Lo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const s=e!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t){this.key=t}}class dw{constructor(t){this.key=t}}class c4{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=NS(t),this.tu=new bo(this.eu)}get nu(){return this.Ya}ru(t,e){const s=e?e.iu:new AA,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,E)=>{const A=o.get(v),C=Vf(this.query,E)?E:null,L=!!A&&this.mutatedKeys.has(A.key),Q=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let F=!1;A&&C?A.data.isEqual(C.data)?L!==Q&&(s.track({type:3,doc:C}),F=!0):this.su(A,C)||(s.track({type:2,doc:C}),F=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(d=!0)):!A&&C?(s.track({type:0,doc:C}),F=!0):A&&!C&&(s.track({type:1,doc:A}),F=!0,(p||g)&&(d=!0)),F&&(C?(c=c.add(C),u=Q?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:d,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,E)=>(function(C,L){const Q=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:F})}};return Q(C)-Q(L)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(s),o=o??!1;const d=e&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Lo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const e=[];return t.forEach((s=>{this.Xa.has(s)||e.push(new dw(s))})),this.Xa.forEach((s=>{t.has(s)||e.push(new fw(s))})),e}cu(t){this.Ya=t.Qs,this.Xa=kt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wy="SyncEngine";class h4{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class f4{constructor(t){this.key=t,this.hu=!1}}class d4{constructor(t,e,s,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new pa((d=>VS(d)),Df),this.Iu=new Map,this.Eu=new Set,this.du=new ce(gt.comparator),this.Au=new Map,this.Ru=new my,this.Vu={},this.mu=new Map,this.fu=ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function m4(n,t,e=!0){const s=_w(n);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await mw(s,t,e,!0),o}async function p4(n,t){const e=_w(n);await mw(e,t,!0,!1)}async function mw(n,t,e,s){const o=await NP(n.localStore,wi(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,e);let d;return s&&(d=await g4(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&e&&aw(n.remoteStore,o),d}async function g4(n,t,e,s,o){n.pu=(E,A,C)=>(async function(Q,F,J,G){let Y=F.view.ru(J);Y.Cs&&(Y=await gA(Q.localStore,F.query,!1).then((({documents:V})=>F.view.ru(V,Y))));const ut=G&&G.targetChanges.get(F.targetId),st=G&&G.targetMismatches.get(F.targetId)!=null,mt=F.view.applyChanges(Y,Q.isPrimaryClient,ut,st);return RA(Q,F.targetId,mt.au),mt.snapshot})(n,E,A,C);const u=await gA(n.localStore,t,!0),c=new c4(t,u.Qs),d=c.ru(u.documents),p=Gu.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",o),g=c.applyChanges(d,n.isPrimaryClient,p);RA(n,e,g.au);const v=new h4(t,e,c);return n.Tu.set(t,v),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function y4(n,t,e){const s=Rt(n),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!Df(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ug(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),e&&vy(s.remoteStore,o.targetId),fg(s,o.targetId)})).catch(Go)):(fg(s,o.targetId),await ug(s.localStore,o.targetId,!0))}async function v4(n,t){const e=Rt(n),s=e.Tu.get(t),o=e.Iu.get(s.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),vy(e.remoteStore,s.targetId))}async function _4(n,t,e){const s=R4(n);try{const o=await(function(c,d){const p=Rt(c),g=ie.now(),v=d.reduce(((C,L)=>C.add(L.key)),kt());let E,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let L=ds(),Q=kt();return p.Ns.getEntries(C,v).next((F=>{L=F,L.forEach(((J,G)=>{G.isValidDocument()||(Q=Q.add(J))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,L))).next((F=>{E=F;const J=[];for(const G of d){const Y=VO(G,E.get(G.key).overlayedDocument);Y!=null&&J.push(new ga(G.key,Y,bS(Y.value.mapValue),os.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,J,d)})).next((F=>{A=F;const J=F.applyToLocalDocumentSet(E,Q);return p.documentOverlayCache.saveOverlays(C,F.batchId,J)}))})).then((()=>({batchId:A.batchId,changes:OS(E)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new ce(Pt)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,e),await Yu(s,o.changes),await Lf(s.remoteStore)}catch(o){const u=by(o,"Failed to persist write");e.reject(u)}}async function pw(n,t){const e=Rt(n);try{const s=await xP(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ht(c.hu,14607):o.removedDocuments.size>0&&(Ht(c.hu,42227),c.hu=!1))})),await Yu(e,s,t)}catch(s){await Go(s)}}function wA(n,t,e){const s=Rt(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const o=[];s.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=Rt(c);p.onlineState=d;let g=!1;p.queries.forEach(((v,E)=>{for(const A of E.Sa)A.va(d)&&(g=!0)})),g&&Sy(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function T4(n,t,e){const s=Rt(n);s.sharedClientState.updateQueryState(t,"rejected",e);const o=s.Au.get(t),u=o&&o.key;if(u){let c=new ce(gt.comparator);c=c.insert(u,sn.newNoDocument(u,wt.min()));const d=kt().add(u),p=new Of(wt.min(),new Map,new ce(Pt),c,d);await pw(s,p),s.du=s.du.remove(u),s.Au.delete(t),Ry(s)}else await ug(s.localStore,t,!1).then((()=>fg(s,t,e))).catch(Go)}async function E4(n,t){const e=Rt(n),s=t.batch.batchId;try{const o=await CP(e.localStore,t);yw(e,s,null),gw(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await Yu(e,o)}catch(o){await Go(o)}}async function A4(n,t,e){const s=Rt(n);try{const o=await(function(c,d){const p=Rt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((E=>(Ht(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,t);yw(s,t,e),gw(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await Yu(s,o)}catch(o){await Go(o)}}function gw(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function yw(n,t,e){const s=Rt(n);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function fg(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Iu.get(t))n.Tu.delete(s),e&&n.Pu.yu(s,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((s=>{n.Ru.containsKey(s)||vw(n,s)}))}function vw(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(vy(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Ry(n))}function RA(n,t,e){for(const s of e)s instanceof fw?(n.Ru.addReference(s.key,t),b4(n,s)):s instanceof dw?(ht(wy,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,t),n.Ru.containsKey(s.key)||vw(n,s.key)):Tt(19791,{wu:s})}function b4(n,t){const e=t.key,s=e.path.canonicalString();n.du.get(e)||n.Eu.has(s)||(ht(wy,"New document in limbo: "+e),n.Eu.add(s),Ry(n))}function Ry(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new gt(Jt.fromString(t)),s=n.fu.next();n.Au.set(s,new f4(e)),n.du=n.du.insert(e,s),aw(n.remoteStore,new Js(wi(DS(e.path)),s,"TargetPurposeLimboResolution",Rf.ce))}}async function Yu(n,t,e){const s=Rt(n),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,t,e).then((g=>{if((g||e)&&s.isPrimaryClient){const v=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=gy.As(p.targetId,g);u.push(v)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const v=Rt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>et.forEach(g,(A=>et.forEach(A.Es,(C=>v.persistence.referenceDelegate.addReference(E,A.targetId,C))).next((()=>et.forEach(A.ds,(C=>v.persistence.referenceDelegate.removeReference(E,A.targetId,C)))))))))}catch(E){if(!Ko(E))throw E;ht(yy,"Failed to update sequence numbers: "+E)}for(const E of g){const A=E.targetId;if(!E.fromCache){const C=v.Ms.get(A),L=C.snapshotVersion,Q=C.withLastLimboFreeSnapshotVersion(L);v.Ms=v.Ms.insert(A,Q)}}})(s.localStore,u))}async function S4(n,t){const e=Rt(n);if(!e.currentUser.isEqual(t)){ht(wy,"User change. New user:",t.toKey());const s=await nw(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new ot(W.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Yu(e,s.Ls)}}function w4(n,t){const e=Rt(n),s=e.Au.get(t);if(s&&s.hu)return kt().add(s.key);{let o=kt();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const d=e.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function _w(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=pw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=w4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=T4.bind(null,t),t.Pu.H_=o4.bind(null,t.eventManager),t.Pu.yu=l4.bind(null,t.eventManager),t}function R4(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=E4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=A4.bind(null,t),t}class hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Pf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return IP(this.persistence,new SP,t.initialUser,this.serializer)}Cu(t){return new ew(py.mi,this.serializer)}Du(t){return new OP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hf.provider={build:()=>new hf};class I4 extends hf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Ht(this.persistence.referenceDelegate instanceof uf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new uP(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new ew((s=>uf.mi(s,e)),this.serializer)}}class dg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>wA(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=S4.bind(null,this.syncEngine),await n4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new s4})()}createDatastore(t){const e=Pf(t.databaseInfo.databaseId),s=(function(u){return new jP(u)})(t.databaseInfo);return(function(u,c,d,p){return new FP(u,c,d,p)})(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,o,u,c,d){return new GP(s,o,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(e=>wA(this.syncEngine,e,0)),(function(){return _A.v()?new _A:new PP})())}createSyncEngine(t,e){return(function(o,u,c,d,p,g,v){const E=new d4(o,u,c,d,p,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const s=Rt(e);ht(ha,"RemoteStore shutting down."),s.Ea.add(5),await Ku(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dg.provider={build:()=>new dg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):fs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="FirestoreClient";class x4{constructor(t,e,s,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=sy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{ht(mr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ht(mr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=by(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Ap(n,t){n.asyncQueue.verifyOperationInProgress(),ht(mr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await nw(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function IA(n,t){n.asyncQueue.verifyOperationInProgress();const e=await D4(n);ht(mr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((s=>EA(t.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>EA(t.remoteStore,o))),n._onlineComponents=t}async function D4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(mr,"Using user provided OfflineComponentProvider");try{await Ap(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Vo("Error using user provided cache. Falling back to memory cache: "+e),await Ap(n,new hf)}}else ht(mr,"Using default OfflineComponentProvider"),await Ap(n,new I4(void 0));return n._offlineComponents}async function Tw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(mr,"Using user provided OnlineComponentProvider"),await IA(n,n._uninitializedComponentsProvider._online)):(ht(mr,"Using default OnlineComponentProvider"),await IA(n,new dg))),n._onlineComponents}function V4(n){return Tw(n).then((t=>t.syncEngine))}async function N4(n){const t=await Tw(n),e=t.eventManager;return e.onListen=m4.bind(null,t.syncEngine),e.onUnlisten=y4.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=p4.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=v4.bind(null,t.syncEngine),e}function M4(n,t,e={}){const s=new ir;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,p,g){const v=new C4({next:A=>{v.Nu(),c.enqueueAndForget((()=>a4(u,E))),A.fromCache&&p.source==="server"?g.reject(new ot(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new u4(d,v,{includeMetadataChanges:!0,qa:!0});return r4(u,E)})(await N4(n),n.asyncQueue,t,e,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="firestore.googleapis.com",xA=!0;class DA{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Aw,this.ssl=xA}else this.host=t.host,this.ssl=t.ssl??xA;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=tw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<oP)throw new ot(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}FM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ew(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Uf{constructor(t,e,s,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new MM;switch(s.type){case"firstParty":return new LM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=CA.get(e);s&&(ht("ComponentProvider","Removing Datastore"),CA.delete(e),s.terminate())})(this),Promise.resolve()}}function O4(n,t,e,s={}){n=tf(n,Uf);const o=zo(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${e}`;o&&(X1(`https://${d}`),$1("Firestore",!0)),u.host!==Aw&&u.host!==d&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:s};if(!ua(p,c)&&(n._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=nn.MOCK_USER;else{g=oN(s.mockUserToken,n._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ot(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new nn(E)}n._authCredentials=new OM(new hS(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ys(this.firestore,t,this._query)}}class qe{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qe(this.firestore,t,this._key)}toJSON(){return{type:qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(Fu(e,qe._jsonSchema))return new qe(t,s||null,new gt(Jt.fromString(e.referencePath)))}}qe._jsonSchemaVersion="firestore/documentReference/1.0",qe._jsonSchema={type:Ce("string",qe._jsonSchemaVersion),referencePath:Ce("string")};class sr extends ys{constructor(t,e,s){super(t,e,DS(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qe(this.firestore,null,new gt(t))}withConverter(t){return new sr(this.firestore,t,this._path)}}function bw(n,t,...e){if(n=yn(n),fS("collection","path",t),n instanceof Uf){const s=Jt.fromString(t,...e);return HE(s),new sr(n,null,s)}{if(!(n instanceof qe||n instanceof sr))throw new ot(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Jt.fromString(t,...e));return HE(s),new sr(n.firestore,null,s)}}function P4(n,t,...e){if(n=yn(n),arguments.length===1&&(t=sy.newId()),fS("doc","path",t),n instanceof Uf){const s=Jt.fromString(t,...e);return FE(s),new qe(n,null,new gt(s))}{if(!(n instanceof qe||n instanceof sr))throw new ot(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Jt.fromString(t,...e));return FE(s),new qe(n.firestore,n instanceof sr?n.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="AsyncQueue";class NA{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sw(this,"async_queue_retry"),this._c=()=>{const s=Ep();s&&ht(VA,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=Ep();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Ep();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ko(t))throw t;ht(VA,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",MA(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Ay.createAndSchedule(this,t,e,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:MA(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function MA(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Iy extends Uf{constructor(t,e,s,o){super(t,e,s,o),this.type="firestore",this._queue=new NA,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new NA(t),this._firestoreClient=void 0,await t}}}function k4(n,t){const e=typeof n=="object"?n:eS(),s=typeof n=="string"?n:nf,o=ny(e,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=aN("firestore");u&&O4(o,...u)}return o}function Sw(n){if(n._terminated)throw new ot(W.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||L4(n),n._firestoreClient}function L4(n){const t=n._freezeSettings(),e=(function(o,u,c,d){return new eO(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Ew(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new x4(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn(We.fromBase64String(t))}catch(e){throw new ot(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Fn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fu(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Ce("string",Fn._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ot(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ot(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ot(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(t){if(Fu(t,Ii._jsonSchema))return new Ii(t.latitude,t.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Ce("string",Ii._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fu(t,Ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ci(t.vectorValues);throw new ot(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:Ce("string",Ci._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=/^__.*__$/;class j4{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new ga(t,this.data,this.fieldMask,e,this.fieldTransforms):new Hu(t,this.data,e,this.fieldTransforms)}}function ww(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:n})}}class Dy{constructor(t,e,s,o,u,c){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Dy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.gc(t),s}yc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ff(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ww(this.Ac)&&U4.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class B4{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Pf(t)}Cc(t,e,s,o=!1){return new Dy({Ac:t,methodName:e,Dc:s,path:$e.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vy(n){const t=n._freezeSettings(),e=Pf(n._databaseId);return new B4(n._databaseId,!!t.ignoreUndefinedProperties,e)}function z4(n,t,e,s,o,u={}){const c=n.Cc(u.merge||u.mergeFields?2:0,t,e,o);xw("Data must be an object, but it was:",c,s);const d=Iw(s,c);let p,g;if(u.merge)p=new Jn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const A=q4(t,E,e);if(!c.contains(A))throw new ot(W.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);H4(v,A)||v.push(A)}p=new Jn(v),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new j4(new qn(d),p,g)}class Ny extends xy{_toFieldTransform(t){return new IO(t.path,new Ou)}isEqual(t){return t instanceof Ny}}function Rw(n,t,e,s=!1){return My(e,n.Cc(s?4:3,t))}function My(n,t){if(Cw(n=yn(n)))return xw("Unsupported field value:",t,n),Iw(n,t);if(n instanceof xy)return(function(s,o){if(!ww(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const d of s){let p=My(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(n,t)}return(function(s,o){if((s=yn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return SO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ie.fromDate(s);return{timestampValue:lf(o.serializer,u)}}if(s instanceof ie){const u=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lf(o.serializer,u)}}if(s instanceof Ii)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:YS(o.serializer,s._byteString)};if(s instanceof qe){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:dy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ci)return(function(c,d){return{mapValue:{fields:{[ES]:{stringValue:AS},[sf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return cy(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${wf(s)}`)})(n,t)}function Iw(n,t){const e={};return pS(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):da(n,((s,o)=>{const u=My(o,t.mc(s));u!=null&&(e[s]=u)})),{mapValue:{fields:e}}}function Cw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ie||n instanceof Ii||n instanceof Fn||n instanceof qe||n instanceof xy||n instanceof Ci)}function xw(n,t,e){if(!Cw(e)||!dS(e)){const s=wf(e);throw s==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+s)}}function q4(n,t,e){if((t=yn(t))instanceof Cy)return t._internalPath;if(typeof t=="string")return Dw(n,t);throw ff("Field path arguments must be of type string or ",n,!1,void 0,e)}const F4=new RegExp("[~\\*/\\[\\]]");function Dw(n,t,e){if(t.search(F4)>=0)throw ff(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Cy(...t.split("."))._internalPath}catch{throw ff(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function ff(n,t,e,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new ot(W.INVALID_ARGUMENT,d+n+p)}function H4(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(t,e,s,o,u){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new G4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(jf("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class G4 extends Oy{data(){return super.data()}}function jf(n,t){return typeof t=="string"?Dw(n,t):t instanceof Cy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ot(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Py{}class Bf extends Py{}function OA(n,t,...e){let s=[];t instanceof Py&&s.push(t),s=s.concat(e),(function(u){const c=u.filter((p=>p instanceof ky)).length,d=u.filter((p=>p instanceof zf)).length;if(c>1||c>0&&d>0)throw new ot(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class zf extends Bf{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new zf(t,e,s)}_apply(t){const e=this._parse(t);return Vw(t._query,e),new ys(t.firestore,t.converter,sg(t._query,e))}_parse(t){const e=Vy(t.firestore);return(function(u,c,d,p,g,v,E){let A;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ot(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){jA(E,v);const L=[];for(const Q of E)L.push(UA(p,u,Q));A={arrayValue:{values:L}}}else A=UA(p,u,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||jA(E,v),A=Rw(d,c,E,v==="in"||v==="not-in");return Ie.create(g,v,A)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function PA(n,t,e){const s=t,o=jf("where",n);return zf._create(o,s,e)}class ky extends Py{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new ky(t,e)}_parse(t){const e=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return e.length===1?e[0]:ei.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,u){let c=o;const d=u.getFlattenedFilters();for(const p of d)Vw(c,p),c=sg(c,p)})(t._query,e),new ys(t.firestore,t.converter,sg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ly extends Bf{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Ly(t,e)}_apply(t){const e=(function(o,u,c){if(o.startAt!==null)throw new ot(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ot(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mu(u,c)})(t._query,this._field,this._direction);return new ys(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new ma(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,e))}}function kA(n,t="asc"){const e=t,s=jf("orderBy",n);return Ly._create(s,e)}class Uy extends Bf{constructor(t,e,s){super(),this.type=t,this._limit=e,this._limitType=s}static _create(t,e,s){return new Uy(t,e,s)}_apply(t){return new ys(t.firestore,t.converter,af(t._query,this._limit,this._limitType))}}function LA(n){return HM("limit",n),Uy._create("limit",n,"F")}class jy extends Bf{constructor(t,e,s){super(),this.type=t,this._docOrFields=e,this._inclusive=s}static _create(t,e,s){return new jy(t,e,s)}_apply(t){const e=Q4(t,this.type,this._docOrFields,this._inclusive);return new ys(t.firestore,t.converter,(function(o,u){return new ma(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)})(t._query,e))}}function Y4(...n){return jy._create("startAfter",n,!1)}function Q4(n,t,e,s){if(e[0]=yn(e[0]),e[0]instanceof Oy)return(function(u,c,d,p,g){if(!p)throw new ot(W.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const v=[];for(const E of Ao(u))if(E.field.isKeyField())v.push(rf(c,p.key));else{const A=p.data.field(E.field);if(Cf(A))throw new ot(W.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(A===null){const C=E.field.canonicalString();throw new ot(W.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${C}' (used as the orderBy) does not exist.`)}v.push(A)}return new Po(v,g)})(n._query,n.firestore._databaseId,t,e[0]._document,s);{const o=Vy(n.firestore);return(function(c,d,p,g,v,E){const A=c.explicitOrderBy;if(v.length>A.length)throw new ot(W.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const C=[];for(let L=0;L<v.length;L++){const Q=v[L];if(A[L].field.isKeyField()){if(typeof Q!="string")throw new ot(W.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof Q}`);if(!uy(c)&&Q.indexOf("/")!==-1)throw new ot(W.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${Q}' contains a slash.`);const F=c.path.child(Jt.fromString(Q));if(!gt.isDocumentKey(F))throw new ot(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${F}' is not because it contains an odd number of segments.`);const J=new gt(F);C.push(rf(d,J))}else{const F=Rw(p,g,Q);C.push(F)}}return new Po(C,E)})(n._query,n.firestore._databaseId,o,t,e,s)}}function UA(n,t,e){if(typeof(e=yn(e))=="string"){if(e==="")throw new ot(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uy(t)&&e.indexOf("/")!==-1)throw new ot(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(Jt.fromString(e));if(!gt.isDocumentKey(s))throw new ot(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return rf(n,new gt(s))}if(e instanceof qe)return rf(n,e._key);throw new ot(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wf(e)}.`)}function jA(n,t){if(!Array.isArray(n)||n.length===0)throw new ot(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Vw(n,t){const e=(function(o,u){for(const c of o)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ot(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class X4{convertValue(t,e="none"){switch(fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return da(t,((o,u)=>{s[o]=this.convertValue(u,e)})),s}convertVectorValue(t){const e=t.fields?.[sf].arrayValue?.values?.map((s=>_e(s.doubleValue)));return new Ci(e)}convertGeoPoint(t){return new Ii(_e(t.latitude),_e(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=xf(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(Du(t));default:return null}}convertTimestamp(t){const e=cr(t);return new ie(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=Jt.fromString(t);Ht(JS(s),9688,{name:t});const o=new Vu(s.get(1),s.get(3)),u=new gt(s.popFirst(5));return o.isEqual(e)||fs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(n,t,e){let s;return s=n?n.toFirestore(t):t,s}class Dh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class So extends Oy{constructor(t,e,s,o,u,c){super(t,e,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(jf("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=So._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}So._jsonSchemaVersion="firestore/documentSnapshot/1.0",So._jsonSchema={type:Ce("string",So._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class qh extends So{data(t={}){return super.data(t)}}class wo{constructor(t,e,s,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Dh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new qh(this._firestore,this._userDataWriter,s.key,s,new Dh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ot(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new qh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Dh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new qh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Dh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:W4(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=wo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=sy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function W4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:n})}}wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:Ce("string",wo._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Z4 extends X4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new qe(this.firestore,null,e)}}function J4(n){n=tf(n,ys);const t=tf(n.firestore,Iy),e=Sw(t),s=new Z4(t);return K4(n._query),M4(e,n._query).then((o=>new wo(t,s,n,o)))}function Nw(n,t){const e=tf(n.firestore,Iy),s=P4(n),o=$4(n.converter,t);return tk(e,[z4(Vy(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,os.exists(!1))]).then((()=>s))}function tk(n,t){return(function(s,o){const u=new ir;return s.asyncQueue.enqueueAndForget((async()=>_4(await V4(s),o,u))),u.promise})(Sw(n),t)}function Mw(){return new Ny("serverTimestamp")}(function(t,e=!0){(function(o){Ho=o})(Fo),lr(new cs("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new Iy(new PM(s.getProvider("auth-internal")),new UM(c,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ot(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vu(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:e,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),as(jE,BE,t),as(jE,BE,"esm2020")})();var ek="firebase",nk="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(ek,nk,"app");function Ow(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ik=Ow,Pw=new qo("auth","Firebase",Ow());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=new Sf("@firebase/auth");function sk(n,...t){df.logLevel<=Ot.WARN&&df.warn(`Auth (${Fo}): ${n}`,...t)}function Fh(n,...t){df.logLevel<=Ot.ERROR&&df.error(`Auth (${Fo}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(n,...t){throw By(n,...t)}function xi(n,...t){return By(n,...t)}function kw(n,t,e){const s={...ik(),[t]:e};return new qo("auth","Firebase",s).create(t,{appName:n.name})}function rr(n){return kw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function By(n,...t){if(typeof n!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(e,...s)}return Pw.create(n,...t)}function bt(n,t,...e){if(!n)throw By(t,...e)}function ss(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Fh(t),new Error(t)}function ps(n,t){n||ss(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(){return typeof self<"u"&&self.location?.href||""}function rk(){return BA()==="http:"||BA()==="https:"}function BA(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rk()||dN()||"connection"in navigator)?navigator.onLine:!0}function ok(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t,e){this.shortDelay=t,this.longDelay=e,ps(e>t,"Short delay should be less than long delay!"),this.isMobile=cN()||mN()}get(){return ak()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(n,t){ps(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ck=new Qu(3e4,6e4);function qf(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Qo(n,t,e,s,o={}){return Uw(n,o,async()=>{let u={},c={};s&&(t==="GET"?c=s:u={body:JSON.stringify(s)});const d=qu({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:p,...u};return fN()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&zo(n.emulatorConfig.host)&&(g.credentials="include"),Lw.fetch()(await Bw(n,n.config.apiHost,e,d),g)})}async function Uw(n,t,e){n._canInitEmulator=!1;const s={...lk,...t};try{const o=new hk(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Vh(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Vh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Vh(n,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw kw(n,v,g);ms(n,v)}}catch(o){if(o instanceof gs)throw o;ms(n,"network-request-failed",{message:String(o)})}}async function jw(n,t,e,s,o={}){const u=await Qo(n,t,e,s,o);return"mfaPendingCredential"in u&&ms(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function Bw(n,t,e,s){const o=`${t}${e}?${s}`,u=n,c=u.config.emulator?zy(n.config,o):`${n.config.apiScheme}://${o}`;return uk.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class hk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(xi(this.auth,"network-request-failed")),ck.get())})}}function Vh(n,t,e){const s={appName:n.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const o=xi(n,t,s);return o.customData._tokenResponse=e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(n,t){return Qo(n,"POST","/v1/accounts:delete",t)}async function mf(n,t){return Qo(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function dk(n,t=!1){const e=yn(n),s=await e.getIdToken(t),o=qy(s);bt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:Eu(bp(o.auth_time)),issuedAtTime:Eu(bp(o.iat)),expirationTime:Eu(bp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function bp(n){return Number(n)*1e3}function qy(n){const[t,e,s]=n.split(".");if(t===void 0||e===void 0||s===void 0)return Fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=G1(e);return o?JSON.parse(o):(Fh("Failed to decode base64 JWT payload"),null)}catch(o){return Fh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function zA(n){const t=qy(n);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(n,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof gs&&mk(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function mk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pf(n){const t=n.auth,e=await n.getIdToken(),s=await Lu(n,mf(t,{idToken:e}));bt(s?.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?zw(o.providerUserInfo):[],c=yk(n.providerData,u),d=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,g=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new pg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function gk(n){const t=yn(n);await pf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function yk(n,t){return[...n.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function zw(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vk(n,t){const e=await Uw(n,{},async()=>{const s=qu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,c=await Bw(n,o,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return n.emulatorConfig&&zo(n.emulatorConfig.host)&&(p.credentials="include"),Lw.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function _k(n,t){return Qo(n,"POST","/v2/accounts:revokeToken",qf(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):zA(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const e=zA(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:o,expiresIn:u}=await vk(t,e);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:o,expirationTime:u}=e,c=new Ro;return s&&(bt(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),o&&(bt(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(bt(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(n,t){bt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ti{constructor({uid:t,auth:e,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new pk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Lu(this,this.stsTokenManager.getToken(this.auth,t));return bt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return dk(this,t)}reload(){return gk(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await pf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(rr(this.auth));const t=await this.getIdToken();return await Lu(this,fk(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const s=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,d=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:C,providerData:L,stsTokenManager:Q}=e;bt(E&&Q,t,"internal-error");const F=Ro.fromJSON(this.name,Q);bt(typeof E=="string",t,"internal-error"),Ys(s,t.name),Ys(o,t.name),bt(typeof A=="boolean",t,"internal-error"),bt(typeof C=="boolean",t,"internal-error"),Ys(u,t.name),Ys(c,t.name),Ys(d,t.name),Ys(p,t.name),Ys(g,t.name),Ys(v,t.name);const J=new ti({uid:E,auth:t,email:o,emailVerified:A,displayName:s,isAnonymous:C,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:F,createdAt:g,lastLoginAt:v});return L&&Array.isArray(L)&&(J.providerData=L.map(G=>({...G}))),p&&(J._redirectEventId=p),J}static async _fromIdTokenResponse(t,e,s=!1){const o=new Ro;o.updateFromServerResponse(e);const u=new ti({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await pf(u),u}static async _fromGetAccountInfoResponse(t,e,s){const o=e.users[0];bt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?zw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,d=new Ro;d.updateFromIdToken(s);const p=new ti({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new pg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=new Map;function rs(n){ps(n instanceof Function,"Expected a class definition");let t=qA.get(n);return t?(ps(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,qA.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}qw.type="NONE";const FA=qw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(n,t,e){return`firebase:${n}:${t}:${e}`}class Io{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Hh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await mf(this.auth,{idToken:t}).catch(()=>{});return e?ti._fromGetAccountInfoResponse(this.auth,e,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new Io(rs(FA),t,s);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||rs(FA);const c=Hh(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const A=await mf(t,{idToken:v}).catch(()=>{});if(!A)break;E=await ti._fromGetAccountInfoResponse(t,A,v)}else E=ti._fromJSON(t,v);g!==u&&(d=E),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Io(u,t,s):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Io(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Kw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Qw(t))return"Blackberry";if(Xw(t))return"Webos";if(Hw(t))return"Safari";if((t.includes("chrome/")||Gw(t))&&!t.includes("edge/"))return"Chrome";if(Yw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(e);if(s?.length===2)return s[1]}return"Other"}function Fw(n=an()){return/firefox\//i.test(n)}function Hw(n=an()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Gw(n=an()){return/crios\//i.test(n)}function Kw(n=an()){return/iemobile/i.test(n)}function Yw(n=an()){return/android/i.test(n)}function Qw(n=an()){return/blackberry/i.test(n)}function Xw(n=an()){return/webos/i.test(n)}function Fy(n=an()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Tk(n=an()){return Fy(n)&&!!window.navigator?.standalone}function Ek(){return pN()&&document.documentMode===10}function $w(n=an()){return Fy(n)||Yw(n)||Xw(n)||Qw(n)||/windows phone/i.test(n)||Kw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(n,t=[]){let e;switch(n){case"Browser":e=HA(an());break;case"Worker":e=`${HA(an())}-${n}`;break;default:e=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Fo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=u=>new Promise((c,d)=>{try{const p=t(u);c(p)}catch(p){d(p)}});s.onAbort=e,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(n,t={}){return Qo(n,"GET","/v2/passwordPolicy",qf(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=6;class wk{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??Sk,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(t,e,s,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GA(this),this.idTokenSubscription=new GA(this),this.beforeStateQueue=new Ak(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=rs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Io.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await mf(this,{idToken:t}),s=await ti._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let s=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await pf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ok()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject(rr(this));const e=t?yn(t):null;return e&&bt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await bk(this),e=new wk(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new qo("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await _k(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&rs(t)||this._popupRedirectResolver;bt(e,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[rs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,s,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ww(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&sk(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ff(n){return yn(n)}class GA{constructor(t){this.auth=t,this.observer=null,this.addObserver=AN(e=>this.observer=e)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ik(n){Hy=n}function Ck(n){return Hy.loadJS(n)}function xk(){return Hy.gapiScript}function Dk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(n,t){const e=ny(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(ua(u,t??{}))return o;ms(o,"already-initialized")}return e.initialize({options:t})}function Nk(n,t){const e=t?.persistence||[],s=(Array.isArray(e)?e:[e]).map(rs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t?.popupRedirectResolver)}function Mk(n,t,e){const s=Ff(n);bt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=Zw(t),{host:c,port:d}=Ok(t),p=d===null?"":`:${d}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){bt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),bt(ua(g,s.config.emulator)&&ua(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,zo(c)?(X1(`${u}//${c}${p}`),$1("Auth",!0)):Pk()}function Zw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function Ok(n){const t=Zw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:KA(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:KA(c)}}}function KA(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function Pk(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ss("not implemented")}_getIdTokenResponse(t){return ss("not implemented")}_linkToIdToken(t,e){return ss("not implemented")}_getReauthenticationResolver(t){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(n,t){return jw(n,"POST","/v1/accounts:signInWithIdp",qf(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="http://localhost";class fa extends Jw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new fa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ms("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=e;if(!s||!o)return null;const c=new fa(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Co(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,Co(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Co(t,e)}buildRequest(){const t={requestUri:kk,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=qu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends tR{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Xu{constructor(){super("facebook.com")}static credential(t){return fa._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Xu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return fa._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return $s.credential(e,s)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Xu{constructor(){super("github.com")}static credential(t){return fa._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Xu{constructor(){super("twitter.com")}static credential(t,e){return fa._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return Zs.credential(e,s)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(n,t){return jw(n,"POST","/v1/accounts:signUp",qf(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,o=!1){const u=await ti._fromIdTokenResponse(t,s,o),c=YA(s);return new pr({user:u,providerId:c,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const o=YA(s);return new pr({user:t,providerId:o,_tokenResponse:s,operationType:e})}}function YA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uk(n){if(Zn(n.app))return Promise.reject(rr(n));const t=Ff(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new pr({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await Lk(t,{returnSecureToken:!0}),s=await pr._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends gs{constructor(t,e,s,o){super(e.code,e.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,gf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,o){return new gf(t,e,s,o)}}function eR(n,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?gf._fromErrorAndOperation(n,u,t,s):u})}async function jk(n,t,e=!1){const s=await Lu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return pr._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(n,t,e=!1){const{auth:s}=n;if(Zn(s.app))return Promise.reject(rr(s));const o="reauthenticate";try{const u=await Lu(n,eR(s,o,t,n),e);bt(u.idToken,s,"internal-error");const c=qy(u.idToken);bt(c,s,"internal-error");const{sub:d}=c;return bt(n.uid===d,s,"user-mismatch"),pr._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ms(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(n,t,e=!1){if(Zn(n.app))return Promise.reject(rr(n));const s="signIn",o=await eR(n,s,t),u=await pr._fromIdTokenResponse(n,s,o);return e||await n._updateCurrentUser(u.user),u}function qk(n,t,e,s){return yn(n).onIdTokenChanged(t,e,s)}function Fk(n,t,e){return yn(n).beforeAuthStateChanged(t,e)}function Hk(n,t,e,s){return yn(n).onAuthStateChanged(t,e,s)}const yf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(yf,"1"),this.storage.removeItem(yf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=1e3,Kk=10;class iR extends nR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$w(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),o=this.localCache[e];s!==o&&t(e,o,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!e&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);Ek()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Kk):o()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},Gk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}iR.type="LOCAL";const Yk=iR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR extends nR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}sR.type="SESSION";const rR=sR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const s=new Hf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(e.origin,u)),p=await Qk(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(n="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const g=Gy("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(A.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return window}function $k(n){Di().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function Wk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Zk(){return navigator?.serviceWorker?.controller||null}function Jk(){return aR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="firebaseLocalStorageDb",t6=1,vf="firebaseLocalStorage",lR="fbase_key";class $u{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Gf(n,t){return n.transaction([vf],t?"readwrite":"readonly").objectStore(vf)}function e6(){const n=indexedDB.deleteDatabase(oR);return new $u(n).toPromise()}function gg(){const n=indexedDB.open(oR,t6);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(vf,{keyPath:lR})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(vf)?t(s):(s.close(),await e6(),t(await gg()))})})}async function QA(n,t,e){const s=Gf(n,!0).put({[lR]:t,value:e});return new $u(s).toPromise()}async function n6(n,t){const e=Gf(n,!1).get(t),s=await new $u(e).toPromise();return s===void 0?null:s.value}function XA(n,t){const e=Gf(n,!0).delete(t);return new $u(e).toPromise()}const i6=800,s6=3;class uR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>s6)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hf._getInstance(Jk()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Wk(),!this.activeServiceWorker)return;this.sender=new Xk(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Zk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gg();return await QA(t,yf,"1"),await XA(t,yf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>QA(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>n6(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>XA(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Gf(o,!1).getAll();return new $u(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uR.type="LOCAL";const r6=uR;new Qu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(n,t){return t?rs(t):(bt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky extends Jw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Co(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Co(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Co(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function o6(n){return zk(n.auth,new Ky(n),n.bypassAuthState)}function l6(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),Bk(e,new Ky(n),n.bypassAuthState)}async function u6(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),jk(e,new Ky(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t,e,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:o,tenantId:u,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return o6;case"linkViaPopup":case"linkViaRedirect":return u6;case"reauthViaPopup":case"reauthViaRedirect":return l6;default:ms(this.auth,"internal-error")}}resolve(t){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=new Qu(2e3,1e4);class To extends cR{constructor(t,e,s,o,u){super(t,e,o,u),this.provider=s,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const t=Gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,c6.get())};t()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="pendingRedirect",Gh=new Map;class f6 extends cR{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=Gh.get(this.auth._key());if(!t){try{const s=await d6(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}Gh.set(this.auth._key(),t)}return this.bypassAuthState||Gh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d6(n,t){const e=g6(t),s=p6(n);if(!await s._isAvailable())return!1;const o=await s._get(e)==="true";return await s._remove(e),o}function m6(n,t){Gh.set(n._key(),t)}function p6(n){return rs(n._redirectPersistence)}function g6(n){return Hh(h6,n.config.apiKey,n.name)}async function y6(n,t,e=!1){if(Zn(n.app))return Promise.reject(rr(n));const s=Ff(n),o=a6(s,t),c=await new f6(s,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=600*1e3;class _6{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!T6(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!hR(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";e.onError(xi(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=v6&&this.cachedEventUids.clear(),this.cachedEventUids.has($A(t))}saveEventToCache(t){this.cachedEventUids.add($A(t)),this.lastProcessedEventTime=Date.now()}}function $A(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function hR({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function T6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E6(n,t={}){return Qo(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,b6=/^https?/;async function S6(n){if(n.config.emulator)return;const{authorizedDomains:t}=await E6(n);for(const e of t)try{if(w6(e))return}catch{}ms(n,"unauthorized-domain")}function w6(n){const t=mg(),{protocol:e,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===s}if(!b6.test(e))return!1;if(A6.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=new Qu(3e4,6e4);function WA(){const n=Di().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function I6(n){return new Promise((t,e)=>{function s(){WA(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{WA(),e(xi(n,"network-request-failed"))},timeout:R6.get()})}if(Di().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Di().gapi?.load)s();else{const o=Dk("iframefcb");return Di()[o]=()=>{gapi.load?s():e(xi(n,"network-request-failed"))},Ck(`${xk()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw Kh=null,t})}let Kh=null;function C6(n){return Kh=Kh||I6(n),Kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=new Qu(5e3,15e3),D6="__/auth/iframe",V6="emulator/auth/iframe",N6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O6(n){const t=n.config;bt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?zy(t,V6):`https://${n.config.authDomain}/${D6}`,s={apiKey:t.apiKey,appName:n.name,v:Fo},o=M6.get(n.config.apiHost);o&&(s.eid=o);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${e}?${qu(s).slice(1)}`}async function P6(n){const t=await C6(n),e=Di().gapi;return bt(e,n,"internal-error"),t.open({where:document.body,url:O6(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N6,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=xi(n,"network-request-failed"),d=Di().setTimeout(()=>{u(c)},x6.get());function p(){Di().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L6=500,U6=600,j6="_blank",B6="http://localhost";class ZA{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z6(n,t,e,s=L6,o=U6){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...k6,width:s.toString(),height:o.toString(),top:u,left:c},g=an().toLowerCase();e&&(d=Gw(g)?j6:e),Fw(g)&&(t=t||B6,p.scrollbars="yes");const v=Object.entries(p).reduce((A,[C,L])=>`${A}${C}=${L},`,"");if(Tk(g)&&d!=="_self")return q6(t||"",d),new ZA(null);const E=window.open(t||"",d,v);bt(E,n,"popup-blocked");try{E.focus()}catch{}return new ZA(E)}function q6(n,t){const e=document.createElement("a");e.href=n,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6="__/auth/handler",H6="emulator/auth/handler",G6=encodeURIComponent("fac");async function JA(n,t,e,s,o,u){bt(n.config.authDomain,n,"auth-domain-config-required"),bt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:s,v:Fo,eventId:o};if(t instanceof tR){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",EN(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(t instanceof Xu){const v=t.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),g=p?`#${G6}=${encodeURIComponent(p)}`:"";return`${K6(n)}?${qu(d).slice(1)}${g}`}function K6({config:n}){return n.emulator?zy(n,H6):`https://${n.authDomain}/${F6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="webStorageSupport";class Y6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rR,this._completeRedirectFn=y6,this._overrideRedirectResult=m6}async _openPopup(t,e,s,o){ps(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await JA(t,e,s,mg(),o);return z6(t,u,Gy())}async _openRedirect(t,e,s,o){await this._originValidation(t);const u=await JA(t,e,s,mg(),o);return $k(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(ps(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await P6(t),s=new _6(t);return e.register("authEvent",o=>(bt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Sp,{type:Sp},o=>{const u=o?.[0]?.[Sp];u!==void 0&&e(!!u),ms(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=S6(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return $w()||Hw()||Fy()}}const Q6=Y6;var tb="@firebase/auth",eb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W6(n){lr(new cs("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;bt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ww(n)},g=new Rk(s,o,u,p);return Nk(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),lr(new cs("auth-internal",t=>{const e=Ff(t.getProvider("auth").getImmediate());return(s=>new X6(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(tb,eb,$6(n)),as(tb,eb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=300,J6=Q1("authIdTokenMaxAge")||Z6;let nb=null;const t3=n=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>J6)return;const o=e?.token;nb!==o&&(nb=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function e3(n=eS()){const t=ny(n,"auth");if(t.isInitialized())return t.getImmediate();const e=Vk(n,{popupRedirectResolver:Q6,persistence:[r6,Yk,rR]}),s=Q1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=t3(u.toString());Fk(e,c,()=>c(e.currentUser)),qk(e,d=>c(d))}}const o=K1("auth");return o&&Mk(e,`http://${o}`),e}function n3(){return document.getElementsByTagName("head")?.[0]??document}Ik({loadJS(n){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=o=>{const u=xi("internal-error");u.customData=o,e(u)},s.type="text/javascript",s.charset="UTF-8",n3().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W6("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=new Map,s3={activated:!1,tokenObservers:[]};function ni(n){return i3.get(n)||{...s3}}const ib={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(t,e,s,o,u){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new Kp,this.pending.promise.catch(e=>{}),await a3(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new Kp,this.pending.promise.catch(e=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}function a3(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},_f=new qo("appCheck","AppCheck",o3);function fR(n){if(!ni(n).activated)throw _f.create("use-before-activation",{appName:n.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="firebase-app-check-database",u3=1,yg="firebase-app-check-store";let Nh=null;function c3(){return Nh||(Nh=new Promise((n,t)=>{try{const e=indexedDB.open(l3,u3);e.onsuccess=s=>{n(s.target.result)},e.onerror=s=>{t(_f.create("storage-open",{originalErrorMessage:s.target.error?.message}))},e.onupgradeneeded=s=>{const o=s.target.result;switch(s.oldVersion){case 0:o.createObjectStore(yg,{keyPath:"compositeKey"})}}}catch(e){t(_f.create("storage-open",{originalErrorMessage:e?.message}))}}),Nh)}function h3(n,t){return f3(d3(n),t)}async function f3(n,t){const s=(await c3()).transaction(yg,"readwrite"),u=s.objectStore(yg).put({compositeKey:n,value:t});return new Promise((c,d)=>{u.onsuccess=p=>{c()},s.onerror=p=>{d(_f.create("storage-set",{originalErrorMessage:p.target.error?.message}))}})}function d3(n){return`${n.options.appId}-${n.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=new Sf("@firebase/app-check");function sb(n,t){return W1()?h3(n,t).catch(e=>{vg.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3={error:"UNKNOWN_ERROR"};function p3(n){return ty.encodeString(JSON.stringify(n),!1)}async function _g(n,t=!1,e=!1){const s=n.app;fR(s);const o=ni(s);let u=o.token,c;if(u&&!hu(u)&&(o.token=void 0,u=void 0),!u){const g=await o.cachedTokenPromise;g&&(hu(g)?u=g:await sb(s,void 0))}if(!t&&u&&hu(u))return{token:u.token};let d=!1;try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),d=!0),u=await ni(s).exchangeTokenPromise}catch(g){g.code==="appCheck/throttled"||g.code==="appCheck/initial-throttle"?vg.warn(g.message):e&&vg.error(g),c=g}let p;return u?c?hu(u)?p={token:u.token,internalError:c}:p=ab(c):(p={token:u.token},o.token=u,await sb(s,u)):p=ab(c),d&&_3(s,p),p}async function g3(n){const t=n.app;fR(t);const{provider:e}=ni(t);{const{token:s}=await e.getToken();return{token:s}}}function y3(n,t,e,s){const{app:o}=n,u=ni(o),c={next:e,error:s,type:t};if(u.tokenObservers=[...u.tokenObservers,c],u.token&&hu(u.token)){const d=u.token;Promise.resolve().then(()=>{e({token:d.token}),rb(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>rb(n))}function dR(n,t){const e=ni(n),s=e.tokenObservers.filter(o=>o.next!==t);s.length===0&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=s}function rb(n){const{app:t}=n,e=ni(t);let s=e.tokenRefresher;s||(s=v3(n),e.tokenRefresher=s),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function v3(n){const{app:t}=n;return new r3(async()=>{const e=ni(t);let s;if(e.token?s=await _g(n,!0):s=await _g(n),s.error)throw s.error;if(s.internalError)throw s.internalError},()=>!0,()=>{const e=ni(t);if(e.token){let s=e.token.issuedAtTimeMillis+(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)*.5+3e5;const o=e.token.expireTimeMillis-300*1e3;return s=Math.min(s,o),Math.max(0,s-Date.now())}else return 0},ib.RETRIAL_MIN_WAIT,ib.RETRIAL_MAX_WAIT)}function _3(n,t){const e=ni(n).tokenObservers;for(const s of e)try{s.type==="EXTERNAL"&&t.error!=null?s.error(t.error):s.next(t)}catch{}}function hu(n){return n.expireTimeMillis-Date.now()>0}function ab(n){return{token:p3(m3),error:n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=ni(this.app);for(const e of t)dR(this.app,e.next);return Promise.resolve()}}function E3(n,t){return new T3(n,t)}function A3(n){return{getToken:t=>_g(n,t),getLimitedUseToken:()=>g3(n),addTokenListener:t=>y3(n,"INTERNAL",t),removeTokenListener:t=>dR(n.app,t)}}const b3="@firebase/app-check",S3="0.11.0",w3="app-check",ob="app-check-internal";function R3(){lr(new cs(w3,n=>{const t=n.getProvider("app").getImmediate(),e=n.getProvider("heartbeat");return E3(t,e)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(ob).initialize()})),lr(new cs(ob,n=>{const t=n.getProvider("app-check").getImmediate();return A3(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),as(b3,S3)}R3();const I3={apiKey:"AIzaSyCVRcuBtFGplZTET2Qj6ZLkihQyClVNIvw",authDomain:"wedding-invite-783c6.firebaseapp.com",projectId:"wedding-invite-783c6",storageBucket:"wedding-invite-783c6.firebasestorage.app",messagingSenderId:"733714547005",appId:"1:733714547005:web:80806fcf0fdfc3e2d4c554",measurementId:"G-GMES6MDQPC"},mR=tS(I3),lb=e3(mR),pR=k4(mR),gR=()=>new Promise((n,t)=>{const e=Hk(lb,async s=>{if(s)e(),n(s.uid);else try{const o=await Uk(lb);e(),n(o.user.uid)}catch(o){t(o)}})}),Tg=bw(pR,"comments"),C3=bw(pR,"rsvps");async function x3(n){const t=await gR();await Nw(Tg,{...n,uid:t,createdAt:Mw()})}async function D3(n){const t=await gR();await Nw(C3,{...n,uid:t,createdAt:Mw()})}async function V3(n,t=20,e){const s=e?OA(Tg,PA("invitationId","==",n),kA("createdAt","desc"),Y4(e),LA(t)):OA(Tg,PA("invitationId","==",n),kA("createdAt","desc"),LA(t)),o=await J4(s),u=o.docs.map(d=>({id:d.id,...d.data()})),c=o.docs.at(-1);return{items:u,nextCursor:c}}function N3({invitationId:n}){const[t,e]=ft.useState([]),[s,o]=ft.useState(null),[u,c]=ft.useState(""),[d,p]=ft.useState(""),[g,v]=ft.useState(!1);async function E(C){v(!0);const{items:L,nextCursor:Q}=await V3(n,3,C);e(F=>C?[...F,...L]:L),o(Q??null),v(!1)}ft.useEffect(()=>{E()},[n]);async function A(C){C.preventDefault(),!(!u.trim()||!d.trim())&&(await x3({invitationId:n,displayName:u.trim(),message:d.trim()}),c(""),p(""),E())}return O.jsxs("div",{className:"space-y-6",children:[O.jsxs("form",{onSubmit:A,className:"rounded-2xl bg-white p-5 shadow space-y-4",children:[O.jsx("input",{placeholder:"",value:u,onChange:C=>c(C.target.value),maxLength:20,required:!0,className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:border-pink-300 focus:outline-none focus:ring-2 focus:ring-pink-200"}),O.jsx("textarea",{placeholder:"   ( 100)",value:d,onChange:C=>p(C.target.value),rows:3,maxLength:100,required:!0,className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm resize-none focus:border-pink-300 focus:outline-none focus:ring-2 focus:ring-pink-200"}),O.jsx("button",{type:"submit",disabled:g,className:"w-full rounded-lg bg-pink-500 py-2.5 text-sm font-medium text-white transition-colors hover:bg-pink-600 disabled:bg-gray-300 disabled:cursor-not-allowed",children:g?" ...":"  "})]}),t.length>0&&O.jsx("div",{className:"space-y-3",children:t.map(C=>O.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow",children:[O.jsx("div",{className:"font-semibold text-gray-800 text-sm",children:C.displayName}),O.jsx("div",{className:"mt-2 text-sm text-gray-600 whitespace-pre-wrap leading-relaxed",children:C.message})]},C.id))}),s&&O.jsx("div",{className:"text-center",children:O.jsx("button",{onClick:()=>E(s),disabled:g,className:"rounded-lg bg-gray-100 px-6 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200 disabled:bg-gray-50 disabled:cursor-not-allowed",children:g?" ...":" "})}),t.length===0&&!g&&O.jsx("div",{className:"rounded-2xl bg-white p-8 shadow text-center",children:O.jsx("div",{className:"text-gray-500 text-sm",children:"    ! "})})]})}function M3({invitationId:n}){const[t,e]=ft.useState(!1),[s,o]=ft.useState(!1);async function u(c){c.preventDefault();const d=new FormData(c.currentTarget),p=Object.fromEntries(d.entries());o(!0);try{await D3({invitationId:n,name:p.name,phone:"",attend:"",headcount:0}),e(!0)}finally{o(!1)}}return t?O.jsxs("div",{className:"rounded-2xl bg-white p-6 text-center shadow",children:[O.jsx("div",{className:"inline-flex h-12 w-12 items-center justify-center rounded-full bg-green-100 text-green-600",children:O.jsx(q1,{})}),O.jsx("div",{className:"mt-3 text-lg font-semibold",children:" "}),O.jsx("p",{className:"mt-1 text-gray-600 text-sm",children:"  ."})]}):O.jsxs("form",{onSubmit:u,className:"rounded-2xl bg-white p-5 shadow space-y-4",children:[O.jsx("div",{children:O.jsx("input",{name:"name",required:!0,className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:border-pink-300 focus:outline-none focus:ring-2 focus:ring-pink-200",placeholder:""})}),O.jsx("button",{type:"submit",disabled:s,className:"w-full rounded-lg bg-pink-500 py-2.5 text-sm font-medium text-white transition-colors hover:bg-pink-600 disabled:bg-gray-300 disabled:cursor-not-allowed",children:s?" ...":"  "})]})}function O3({lat:n,lng:t}){const e=ft.useRef(null);return ft.useEffect(()=>{window.kakao.maps.load(()=>{if(!e.current)return;const s=new window.kakao.maps.LatLng(n,t),o=new window.kakao.maps.Map(e.current,{center:s,level:3});new window.kakao.maps.Marker({map:o,position:s})})},[n,t]),O.jsx("div",{ref:e,className:"w-full h-60 rounded-xl"})}const le={groom:{nameKr:"",phone:"010-4049-0749"},bride:{nameKr:"",phone:"010-4650-8773"},date:{text:"2025 12 20   11",iso:"2025-12-20T11:00:00+09:00"},venue:{name:"  41 ",address:"   662 ",naverMapUrl:"https://naver.me/xExWm05A",kakaoMapUrl:"https://kko.kakao.com/z0oyaBHQ35",googleMapUrl:"https://maps.app.goo.gl/P6CcM3qA1u5URgpBA"},hero:{image:"gallery/main.webp",title:" & ",subtitle:" "},gallery:[{thumb:"gallery/thumbs/1.webp",full:"gallery/1.webp"},{thumb:"gallery/thumbs/2.webp",full:"gallery/2.webp"},{thumb:"gallery/thumbs/3.webp",full:"gallery/3.webp"},{thumb:"gallery/thumbs/4.webp",full:"gallery/4.webp"},{thumb:"gallery/thumbs/5.webp",full:"gallery/5.webp"},{thumb:"gallery/thumbs/6.webp",full:"gallery/6.webp"},{thumb:"gallery/thumbs/7.webp",full:"gallery/7.webp"},{thumb:"gallery/thumbs/8.webp",full:"gallery/8.webp"},{thumb:"gallery/thumbs/9.webp",full:"gallery/9.webp"},{thumb:"gallery/thumbs/10.webp",full:"gallery/10.webp"},{thumb:"gallery/thumbs/11.webp",full:"gallery/11.webp"},{thumb:"gallery/thumbs/12.webp",full:"gallery/12.webp"},{thumb:"gallery/thumbs/13.webp",full:"gallery/13.webp"},{thumb:"gallery/thumbs/14.webp",full:"gallery/14.webp"},{thumb:"gallery/thumbs/15.webp",full:"gallery/15.webp"},{thumb:"gallery/thumbs/16.webp",full:"gallery/16.webp"},{thumb:"gallery/thumbs/17.webp",full:"gallery/17.webp"},{thumb:"gallery/thumbs/18.webp",full:"gallery/18.webp"},{thumb:"gallery/thumbs/main.webp",full:"gallery/main.webp"},{thumb:"gallery/thumbs/20.webp",full:"gallery/20.webp"},{thumb:"gallery/thumbs/21.webp",full:"gallery/21.webp"},{thumb:"gallery/thumbs/22.webp",full:"gallery/22.webp"},{thumb:"gallery/thumbs/23.webp",full:"gallery/23.webp"}]},ub="123",ea=({id:n,title:t,children:e})=>O.jsxs("section",{id:n,className:"px-5 py-10 max-w-md mx-auto",children:[t&&O.jsxs("div",{className:"mb-6 text-center",children:[O.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:t}),O.jsx("div",{className:"mt-2 h-1 w-12 mx-auto bg-gray-200 rounded-full"})]}),e]});function P3(){const[,n]=ft.useState(0);return ft.useState(()=>{const t=setInterval(()=>n(e=>e+1),1e3);return()=>clearInterval(t)}),ft.useMemo(()=>new Date,[Date.now()])}const k3=({targetISO:n})=>{const t=P3(),e=new Date(n),s=Math.max(0,e.getTime()-t.getTime()),o=Math.floor(s/(1e3*60*60*24)),u=Math.floor(s/(1e3*60*60)%24),c=Math.floor(s/(1e3*60)%60),d=Math.floor(s/1e3%60);return O.jsx("div",{className:"mt-4 grid grid-cols-4 gap-2 text-center",children:[{k:"",v:o},{k:"",v:u},{k:"",v:c},{k:"",v:d}].map((p,g)=>O.jsxs("div",{className:"rounded-2xl p-3 bg-white/80 backdrop-blur shadow",children:[O.jsx("div",{className:"text-2xl font-semibold tabular-nums",children:p.v.toString().padStart(2,"0")}),O.jsx("div",{className:"text-xs text-gray-500 mt-1",children:p.k})]},g))})},au=({name:n,bank:t,number:e,isParent:s=!1})=>{const[o,u]=ft.useState(!0),[c,d]=ft.useState(!1),p=async()=>{try{await navigator.clipboard.writeText(`${t} ${e}`),d(!0),setTimeout(()=>d(!1),1500)}catch{alert("   .")}},g=E=>{if(E.startsWith(" ")||E.startsWith(" ")){const[C,...L]=E.split(" ");return O.jsxs(O.Fragment,{children:[O.jsx("span",{className:"font-bold",children:C})," ",L.join(" ")]})}return E},v=E=>({:"bg-[#FFB900]",:"bg-[#2B6FD5]",:"bg-[#0046FF]",:"bg-[#00A2A3]",KB:"bg-[#FFB900]",:"bg-[#FFEB00]",:"bg-[#0064FF]"})[E]||"bg-gray-400";return O.jsxs("div",{className:s?"text-sm":"",children:[O.jsx("button",{onClick:()=>u(!o),className:"w-full text-left py-1 hover:text-blue-600 transition-colors",children:O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsx("span",{className:s?"text-sm":"font-medium",children:g(n)}),O.jsx(F1,{size:16,className:`transition-transform ${o?"rotate-180":""}`})]})}),o&&O.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded-lg",children:O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsxs("div",{className:"text-sm flex-1",children:[O.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[O.jsx("span",{className:`w-2 h-2 rounded-full ${v(t)}`}),t]}),O.jsx("div",{className:"font-mono text-xs mt-1",children:e})]}),O.jsx("button",{onClick:p,className:"ml-2 p-2 rounded-full hover:bg-gray-200 transition",children:c?O.jsx(q1,{size:14,className:"text-green-600"}):O.jsx(FV,{size:14})})]})})]})};function L3(){const[n,t]=ft.useState(null),[e,s]=ft.useState(0),[o,u]=ft.useState(!1),c=(G,Y)=>{t(G),s(Y)},d=()=>{Q("right");const G=(e-1+le.gallery.length)%le.gallery.length;s(G),t(le.gallery[G].full),setTimeout(()=>Q(null),100)},p=()=>{Q("left");const G=(e+1)%le.gallery.length;s(G),t(le.gallery[G].full),setTimeout(()=>Q(null),100)},g=G=>{const Y=document.getElementById(G);if(Y){const ut=Y.offsetTop;window.scrollTo({top:ut,behavior:"smooth"})}},[v,E]=ft.useState(0),[A,C]=ft.useState(!1),[L,Q]=ft.useState(null),F=G=>{E(G),C(!0)},J=G=>{if(!A)return;const Y=G-v,ut=50;Y>ut?d():Y<-ut&&p(),C(!1)};return O.jsxs("div",{className:"w-full min-h-screen bg-[#faf9f7] text-gray-900",children:[O.jsx("nav",{className:"fixed bottom-3 left-0 right-0 z-30 px-4",children:O.jsxs("div",{className:"mx-auto max-w-md grid grid-cols-3 gap-2 bg-white/90 backdrop-blur rounded-2xl shadow-lg p-2",children:[O.jsxs("button",{onClick:()=>g("schedule"),className:"flex flex-col items-center py-2 rounded-xl hover:bg-gray-50 transition-colors",children:[O.jsx(RE,{size:18}),O.jsx("span",{className:"text-xs mt-1",children:""})]}),O.jsxs("button",{onClick:()=>g("gallery"),className:"flex flex-col items-center py-2 rounded-xl hover:bg-gray-50 transition-colors",children:[O.jsx(KV,{size:18}),O.jsx("span",{className:"text-xs mt-1",children:""})]}),O.jsxs("button",{onClick:()=>g("comments"),className:"flex flex-col items-center py-2 rounded-xl hover:bg-gray-50 transition-colors",children:[O.jsx(wE,{size:18}),O.jsx("span",{className:"text-xs mt-1",children:""})]})]})}),O.jsxs("div",{className:"relative min-h-[100svh] w-full overflow-hidden",children:[O.jsx("img",{src:le.hero.image,alt:"hero",className:"absolute inset-0 w-full h-full object-cover",fetchPriority:"high"}),O.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/60"}),O.jsxs("div",{className:"relative z-10 min-h-[100svh] flex flex-col items-center justify-end pb-60",children:[O.jsxs(Sh.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center text-white",children:[O.jsx("div",{className:"text-6xl md:text-7xl font-cursive mb-6 px-8 py-6",style:{lineHeight:"1.3"},children:O.jsx(Sh.div,{initial:{clipPath:"inset(0 100% 0 -5%)",opacity:0},animate:{clipPath:"inset(0 -5% 0 -5%)",opacity:1},transition:{clipPath:{duration:2.5,ease:"easeInOut"},opacity:{duration:.5}},className:"inline-block",style:{fontFamily:"'Dancing Script', cursive",fontWeight:700,color:"white",textShadow:"2px 2px 4px rgba(0,0,0,0.3)",letterSpacing:"0.05em",lineHeight:"1.3"},children:"We're Getting Married".split("").map((G,Y)=>O.jsx(Sh.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Y*.08,duration:.3,ease:"easeOut"},style:{display:"inline-block"},children:G===" "?"":G},Y))})}),O.jsx("h1",{className:"mt-3 text-4xl font-bold drop-shadow-sm",children:le.hero.title}),O.jsx("p",{className:"mt-2 text-base/relaxed opacity-95",children:le.hero.subtitle}),O.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 text-white/90",children:[O.jsx(PV,{size:18}),O.jsx("span",{children:le.date.text})]})]}),O.jsx("button",{onClick:()=>g("intro"),className:"mt-8 text-white/90 animate-bounce hover:text-white transition-colors",children:O.jsx(F1,{})})]})]}),O.jsxs(ea,{id:"intro",title:"",children:[O.jsxs("p",{className:"text-center leading-7 text-gray-700",children:["       ",O.jsx("br",{}),"    .",O.jsx("br",{}),"      ."]}),O.jsx("div",{className:"mt-6 space-y-3",children:[{person:le.groom,label:"",father:"",mother:"",relation:" "},{person:le.bride,label:"",father:"",mother:"",relation:" "}].map((G,Y)=>O.jsxs("div",{className:"rounded-2xl p-4 bg-white shadow text-center",children:[O.jsx("div",{className:"text-base font-medium text-gray-600",children:G.label}),O.jsxs("div",{className:"text-sm text-gray-600 mt-3",children:[G.father,"  ",G.mother," ",G.relation," ",O.jsx("span",{className:"font-semibold text-gray-900",children:G.person.nameKr})]}),O.jsxs("a",{href:`tel:${G.person.phone}`,className:"mt-3 inline-flex items-center gap-1 text-sm text-blue-600",children:[O.jsx(XV,{size:16})," "]})]},Y))}),O.jsx("div",{className:"mt-8",children:O.jsx(k3,{targetISO:le.date.iso})})]}),O.jsx(ea,{id:"schedule",title:"  ",children:O.jsxs("div",{className:"rounded-2xl p-5 bg-white shadow",children:[O.jsxs("div",{children:[O.jsxs("div",{className:"text-center mb-4",children:[O.jsx("div",{className:"text-lg font-semibold",children:"2025 12 20"}),O.jsx("div",{className:"text-sm text-gray-500 mt-1",children:" 11"})]}),O.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:O.jsxs("div",{className:"grid grid-cols-7 gap-2 text-center",children:[["","","","","","",""].map((G,Y)=>O.jsx("div",{className:`text-xs font-medium pb-2 ${Y===0?"text-red-500":Y===6?"text-blue-500":"text-gray-600"}`,children:G},G)),O.jsx("div",{}),Array.from({length:31},(G,Y)=>Y+1).map(G=>{const Y=G%7,ut=G===20,st=Y===0,mt=Y===6;return O.jsx("div",{className:"flex items-center justify-center",children:ut?O.jsxs("div",{className:"relative",children:[O.jsx(wE,{size:32,className:"fill-pink-500 text-pink-500"}),O.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white text-sm font-bold",children:G})]}):O.jsx("div",{className:`
                          w-8 h-8 flex items-center justify-center text-sm
                          ${st?"text-red-500":""}
                          ${mt?"text-blue-500":""}
                          ${!st&&!mt?"text-gray-700":""}
                        `,children:G})},G)})]})})]}),O.jsxs("div",{className:"mt-4 flex items-start gap-3",children:[O.jsx(RE,{className:"shrink-0 mt-1"}),O.jsxs("div",{children:[O.jsx("div",{className:"font-semibold",children:le.venue.name}),O.jsx("div",{className:"text-sm text-gray-600",children:le.venue.address}),O.jsxs("div",{className:"flex gap-2 mt-2",children:[O.jsx("a",{href:le.venue.naverMapUrl,target:"_blank",className:"text-xs px-3 py-1.5 rounded-full bg-gray-100 hover:bg-gray-200",rel:"noreferrer",children:""}),O.jsx("a",{href:le.venue.kakaoMapUrl,target:"_blank",className:"text-xs px-3 py-1.5 rounded-full bg-gray-100 hover:bg-gray-200",rel:"noreferrer",children:""}),O.jsx("a",{href:le.venue.googleMapUrl,target:"_blank",className:"text-xs px-3 py-1.5 rounded-full bg-gray-100 hover:bg-gray-200",rel:"noreferrer",children:""})]})]})]}),O.jsx("div",{className:"mt-5 h-60 w-full overflow-hidden rounded-xl bg-gray-100",children:O.jsx(O3,{lat:37.50912402052296,lng:126.88958283841178})})]})}),O.jsx(ea,{id:"map",title:" ",children:O.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow space-y-2 text-sm text-gray-700",children:[O.jsxs("div",{children:[O.jsx("b",{children:" "}),O.jsx("div",{className:"mt-2 space-y-2",children:O.jsx("div",{children:O.jsxs("div",{className:"ml-4 text-gray-500 flex items-center gap-1",children:[O.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-[#0052A4] text-white text-xs font-bold",children:"1"}),O.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-[#00A84D] text-white text-xs font-bold",children:"2"}),O.jsx("span",{children:"  1     "})]})})})]}),O.jsxs("div",{children:[O.jsx("b",{children:" "}),O.jsxs("div",{className:"mt-2 space-y-2",children:[O.jsxs("div",{children:[O.jsx("div",{className:"text-gray-600",children:"  2 "}),O.jsxs("div",{className:"ml-4 text-gray-500",children:[O.jsx("span",{className:"inline-block mr-2",children:"B :"}),O.jsx("span",{className:"text-xs",children:"5619, 6411, 6511, 6611, 01, 08, 09, 12, 13"})]})]}),O.jsxs("div",{children:[O.jsx("div",{className:"text-gray-600",children:"  1 "}),O.jsxs("div",{className:"ml-4 text-gray-500 space-y-1",children:[O.jsxs("div",{children:[O.jsx("span",{className:"inline-block mr-2",children:"B :"}),O.jsx("span",{className:"text-xs",children:"160, 503, 600, 660, 662"})]}),O.jsxs("div",{children:[O.jsx("span",{className:"inline-block mr-2",children:"G :"}),O.jsx("span",{className:"text-xs",children:"5615, 5714, 6512, 6513, 6515, 6516, 6637, 6640B"})]}),O.jsxs("div",{children:[O.jsx("span",{className:"inline-block mr-2",children:"T :"}),O.jsx("span",{className:"text-xs",children:"301, 320, 10, 11-1, 11-2(), 83, 88, 510, 530, 662, 6018, N16, 09(), 04()"})]})]})]})]})]}),O.jsxs("div",{children:[O.jsx("b",{children:"  (6~8  )"}),O.jsxs("div",{className:"mt-2 space-y-2",children:[O.jsxs("div",{children:[O.jsx("div",{className:"text-gray-600",children:"  "}),O.jsx("div",{className:"ml-4 text-gray-500",children:"      "})]}),O.jsxs("div",{children:[O.jsx("div",{className:"text-gray-600",children:"  "}),O.jsx("div",{className:"ml-4 text-gray-500",children:"GS      "})]})]})]})]})}),O.jsxs(ea,{id:"gallery",title:"",children:[O.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:(o?le.gallery:le.gallery.slice(0,6)).map((G,Y)=>O.jsx("button",{onClick:()=>c(G.full,Y),className:"aspect-square overflow-hidden rounded-xl",children:O.jsx("img",{src:G.thumb,alt:`gallery-${Y}`,loading:"lazy",className:"w-full h-full object-cover"})},Y))}),!o&&le.gallery.length>6&&O.jsx("div",{className:"mt-4 text-center",children:O.jsxs("button",{onClick:()=>u(!0),className:"px-6 py-2.5 rounded-full bg-gray-100 hover:bg-gray-200 text-sm font-medium transition-colors",children:[" (",le.gallery.length-6,")"]})}),n&&O.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:O.jsxs("div",{className:"relative max-w-3xl w-full flex items-center justify-center",children:[O.jsx("button",{className:"absolute top-3 right-3 text-white z-10",onClick:()=>t(null),children:O.jsx(WV,{size:28})}),O.jsxs("div",{className:"absolute top-3 left-3 text-white text-sm bg-black/50 px-2 py-1 rounded",children:[e+1," / ",le.gallery.length]}),O.jsx("button",{className:"absolute left-3 text-white z-10",onClick:d,children:O.jsx(jV,{size:36})}),O.jsx("div",{className:"relative w-full h-auto cursor-grab active:cursor-grabbing select-none overflow-hidden",onMouseDown:G=>F(G.clientX),onMouseUp:G=>J(G.clientX),onTouchStart:G=>F(G.touches[0].clientX),onTouchEnd:G=>J(G.changedTouches[0].clientX),onDragStart:G=>G.preventDefault(),children:O.jsx(Sh.img,{src:n,alt:"selected",className:"w-full h-auto rounded-xl shadow-lg",draggable:!1,initial:{x:L==="left"?300:L==="right"?-300:0,opacity:L?0:1},animate:{x:0,opacity:1},transition:{type:"spring",stiffness:300,damping:30,duration:.3}},n)}),O.jsx("button",{className:"absolute right-3 text-white z-10",onClick:p,children:O.jsx(zV,{size:36})})]})})]}),O.jsx(ea,{title:"  ",children:O.jsxs("div",{className:"space-y-3",children:[O.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow",children:[O.jsx("div",{className:"text-sm text-gray-500 mb-3",children:" "}),O.jsx(au,{name:"",bank:"",number:"224602-04-242015"}),O.jsxs("div",{className:"mt-3 ml-4 pl-3 border-l-2 border-gray-200/60 space-y-2",children:[O.jsx("div",{className:"text-xs font-medium text-gray-400 mb-2",children:""}),O.jsx(au,{name:" ",bank:"",number:"014-24-0200-538",isParent:!0})]})]}),O.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow",children:[O.jsx("div",{className:"text-sm text-gray-500 mb-3",children:" "}),O.jsx(au,{name:"",bank:"",number:"1002-284-950306"}),O.jsxs("div",{className:"mt-3 ml-4 pl-3 border-l-2 border-gray-200/60 space-y-2",children:[O.jsx("div",{className:"text-xs font-medium text-gray-400 mb-2",children:""}),O.jsx(au,{name:" ",bank:"",number:"09024-0580-804",isParent:!0}),O.jsx(au,{name:" ",bank:"",number:"1002-680-110570",isParent:!0})]})]})]})}),O.jsx(ea,{id:"rsvp",title:"  ",children:O.jsx(M3,{invitationId:ub})}),O.jsx(ea,{id:"comments",title:" ",children:O.jsx(N3,{invitationId:ub})}),O.jsxs("footer",{className:"pb-24 pt-6 text-center text-xs text-gray-500",children:[O.jsxs("div",{children:[" ",new Date().getFullYear()," ",le.hero.title]}),O.jsx("div",{className:"mt-1",children:""})]})]})}function U3(){return O.jsx(L3,{})}$I.createRoot(document.getElementById("root")).render(O.jsx(ft.StrictMode,{children:O.jsx(U3,{})}));
