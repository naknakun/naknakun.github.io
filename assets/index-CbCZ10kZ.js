(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();var vg={exports:{}},Xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE;function jD(){if(ZE)return Xu;ZE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Xu.Fragment=t,Xu.jsx=e,Xu.jsxs=e,Xu}var JE;function zD(){return JE||(JE=1,vg.exports=jD()),vg.exports}var X=zD(),Tg={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tA;function FD(){if(tA)return Ct;tA=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function A(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,U={};function j(P,it,ht){this.props=P,this.context=it,this.refs=U,this.updater=ht||I}j.prototype.isReactComponent={},j.prototype.setState=function(P,it){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,it,"setState")},j.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function Z(){}Z.prototype=j.prototype;function tt(P,it,ht){this.props=P,this.context=it,this.refs=U,this.updater=ht||I}var Q=tt.prototype=new Z;Q.constructor=tt,C(Q,j.prototype),Q.isPureReactComponent=!0;var ct=Array.isArray,nt={H:null,A:null,T:null,S:null,V:null},ft=Object.prototype.hasOwnProperty;function V(P,it,ht,at,Tt,Mt){return ht=Mt.ref,{$$typeof:n,type:P,key:it,ref:ht!==void 0?ht:null,props:Mt}}function w(P,it){return V(P.type,it,void 0,void 0,void 0,P.props)}function R(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function N(P){var it={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ht){return it[ht]})}var O=/\/+/g;function L(P,it){return typeof P=="object"&&P!==null&&P.key!=null?N(""+P.key):it.toString(36)}function D(){}function we(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(D,D):(P.status="pending",P.then(function(it){P.status==="pending"&&(P.status="fulfilled",P.value=it)},function(it){P.status==="pending"&&(P.status="rejected",P.reason=it)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ae(P,it,ht,at,Tt){var Mt=typeof P;(Mt==="undefined"||Mt==="boolean")&&(P=null);var It=!1;if(P===null)It=!0;else switch(Mt){case"bigint":case"string":case"number":It=!0;break;case"object":switch(P.$$typeof){case n:case t:It=!0;break;case y:return It=P._init,ae(It(P._payload),it,ht,at,Tt)}}if(It)return Tt=Tt(P),It=at===""?"."+L(P,0):at,ct(Tt)?(ht="",It!=null&&(ht=It.replace(O,"$&/")+"/"),ae(Tt,it,ht,"",function(pi){return pi})):Tt!=null&&(R(Tt)&&(Tt=w(Tt,ht+(Tt.key==null||P&&P.key===Tt.key?"":(""+Tt.key).replace(O,"$&/")+"/")+It)),it.push(Tt)),1;It=0;var ze=at===""?".":at+":";if(ct(P))for(var se=0;se<P.length;se++)at=P[se],Mt=ze+L(at,se),It+=ae(at,it,ht,Mt,Tt);else if(se=A(P),typeof se=="function")for(P=se.call(P),se=0;!(at=P.next()).done;)at=at.value,Mt=ze+L(at,se++),It+=ae(at,it,ht,Mt,Tt);else if(Mt==="object"){if(typeof P.then=="function")return ae(we(P),it,ht,at,Tt);throw it=String(P),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return It}function $(P,it,ht){if(P==null)return P;var at=[],Tt=0;return ae(P,at,"","",function(Mt){return it.call(ht,Mt,Tt++)}),at}function st(P){if(P._status===-1){var it=P._result;it=it(),it.then(function(ht){(P._status===0||P._status===-1)&&(P._status=1,P._result=ht)},function(ht){(P._status===0||P._status===-1)&&(P._status=2,P._result=ht)}),P._status===-1&&(P._status=0,P._result=it)}if(P._status===1)return P._result.default;throw P._result}var dt=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Dt(){}return Ct.Children={map:$,forEach:function(P,it,ht){$(P,function(){it.apply(this,arguments)},ht)},count:function(P){var it=0;return $(P,function(){it++}),it},toArray:function(P){return $(P,function(it){return it})||[]},only:function(P){if(!R(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ct.Component=j,Ct.Fragment=e,Ct.Profiler=a,Ct.PureComponent=tt,Ct.StrictMode=i,Ct.Suspense=m,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(P){return nt.H.useMemoCache(P)}},Ct.cache=function(P){return function(){return P.apply(null,arguments)}},Ct.cloneElement=function(P,it,ht){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var at=C({},P.props),Tt=P.key,Mt=void 0;if(it!=null)for(It in it.ref!==void 0&&(Mt=void 0),it.key!==void 0&&(Tt=""+it.key),it)!ft.call(it,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&it.ref===void 0||(at[It]=it[It]);var It=arguments.length-2;if(It===1)at.children=ht;else if(1<It){for(var ze=Array(It),se=0;se<It;se++)ze[se]=arguments[se+2];at.children=ze}return V(P.type,Tt,void 0,void 0,Mt,at)},Ct.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Ct.createElement=function(P,it,ht){var at,Tt={},Mt=null;if(it!=null)for(at in it.key!==void 0&&(Mt=""+it.key),it)ft.call(it,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(Tt[at]=it[at]);var It=arguments.length-2;if(It===1)Tt.children=ht;else if(1<It){for(var ze=Array(It),se=0;se<It;se++)ze[se]=arguments[se+2];Tt.children=ze}if(P&&P.defaultProps)for(at in It=P.defaultProps,It)Tt[at]===void 0&&(Tt[at]=It[at]);return V(P,Mt,void 0,void 0,null,Tt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(P){return{$$typeof:f,render:P}},Ct.isValidElement=R,Ct.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:st}},Ct.memo=function(P,it){return{$$typeof:p,type:P,compare:it===void 0?null:it}},Ct.startTransition=function(P){var it=nt.T,ht={};nt.T=ht;try{var at=P(),Tt=nt.S;Tt!==null&&Tt(ht,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Dt,dt)}catch(Mt){dt(Mt)}finally{nt.T=it}},Ct.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},Ct.use=function(P){return nt.H.use(P)},Ct.useActionState=function(P,it,ht){return nt.H.useActionState(P,it,ht)},Ct.useCallback=function(P,it){return nt.H.useCallback(P,it)},Ct.useContext=function(P){return nt.H.useContext(P)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(P,it){return nt.H.useDeferredValue(P,it)},Ct.useEffect=function(P,it,ht){var at=nt.H;if(typeof ht=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(P,it)},Ct.useId=function(){return nt.H.useId()},Ct.useImperativeHandle=function(P,it,ht){return nt.H.useImperativeHandle(P,it,ht)},Ct.useInsertionEffect=function(P,it){return nt.H.useInsertionEffect(P,it)},Ct.useLayoutEffect=function(P,it){return nt.H.useLayoutEffect(P,it)},Ct.useMemo=function(P,it){return nt.H.useMemo(P,it)},Ct.useOptimistic=function(P,it){return nt.H.useOptimistic(P,it)},Ct.useReducer=function(P,it,ht){return nt.H.useReducer(P,it,ht)},Ct.useRef=function(P){return nt.H.useRef(P)},Ct.useState=function(P){return nt.H.useState(P)},Ct.useSyncExternalStore=function(P,it,ht){return nt.H.useSyncExternalStore(P,it,ht)},Ct.useTransition=function(){return nt.H.useTransition()},Ct.version="19.1.1",Ct}var eA;function s_(){return eA||(eA=1,Tg.exports=FD()),Tg.exports}var gt=s_(),Eg={exports:{}},$u={},Ag={exports:{}},bg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nA;function qD(){return nA||(nA=1,(function(n){function t($,st){var dt=$.length;$.push(st);t:for(;0<dt;){var Dt=dt-1>>>1,P=$[Dt];if(0<a(P,st))$[Dt]=st,$[dt]=P,dt=Dt;else break t}}function e($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var st=$[0],dt=$.pop();if(dt!==st){$[0]=dt;t:for(var Dt=0,P=$.length,it=P>>>1;Dt<it;){var ht=2*(Dt+1)-1,at=$[ht],Tt=ht+1,Mt=$[Tt];if(0>a(at,dt))Tt<P&&0>a(Mt,at)?($[Dt]=Mt,$[Tt]=dt,Dt=Tt):($[Dt]=at,$[ht]=dt,Dt=ht);else if(Tt<P&&0>a(Mt,dt))$[Dt]=Mt,$[Tt]=dt,Dt=Tt;else break t}}return st}function a($,st){var dt=$.sortIndex-st.sortIndex;return dt!==0?dt:$.id-st.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var m=[],p=[],y=1,T=null,A=3,I=!1,C=!1,U=!1,j=!1,Z=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ct($){for(var st=e(p);st!==null;){if(st.callback===null)i(p);else if(st.startTime<=$)i(p),st.sortIndex=st.expirationTime,t(m,st);else break;st=e(p)}}function nt($){if(U=!1,ct($),!C)if(e(m)!==null)C=!0,ft||(ft=!0,L());else{var st=e(p);st!==null&&ae(nt,st.startTime-$)}}var ft=!1,V=-1,w=5,R=-1;function N(){return j?!0:!(n.unstable_now()-R<w)}function O(){if(j=!1,ft){var $=n.unstable_now();R=$;var st=!0;try{t:{C=!1,U&&(U=!1,tt(V),V=-1),I=!0;var dt=A;try{e:{for(ct($),T=e(m);T!==null&&!(T.expirationTime>$&&N());){var Dt=T.callback;if(typeof Dt=="function"){T.callback=null,A=T.priorityLevel;var P=Dt(T.expirationTime<=$);if($=n.unstable_now(),typeof P=="function"){T.callback=P,ct($),st=!0;break e}T===e(m)&&i(m),ct($)}else i(m);T=e(m)}if(T!==null)st=!0;else{var it=e(p);it!==null&&ae(nt,it.startTime-$),st=!1}}break t}finally{T=null,A=dt,I=!1}st=void 0}}finally{st?L():ft=!1}}}var L;if(typeof Q=="function")L=function(){Q(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,we=D.port2;D.port1.onmessage=O,L=function(){we.postMessage(null)}}else L=function(){Z(O,0)};function ae($,st){V=Z(function(){$(n.unstable_now())},st)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function($){switch(A){case 1:case 2:case 3:var st=3;break;default:st=A}var dt=A;A=st;try{return $()}finally{A=dt}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function($,st){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var dt=A;A=$;try{return st()}finally{A=dt}},n.unstable_scheduleCallback=function($,st,dt){var Dt=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Dt+dt:Dt):dt=Dt,$){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=dt+P,$={id:y++,callback:st,priorityLevel:$,startTime:dt,expirationTime:P,sortIndex:-1},dt>Dt?($.sortIndex=dt,t(p,$),e(m)===null&&$===e(p)&&(U?(tt(V),V=-1):U=!0,ae(nt,dt-Dt))):($.sortIndex=P,t(m,$),C||I||(C=!0,ft||(ft=!0,L()))),$},n.unstable_shouldYield=N,n.unstable_wrapCallback=function($){var st=A;return function(){var dt=A;A=st;try{return $.apply(this,arguments)}finally{A=dt}}}})(bg)),bg}var iA;function HD(){return iA||(iA=1,Ag.exports=qD()),Ag.exports}var Sg={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sA;function GD(){if(sA)return an;sA=1;var n=s_();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,an.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},an.flushSync=function(m){var p=u.T,y=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=p,i.p=y,i.d.f()}},an.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},an.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},an.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,T=f(y,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:I}):y==="script"&&i.d.X(m,{crossOrigin:T,integrity:A,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},an.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,T=f(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},an.requestFormReset=function(m){i.d.r(m)},an.unstable_batchedUpdates=function(m,p){return m(p)},an.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},an.useFormStatus=function(){return u.H.useHostTransitionStatus()},an.version="19.1.1",an}var rA;function KD(){if(rA)return Sg.exports;rA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Sg.exports=GD(),Sg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aA;function QD(){if(aA)return $u;aA=1;var n=HD(),t=s_(),e=KD();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(i(188))}function m(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,c=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return f(d),s;if(g===c)return f(d),r;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=d,c=g;else{for(var E=!1,b=d.child;b;){if(b===o){E=!0,o=d,c=g;break}if(b===c){E=!0,c=d,o=g;break}b=b.sibling}if(!E){for(b=g.child;b;){if(b===o){E=!0,o=g,c=d;break}if(b===c){E=!0,c=g,o=d;break}b=b.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function p(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=p(s),r!==null)return r;s=s.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),tt=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function we(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case j:return"Profiler";case U:return"StrictMode";case nt:return"Suspense";case ft:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case I:return"Portal";case Q:return(s.displayName||"Context")+".Provider";case tt:return(s._context.displayName||"Context")+".Consumer";case ct:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case V:return r=s.displayName||null,r!==null?r:we(s.type)||"Memo";case w:r=s._payload,s=s._init;try{return we(s(r))}catch{}}return null}var ae=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Dt=[],P=-1;function it(s){return{current:s}}function ht(s){0>P||(s.current=Dt[P],Dt[P]=null,P--)}function at(s,r){P++,Dt[P]=s.current,s.current=r}var Tt=it(null),Mt=it(null),It=it(null),ze=it(null);function se(s,r){switch(at(It,r),at(Mt,s),at(Tt,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?IE(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=IE(r),s=RE(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ht(Tt),at(Tt,s)}function pi(){ht(Tt),ht(Mt),ht(It)}function Vs(s){s.memoizedState!==null&&at(ze,s);var r=Tt.current,o=RE(r,s.type);r!==o&&(at(Mt,s),at(Tt,o))}function qi(s){Mt.current===s&&(ht(Tt),ht(Mt)),ze.current===s&&(ht(ze),Hu._currentValue=dt)}var Or=Object.prototype.hasOwnProperty,kr=n.unstable_scheduleCallback,Lr=n.unstable_cancelCallback,zl=n.unstable_shouldYield,ah=n.unstable_requestPaint,Ln=n.unstable_now,vm=n.unstable_getCurrentPriorityLevel,Fl=n.unstable_ImmediatePriority,Za=n.unstable_UserBlockingPriority,Ur=n.unstable_NormalPriority,Tm=n.unstable_LowPriority,Ja=n.unstable_IdlePriority,ql=n.log,oh=n.unstable_setDisableYieldValue,ge=null,Qt=null;function Sn(s){if(typeof ql=="function"&&oh(s),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ge,s)}catch{}}var sn=Math.clz32?Math.clz32:Br,lh=Math.log,Em=Math.LN2;function Br(s){return s>>>=0,s===0?32:31-(lh(s)/Em|0)|0}var jr=256,zr=4194304;function si(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function to(s,r,o){var c=s.pendingLanes;if(c===0)return 0;var d=0,g=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var b=c&134217727;return b!==0?(c=b&~g,c!==0?d=si(c):(E&=b,E!==0?d=si(E):o||(o=b&~s,o!==0&&(d=si(o))))):(b=c&~g,b!==0?d=si(b):E!==0?d=si(E):o||(o=c&~s,o!==0&&(d=si(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function Fr(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Hl(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gl(){var s=jr;return jr<<=1,(jr&4194048)===0&&(jr=256),s}function Kl(){var s=zr;return zr<<=1,(zr&62914560)===0&&(zr=4194304),s}function Hi(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function Gi(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ql(s,r,o,c,d,g){var E=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var b=s.entanglements,x=s.expirationTimes,q=s.hiddenUpdates;for(o=E&~o;0<o;){var W=31-sn(o),et=1<<W;b[W]=0,x[W]=-1;var H=q[W];if(H!==null)for(q[W]=null,W=0;W<H.length;W++){var G=H[W];G!==null&&(G.lane&=-536870913)}o&=~et}c!==0&&gi(s,c,0),g!==0&&d===0&&s.tag!==0&&(s.suspendedLanes|=g&~(E&~r))}function gi(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-sn(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|o&4194090}function Yl(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var c=31-sn(o),d=1<<c;d&r|s[c]&r&&(s[c]|=r),o&=~d}}function Ps(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function eo(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ms(){var s=st.p;return s!==0?s:(s=window.event,s===void 0?32:KE(s.type))}function uh(s,r){var o=st.p;try{return st.p=s,r()}finally{st.p=o}}var le=Math.random().toString(36).slice(2),Ne="__reactFiber$"+le,Ie="__reactProps$"+le,Un="__reactContainer$"+le,Xl="__reactEvents$"+le,Am="__reactListeners$"+le,Ns="__reactHandles$"+le,ch="__reactResources$"+le,qr="__reactMarker$"+le;function Os(s){delete s[Ne],delete s[Ie],delete s[Xl],delete s[Am],delete s[Ns]}function Ki(s){var r=s[Ne];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Un]||o[Ne]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=VE(s);s!==null;){if(o=s[Ne])return o;s=VE(s)}return r}s=o,o=s.parentNode}return null}function yi(s){if(s=s[Ne]||s[Un]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function _i(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function hn(s){var r=s[ch];return r||(r=s[ch]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ee(s){s[qr]=!0}var $l=new Set,no={};function ri(s,r){Qi(s,r),Qi(s+"Capture",r)}function Qi(s,r){for(no[s]=r,s=0;s<r.length;s++)$l.add(r[s])}var hh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fh={},Hr={};function dh(s){return Or.call(Hr,s)?!0:Or.call(fh,s)?!1:hh.test(s)?Hr[s]=!0:(fh[s]=!0,!1)}function ks(s,r,o){if(dh(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function vi(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Xe(s,r,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+c)}}var Gr,mh;function Yi(s){if(Gr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Gr=r&&r[1]||"",mh=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gr+s+mh}var io=!1;function so(s,r){if(!s||io)return"";io=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(G){var H=G}Reflect.construct(s,[],et)}else{try{et.call()}catch(G){H=G}s.call(et.prototype)}}else{try{throw Error()}catch(G){H=G}(et=s())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),E=g[0],b=g[1];if(E&&b){var x=E.split(`
`),q=b.split(`
`);for(d=c=0;c<x.length&&!x[c].includes("DetermineComponentFrameRoot");)c++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(c===x.length||d===q.length)for(c=x.length-1,d=q.length-1;1<=c&&0<=d&&x[c]!==q[d];)d--;for(;1<=c&&0<=d;c--,d--)if(x[c]!==q[d]){if(c!==1||d!==1)do if(c--,d--,0>d||x[c]!==q[d]){var W=`
`+x[c].replace(" at new "," at ");return s.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",s.displayName)),W}while(1<=c&&0<=d);break}}}finally{io=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Yi(o):""}function Wl(s){switch(s.tag){case 26:case 27:case 5:return Yi(s.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 15:return so(s.type,!1);case 11:return so(s.type.render,!1);case 1:return so(s.type,!0);case 31:return Yi("Activity");default:return""}}function ro(s){try{var r="";do r+=Wl(s),s=s.return;while(s);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function fn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Zl(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function bm(s){var r=Zl(s)?"checked":"value",o=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),c=""+s[r];if(!s.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return d.call(this)},set:function(E){c=""+E,g.call(this,E)}}),Object.defineProperty(s,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function ao(s){s._valueTracker||(s._valueTracker=bm(s))}function Jl(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return s&&(c=Zl(s)?s.checked?"true":"false":s.value),s=c,s!==o?(r.setValue(s),!0):!1}function Kr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Sm=/[\n"\\]/g;function Re(s){return s.replace(Sm,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function wn(s,r,o,c,d,g,E,b){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),r!=null?E==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+fn(r)):s.value!==""+fn(r)&&(s.value=""+fn(r)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),r!=null?Ls(s,E,fn(r)):o!=null?Ls(s,E,fn(o)):c!=null&&s.removeAttribute("value"),d==null&&g!=null&&(s.defaultChecked=!!g),d!=null&&(s.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.name=""+fn(b):s.removeAttribute("name")}function Qr(s,r,o,c,d,g,E,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+fn(o):"",r=r!=null?""+fn(r):o,b||r===s.value||(s.value=r),s.defaultValue=r}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=b?s.checked:!!c,s.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E)}function Ls(s,r,o){r==="number"&&Kr(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Xi(s,r,o,c){if(s=s.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<s.length;o++)d=r.hasOwnProperty("$"+s[o].value),s[o].selected!==d&&(s[o].selected=d),d&&c&&(s[o].defaultSelected=!0)}else{for(o=""+fn(o),r=null,d=0;d<s.length;d++){if(s[d].value===o){s[d].selected=!0,c&&(s[d].defaultSelected=!0);return}r!==null||s[d].disabled||(r=s[d])}r!==null&&(r.selected=!0)}}function Jt(s,r,o){if(r!=null&&(r=""+fn(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+fn(o):""}function Yr(s,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(i(92));if(ae(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=fn(r),s.defaultValue=o,c=s.textContent,c===o&&c!==""&&c!==null&&(s.value=c)}function Bn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var Xr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ph(s,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,o):typeof o!="number"||o===0||Xr.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function tu(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var d in r)c=r[d],r.hasOwnProperty(d)&&o[d]!==c&&ph(s,d,c)}else for(var g in r)r.hasOwnProperty(g)&&ph(s,g,r[g])}function eu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Im=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oo(s){return Im.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var $i=null;function jn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Wi=null,Zi=null;function nu(s){var r=yi(s);if(r&&(s=r.stateNode)){var o=s[Ie]||null;t:switch(s=r.stateNode,r.type){case"input":if(wn(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Re(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==s&&c.form===s.form){var d=c[Ie]||null;if(!d)throw Error(i(90));wn(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===s.form&&Jl(c)}break t;case"textarea":Jt(s,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Xi(s,!!o.multiple,r,!1)}}}var Ti=!1;function gh(s,r,o){if(Ti)return s(r,o);Ti=!0;try{var c=s(r);return c}finally{if(Ti=!1,(Wi!==null||Zi!==null)&&(cf(),Wi&&(r=Wi,s=Zi,Zi=Wi=null,nu(r),s)))for(r=0;r<s.length;r++)nu(s[r])}}function $r(s,r){var o=s.stateNode;if(o===null)return null;var c=o[Ie]||null;if(c===null)return null;o=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break t;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zn=!1;if(ai)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){zn=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{zn=!1}var Ei=null,Us=null,Ji=null;function iu(){if(Ji)return Ji;var s,r=Us,o=r.length,c,d="value"in Ei?Ei.value:Ei.textContent,g=d.length;for(s=0;s<o&&r[s]===d[s];s++);var E=o-s;for(c=1;c<=E&&r[o-c]===d[g-c];c++);return Ji=d.slice(s,1<c?1-c:void 0)}function Ai(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function bi(){return!0}function su(){return!1}function Fe(s){function r(o,c,d,g,E){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var b in s)s.hasOwnProperty(b)&&(o=s[b],this[b]=o?o(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?bi:su,this.isPropagationStopped=su,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),r}var Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=Fe(Kt),Zr=y({},Kt,{view:0,detail:0}),yh=Fe(Zr),uo,co,Si,Jr=y({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Si&&(Si&&s.type==="mousemove"?(uo=s.screenX-Si.screenX,co=s.screenY-Si.screenY):co=uo=0,Si=s),uo)},movementY:function(s){return"movementY"in s?s.movementY:co}}),Fn=Fe(Jr),_h=y({},Jr,{dataTransfer:0}),Rm=Fe(_h),ta=y({},Zr,{relatedTarget:0}),ho=Fe(ta),ru=y({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0}),fo=Fe(ru),vh=y({},Kt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),mo=Fe(vh),xm=y({},Kt,{data:0}),au=Fe(xm),ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ou(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Eh[s])?!!r[s]:!1}function na(){return ou}var Ah=y({},Zr,{key:function(s){if(s.key){var r=ea[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Ai(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Th[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(s){return s.type==="keypress"?Ai(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ai(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),po=Fe(Ah),bh=y({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lu=Fe(bh),ts=y({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),Sh=Fe(ts),wh=y({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ih=Fe(wh),Rh=y({},Jr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),go=Fe(Rh),dn=y({},Kt,{newState:0,oldState:0}),xh=Fe(dn),Ch=[9,13,27,32],wi=ai&&"CompositionEvent"in window,h=null;ai&&"documentMode"in document&&(h=document.documentMode);var _=ai&&"TextEvent"in window&&!h,v=ai&&(!wi||h&&8<h&&11>=h),S=" ",B=!1;function K(s,r){switch(s){case"keyup":return Ch.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Bt=!1;function Oe(s,r){switch(s){case"compositionend":return lt(r);case"keypress":return r.which!==32?null:(B=!0,S);case"textInput":return s=r.data,s===S&&B?null:s;default:return null}}function jt(s,r){if(Bt)return s==="compositionend"||!wi&&K(s,r)?(s=iu(),Ji=Us=Ei=null,Bt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var qe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ke(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!qe[s.type]:r==="textarea"}function es(s,r,o,c){Wi?Zi?Zi.push(c):Zi=[c]:Wi=c,r=gf(r,"onChange"),0<r.length&&(o=new lo("onChange","change",null,o,c),s.push({event:o,listeners:r}))}var $e=null,Ii=null;function uu(s){EE(s,0)}function Dh(s){var r=_i(s);if(Jl(r))return s}function Fv(s,r){if(s==="change")return r}var qv=!1;if(ai){var Cm;if(ai){var Dm="oninput"in document;if(!Dm){var Hv=document.createElement("div");Hv.setAttribute("oninput","return;"),Dm=typeof Hv.oninput=="function"}Cm=Dm}else Cm=!1;qv=Cm&&(!document.documentMode||9<document.documentMode)}function Gv(){$e&&($e.detachEvent("onpropertychange",Kv),Ii=$e=null)}function Kv(s){if(s.propertyName==="value"&&Dh(Ii)){var r=[];es(r,Ii,s,jn(s)),gh(uu,r)}}function gC(s,r,o){s==="focusin"?(Gv(),$e=r,Ii=o,$e.attachEvent("onpropertychange",Kv)):s==="focusout"&&Gv()}function yC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Dh(Ii)}function _C(s,r){if(s==="click")return Dh(r)}function vC(s,r){if(s==="input"||s==="change")return Dh(r)}function TC(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var In=typeof Object.is=="function"?Object.is:TC;function cu(s,r){if(In(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!Or.call(r,d)||!In(s[d],r[d]))return!1}return!0}function Qv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Yv(s,r){var o=Qv(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=r&&c>=r)return{node:o,offset:r-s};s=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Qv(o)}}function Xv(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Xv(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function $v(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Kr(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Kr(s.document)}return r}function Vm(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var EC=ai&&"documentMode"in document&&11>=document.documentMode,yo=null,Pm=null,hu=null,Mm=!1;function Wv(s,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Mm||yo==null||yo!==Kr(c)||(c=yo,"selectionStart"in c&&Vm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),hu&&cu(hu,c)||(hu=c,c=gf(Pm,"onSelect"),0<c.length&&(r=new lo("onSelect","select",null,r,o),s.push({event:r,listeners:c}),r.target=yo)))}function ia(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var _o={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},Nm={},Zv={};ai&&(Zv=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function sa(s){if(Nm[s])return Nm[s];if(!_o[s])return s;var r=_o[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in Zv)return Nm[s]=r[o];return s}var Jv=sa("animationend"),tT=sa("animationiteration"),eT=sa("animationstart"),AC=sa("transitionrun"),bC=sa("transitionstart"),SC=sa("transitioncancel"),nT=sa("transitionend"),iT=new Map,Om="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Om.push("scrollEnd");function oi(s,r){iT.set(s,r),ri(r,[s])}var sT=new WeakMap;function qn(s,r){if(typeof s=="object"&&s!==null){var o=sT.get(s);return o!==void 0?o:(r={value:s,source:r,stack:ro(r)},sT.set(s,r),r)}return{value:s,source:r,stack:ro(r)}}var Hn=[],vo=0,km=0;function Vh(){for(var s=vo,r=km=vo=0;r<s;){var o=Hn[r];Hn[r++]=null;var c=Hn[r];Hn[r++]=null;var d=Hn[r];Hn[r++]=null;var g=Hn[r];if(Hn[r++]=null,c!==null&&d!==null){var E=c.pending;E===null?d.next=d:(d.next=E.next,E.next=d),c.pending=d}g!==0&&rT(o,d,g)}}function Ph(s,r,o,c){Hn[vo++]=s,Hn[vo++]=r,Hn[vo++]=o,Hn[vo++]=c,km|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Lm(s,r,o,c){return Ph(s,r,o,c),Mh(s)}function To(s,r){return Ph(s,null,null,r),Mh(s)}function rT(s,r,o){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=s.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(d=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,d&&r!==null&&(d=31-sn(o),s=g.hiddenUpdates,c=s[d],c===null?s[d]=[r]:c.push(r),r.lane=o|536870912),g):null}function Mh(s){if(50<ku)throw ku=0,qp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Eo={};function wC(s,r,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(s,r,o,c){return new wC(s,r,o,c)}function Um(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ns(s,r){var o=s.alternate;return o===null?(o=Rn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function aT(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Nh(s,r,o,c,d,g){var E=0;if(c=s,typeof s=="function")Um(s)&&(E=1);else if(typeof s=="string")E=RD(s,o,Tt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case R:return s=Rn(31,o,r,d),s.elementType=R,s.lanes=g,s;case C:return ra(o.children,d,g,r);case U:E=8,d|=24;break;case j:return s=Rn(12,o,r,d|2),s.elementType=j,s.lanes=g,s;case nt:return s=Rn(13,o,r,d),s.elementType=nt,s.lanes=g,s;case ft:return s=Rn(19,o,r,d),s.elementType=ft,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Z:case Q:E=10;break t;case tt:E=9;break t;case ct:E=11;break t;case V:E=14;break t;case w:E=16,c=null;break t}E=29,o=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=Rn(E,o,r,d),r.elementType=s,r.type=c,r.lanes=g,r}function ra(s,r,o,c){return s=Rn(7,s,c,r),s.lanes=o,s}function Bm(s,r,o){return s=Rn(6,s,null,r),s.lanes=o,s}function jm(s,r,o){return r=Rn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Ao=[],bo=0,Oh=null,kh=0,Gn=[],Kn=0,aa=null,is=1,ss="";function oa(s,r){Ao[bo++]=kh,Ao[bo++]=Oh,Oh=s,kh=r}function oT(s,r,o){Gn[Kn++]=is,Gn[Kn++]=ss,Gn[Kn++]=aa,aa=s;var c=is;s=ss;var d=32-sn(c)-1;c&=~(1<<d),o+=1;var g=32-sn(r)+d;if(30<g){var E=d-d%5;g=(c&(1<<E)-1).toString(32),c>>=E,d-=E,is=1<<32-sn(r)+d|o<<d|c,ss=g+s}else is=1<<g|o<<d|c,ss=s}function zm(s){s.return!==null&&(oa(s,1),oT(s,1,0))}function Fm(s){for(;s===Oh;)Oh=Ao[--bo],Ao[bo]=null,kh=Ao[--bo],Ao[bo]=null;for(;s===aa;)aa=Gn[--Kn],Gn[Kn]=null,ss=Gn[--Kn],Gn[Kn]=null,is=Gn[--Kn],Gn[Kn]=null}var mn=null,ye=null,Gt=!1,la=null,Ri=!1,qm=Error(i(519));function ua(s){var r=Error(i(418,""));throw mu(qn(r,s)),qm}function lT(s){var r=s.stateNode,o=s.type,c=s.memoizedProps;switch(r[Ne]=s,r[Ie]=c,o){case"dialog":kt("cancel",r),kt("close",r);break;case"iframe":case"object":case"embed":kt("load",r);break;case"video":case"audio":for(o=0;o<Uu.length;o++)kt(Uu[o],r);break;case"source":kt("error",r);break;case"img":case"image":case"link":kt("error",r),kt("load",r);break;case"details":kt("toggle",r);break;case"input":kt("invalid",r),Qr(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ao(r);break;case"select":kt("invalid",r);break;case"textarea":kt("invalid",r),Yr(r,c.value,c.defaultValue,c.children),ao(r)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||wE(r.textContent,o)?(c.popover!=null&&(kt("beforetoggle",r),kt("toggle",r)),c.onScroll!=null&&kt("scroll",r),c.onScrollEnd!=null&&kt("scrollend",r),c.onClick!=null&&(r.onclick=yf),r=!0):r=!1,r||ua(s)}function uT(s){for(mn=s.return;mn;)switch(mn.tag){case 5:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:mn=mn.return}}function fu(s){if(s!==mn)return!1;if(!Gt)return uT(s),Gt=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||rg(s.type,s.memoizedProps)),o=!o),o&&ye&&ua(s),uT(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(o=s.data,o==="/$"){if(r===0){ye=ui(s.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;s=s.nextSibling}ye=null}}else r===27?(r=ye,tr(s.type)?(s=ug,ug=null,ye=s):ye=r):ye=mn?ui(s.stateNode.nextSibling):null;return!0}function du(){ye=mn=null,Gt=!1}function cT(){var s=la;return s!==null&&(Tn===null?Tn=s:Tn.push.apply(Tn,s),la=null),s}function mu(s){la===null?la=[s]:la.push(s)}var Hm=it(null),ca=null,rs=null;function Bs(s,r,o){at(Hm,r._currentValue),r._currentValue=o}function as(s){s._currentValue=Hm.current,ht(Hm)}function Gm(s,r,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===o)break;s=s.return}}function Km(s,r,o,c){var d=s.child;for(d!==null&&(d.return=s);d!==null;){var g=d.dependencies;if(g!==null){var E=d.child;g=g.firstContext;t:for(;g!==null;){var b=g;g=d;for(var x=0;x<r.length;x++)if(b.context===r[x]){g.lanes|=o,b=g.alternate,b!==null&&(b.lanes|=o),Gm(g.return,o,s),c||(E=null);break t}g=b.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(i(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Gm(E,o,s),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===s){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function pu(s,r,o,c){s=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var b=d.type;In(d.pendingProps.value,E.value)||(s!==null?s.push(b):s=[b])}}else if(d===ze.current){if(E=d.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(s!==null?s.push(Hu):s=[Hu])}d=d.return}s!==null&&Km(r,s,o,c),r.flags|=262144}function Lh(s){for(s=s.firstContext;s!==null;){if(!In(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ha(s){ca=s,rs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function rn(s){return hT(ca,s)}function Uh(s,r){return ca===null&&ha(s),hT(s,r)}function hT(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},rs===null){if(s===null)throw Error(i(308));rs=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else rs=rs.next=r;return o}var IC=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},RC=n.unstable_scheduleCallback,xC=n.unstable_NormalPriority,Le={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qm(){return{controller:new IC,data:new Map,refCount:0}}function gu(s){s.refCount--,s.refCount===0&&RC(xC,function(){s.controller.abort()})}var yu=null,Ym=0,So=0,wo=null;function CC(s,r){if(yu===null){var o=yu=[];Ym=0,So=$p(),wo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Ym++,r.then(fT,fT),r}function fT(){if(--Ym===0&&yu!==null){wo!==null&&(wo.status="fulfilled");var s=yu;yu=null,So=0,wo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function DC(s,r){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var dT=$.S;$.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&CC(s,r),dT!==null&&dT(s,r)};var fa=it(null);function Xm(){var s=fa.current;return s!==null?s:re.pooledCache}function Bh(s,r){r===null?at(fa,fa.current):at(fa,r.pool)}function mT(){var s=Xm();return s===null?null:{parent:Le._currentValue,pool:s}}var _u=Error(i(460)),pT=Error(i(474)),jh=Error(i(542)),$m={then:function(){}};function gT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function zh(){}function yT(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(zh,zh),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,vT(s),s;default:if(typeof r.status=="string")r.then(zh,zh);else{if(s=re,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=c}},function(c){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,vT(s),s}throw vu=r,_u}}var vu=null;function _T(){if(vu===null)throw Error(i(459));var s=vu;return vu=null,s}function vT(s){if(s===_u||s===jh)throw Error(i(483))}var js=!1;function Wm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function zs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Fs(s,r,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Yt&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,r=Mh(s),rT(s,null,o),r}return Ph(s,c,r,o),Mh(s)}function Tu(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,Yl(s,o)}}function Jm(s,r){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var tp=!1;function Eu(){if(tp){var s=wo;if(s!==null)throw s}}function Au(s,r,o,c){tp=!1;var d=s.updateQueue;js=!1;var g=d.firstBaseUpdate,E=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var x=b,q=x.next;x.next=null,E===null?g=q:E.next=q,E=x;var W=s.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==E&&(b===null?W.firstBaseUpdate=q:b.next=q,W.lastBaseUpdate=x))}if(g!==null){var et=d.baseState;E=0,W=q=x=null,b=g;do{var H=b.lane&-536870913,G=H!==b.lane;if(G?(zt&H)===H:(c&H)===H){H!==0&&H===So&&(tp=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var bt=s,Et=b;H=r;var ne=o;switch(Et.tag){case 1:if(bt=Et.payload,typeof bt=="function"){et=bt.call(ne,et,H);break t}et=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Et.payload,H=typeof bt=="function"?bt.call(ne,et,H):bt,H==null)break t;et=y({},et,H);break t;case 2:js=!0}}H=b.callback,H!==null&&(s.flags|=64,G&&(s.flags|=8192),G=d.callbacks,G===null?d.callbacks=[H]:G.push(H))}else G={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(q=W=G,x=et):W=W.next=G,E|=H;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;G=b,b=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);W===null&&(x=et),d.baseState=x,d.firstBaseUpdate=q,d.lastBaseUpdate=W,g===null&&(d.shared.lanes=0),$s|=E,s.lanes=E,s.memoizedState=et}}function TT(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function ET(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)TT(o[s],r)}var Io=it(null),Fh=it(0);function AT(s,r){s=ds,at(Fh,s),at(Io,r),ds=s|r.baseLanes}function ep(){at(Fh,ds),at(Io,Io.current)}function np(){ds=Fh.current,ht(Io),ht(Fh)}var qs=0,Vt=null,te=null,xe=null,qh=!1,Ro=!1,da=!1,Hh=0,bu=0,xo=null,VC=0;function Ae(){throw Error(i(321))}function ip(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!In(s[o],r[o]))return!1;return!0}function sp(s,r,o,c,d,g){return qs=g,Vt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=s===null||s.memoizedState===null?r0:a0,da=!1,g=o(c,d),da=!1,Ro&&(g=ST(r,o,c,d)),bT(s),g}function bT(s){$.H=$h;var r=te!==null&&te.next!==null;if(qs=0,xe=te=Vt=null,qh=!1,bu=0,xo=null,r)throw Error(i(300));s===null||He||(s=s.dependencies,s!==null&&Lh(s)&&(He=!0))}function ST(s,r,o,c){Vt=s;var d=0;do{if(Ro&&(xo=null),bu=0,Ro=!1,25<=d)throw Error(i(301));if(d+=1,xe=te=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}$.H=UC,g=r(o,c)}while(Ro);return g}function PC(){var s=$.H,r=s.useState()[0];return r=typeof r.then=="function"?Su(r):r,s=s.useState()[0],(te!==null?te.memoizedState:null)!==s&&(Vt.flags|=1024),r}function rp(){var s=Hh!==0;return Hh=0,s}function ap(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function op(s){if(qh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}qh=!1}qs=0,xe=te=Vt=null,Ro=!1,bu=Hh=0,xo=null}function _n(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?Vt.memoizedState=xe=s:xe=xe.next=s,xe}function Ce(){if(te===null){var s=Vt.alternate;s=s!==null?s.memoizedState:null}else s=te.next;var r=xe===null?Vt.memoizedState:xe.next;if(r!==null)xe=r,te=s;else{if(s===null)throw Vt.alternate===null?Error(i(467)):Error(i(310));te=s,s={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},xe===null?Vt.memoizedState=xe=s:xe=xe.next=s}return xe}function lp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Su(s){var r=bu;return bu+=1,xo===null&&(xo=[]),s=yT(xo,s,r),r=Vt,(xe===null?r.memoizedState:xe.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?r0:a0),s}function Gh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Su(s);if(s.$$typeof===Q)return rn(s)}throw Error(i(438,String(s)))}function up(s){var r=null,o=Vt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Vt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=lp(),Vt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),c=0;c<s;c++)o[c]=N;return r.index++,o}function os(s,r){return typeof r=="function"?r(s):r}function Kh(s){var r=Ce();return cp(r,te,s)}function cp(s,r,o){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var d=s.baseQueue,g=c.pending;if(g!==null){if(d!==null){var E=d.next;d.next=g.next,g.next=E}r.baseQueue=d=g,c.pending=null}if(g=s.baseState,d===null)s.memoizedState=g;else{r=d.next;var b=E=null,x=null,q=r,W=!1;do{var et=q.lane&-536870913;if(et!==q.lane?(zt&et)===et:(qs&et)===et){var H=q.revertLane;if(H===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),et===So&&(W=!0);else if((qs&H)===H){q=q.next,H===So&&(W=!0);continue}else et={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(b=x=et,E=g):x=x.next=et,Vt.lanes|=H,$s|=H;et=q.action,da&&o(g,et),g=q.hasEagerState?q.eagerState:o(g,et)}else H={lane:et,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(b=x=H,E=g):x=x.next=H,Vt.lanes|=et,$s|=et;q=q.next}while(q!==null&&q!==r);if(x===null?E=g:x.next=b,!In(g,s.memoizedState)&&(He=!0,W&&(o=wo,o!==null)))throw o;s.memoizedState=g,s.baseState=E,s.baseQueue=x,c.lastRenderedState=g}return d===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function hp(s){var r=Ce(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var c=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var E=d=d.next;do g=s(g,E.action),E=E.next;while(E!==d);In(g,r.memoizedState)||(He=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function wT(s,r,o){var c=Vt,d=Ce(),g=Gt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=r();var E=!In((te||d).memoizedState,o);E&&(d.memoizedState=o,He=!0),d=d.queue;var b=xT.bind(null,c,d,s);if(wu(2048,8,b,[s]),d.getSnapshot!==r||E||xe!==null&&xe.memoizedState.tag&1){if(c.flags|=2048,Co(9,Qh(),RT.bind(null,c,d,o,r),null),re===null)throw Error(i(349));g||(qs&124)!==0||IT(c,r,o)}return o}function IT(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Vt.updateQueue,r===null?(r=lp(),Vt.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function RT(s,r,o,c){r.value=o,r.getSnapshot=c,CT(r)&&DT(s)}function xT(s,r,o){return o(function(){CT(r)&&DT(s)})}function CT(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!In(s,o)}catch{return!0}}function DT(s){var r=To(s,2);r!==null&&Pn(r,s,2)}function fp(s){var r=_n();if(typeof s=="function"){var o=s;if(s=o(),da){Sn(!0);try{o()}finally{Sn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:s},r}function VT(s,r,o,c){return s.baseState=o,cp(s,te,typeof c=="function"?c:os)}function MC(s,r,o,c,d){if(Xh(s))throw Error(i(485));if(s=r.action,s!==null){var g={payload:d,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};$.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,PT(r,g)):(g.next=o.next,r.pending=o.next=g)}}function PT(s,r){var o=r.action,c=r.payload,d=s.state;if(r.isTransition){var g=$.T,E={};$.T=E;try{var b=o(d,c),x=$.S;x!==null&&x(E,b),MT(s,r,b)}catch(q){dp(s,r,q)}finally{$.T=g}}else try{g=o(d,c),MT(s,r,g)}catch(q){dp(s,r,q)}}function MT(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){NT(s,r,c)},function(c){return dp(s,r,c)}):NT(s,r,o)}function NT(s,r,o){r.status="fulfilled",r.value=o,OT(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,PT(s,o)))}function dp(s,r,o){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,OT(r),r=r.next;while(r!==c)}s.action=null}function OT(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function kT(s,r){return r}function LT(s,r){if(Gt){var o=re.formState;if(o!==null){t:{var c=Vt;if(Gt){if(ye){e:{for(var d=ye,g=Ri;d.nodeType!==8;){if(!g){d=null;break e}if(d=ui(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ye=ui(d.nextSibling),c=d.data==="F!";break t}}ua(c)}c=!1}c&&(r=o[0])}}return o=_n(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kT,lastRenderedState:r},o.queue=c,o=n0.bind(null,Vt,c),c.dispatch=o,c=fp(!1),g=_p.bind(null,Vt,!1,c.queue),c=_n(),d={state:r,dispatch:null,action:s,pending:null},c.queue=d,o=MC.bind(null,Vt,d,g,o),d.dispatch=o,c.memoizedState=s,[r,o,!1]}function UT(s){var r=Ce();return BT(r,te,s)}function BT(s,r,o){if(r=cp(s,r,kT)[0],s=Kh(os)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Su(r)}catch(E){throw E===_u?jh:E}else c=r;r=Ce();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Vt.flags|=2048,Co(9,Qh(),NC.bind(null,d,o),null)),[c,g,s]}function NC(s,r){s.action=r}function jT(s){var r=Ce(),o=te;if(o!==null)return BT(r,o,s);Ce(),r=r.memoizedState,o=Ce();var c=o.queue.dispatch;return o.memoizedState=s,[r,c,!1]}function Co(s,r,o,c){return s={tag:s,create:o,deps:c,inst:r,next:null},r=Vt.updateQueue,r===null&&(r=lp(),Vt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,r.lastEffect=s),s}function Qh(){return{destroy:void 0,resource:void 0}}function zT(){return Ce().memoizedState}function Yh(s,r,o,c){var d=_n();c=c===void 0?null:c,Vt.flags|=s,d.memoizedState=Co(1|r,Qh(),o,c)}function wu(s,r,o,c){var d=Ce();c=c===void 0?null:c;var g=d.memoizedState.inst;te!==null&&c!==null&&ip(c,te.memoizedState.deps)?d.memoizedState=Co(r,g,o,c):(Vt.flags|=s,d.memoizedState=Co(1|r,g,o,c))}function FT(s,r){Yh(8390656,8,s,r)}function qT(s,r){wu(2048,8,s,r)}function HT(s,r){return wu(4,2,s,r)}function GT(s,r){return wu(4,4,s,r)}function KT(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function QT(s,r,o){o=o!=null?o.concat([s]):null,wu(4,4,KT.bind(null,r,s),o)}function mp(){}function YT(s,r){var o=Ce();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&ip(r,c[1])?c[0]:(o.memoizedState=[s,r],s)}function XT(s,r){var o=Ce();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&ip(r,c[1]))return c[0];if(c=s(),da){Sn(!0);try{s()}finally{Sn(!1)}}return o.memoizedState=[c,r],c}function pp(s,r,o){return o===void 0||(qs&1073741824)!==0?s.memoizedState=r:(s.memoizedState=o,s=Z0(),Vt.lanes|=s,$s|=s,o)}function $T(s,r,o,c){return In(o,r)?o:Io.current!==null?(s=pp(s,o,c),In(s,r)||(He=!0),s):(qs&42)===0?(He=!0,s.memoizedState=o):(s=Z0(),Vt.lanes|=s,$s|=s,r)}function WT(s,r,o,c,d){var g=st.p;st.p=g!==0&&8>g?g:8;var E=$.T,b={};$.T=b,_p(s,!1,r,o);try{var x=d(),q=$.S;if(q!==null&&q(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var W=DC(x,c);Iu(s,r,W,Vn(s))}else Iu(s,r,c,Vn(s))}catch(et){Iu(s,r,{then:function(){},status:"rejected",reason:et},Vn())}finally{st.p=g,$.T=E}}function OC(){}function gp(s,r,o,c){if(s.tag!==5)throw Error(i(476));var d=ZT(s).queue;WT(s,d,r,dt,o===null?OC:function(){return JT(s),o(c)})}function ZT(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:dt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function JT(s){var r=ZT(s).next.queue;Iu(s,r,{},Vn())}function yp(){return rn(Hu)}function t0(){return Ce().memoizedState}function e0(){return Ce().memoizedState}function kC(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Vn();s=zs(o);var c=Fs(r,s,o);c!==null&&(Pn(c,r,o),Tu(c,r,o)),r={cache:Qm()},s.payload=r;return}r=r.return}}function LC(s,r,o){var c=Vn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Xh(s)?i0(r,o):(o=Lm(s,r,o,c),o!==null&&(Pn(o,s,c),s0(o,r,c)))}function n0(s,r,o){var c=Vn();Iu(s,r,o,c)}function Iu(s,r,o,c){var d={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Xh(s))i0(r,d);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var E=r.lastRenderedState,b=g(E,o);if(d.hasEagerState=!0,d.eagerState=b,In(b,E))return Ph(s,r,d,0),re===null&&Vh(),!1}catch{}finally{}if(o=Lm(s,r,d,c),o!==null)return Pn(o,s,c),s0(o,r,c),!0}return!1}function _p(s,r,o,c){if(c={lane:2,revertLane:$p(),action:c,hasEagerState:!1,eagerState:null,next:null},Xh(s)){if(r)throw Error(i(479))}else r=Lm(s,o,c,2),r!==null&&Pn(r,s,2)}function Xh(s){var r=s.alternate;return s===Vt||r!==null&&r===Vt}function i0(s,r){Ro=qh=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function s0(s,r,o){if((o&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,Yl(s,o)}}var $h={readContext:rn,use:Gh,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae,useHostTransitionStatus:Ae,useFormState:Ae,useActionState:Ae,useOptimistic:Ae,useMemoCache:Ae,useCacheRefresh:Ae},r0={readContext:rn,use:Gh,useCallback:function(s,r){return _n().memoizedState=[s,r===void 0?null:r],s},useContext:rn,useEffect:FT,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Yh(4194308,4,KT.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Yh(4194308,4,s,r)},useInsertionEffect:function(s,r){Yh(4,2,s,r)},useMemo:function(s,r){var o=_n();r=r===void 0?null:r;var c=s();if(da){Sn(!0);try{s()}finally{Sn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(s,r,o){var c=_n();if(o!==void 0){var d=o(r);if(da){Sn(!0);try{o(r)}finally{Sn(!1)}}}else d=r;return c.memoizedState=c.baseState=d,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:d},c.queue=s,s=s.dispatch=LC.bind(null,Vt,s),[c.memoizedState,s]},useRef:function(s){var r=_n();return s={current:s},r.memoizedState=s},useState:function(s){s=fp(s);var r=s.queue,o=n0.bind(null,Vt,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:mp,useDeferredValue:function(s,r){var o=_n();return pp(o,s,r)},useTransition:function(){var s=fp(!1);return s=WT.bind(null,Vt,s.queue,!0,!1),_n().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var c=Vt,d=_n();if(Gt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),re===null)throw Error(i(349));(zt&124)!==0||IT(c,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,FT(xT.bind(null,c,g,s),[s]),c.flags|=2048,Co(9,Qh(),RT.bind(null,c,g,o,r),null),o},useId:function(){var s=_n(),r=re.identifierPrefix;if(Gt){var o=ss,c=is;o=(c&~(1<<32-sn(c)-1)).toString(32)+o,r=""+r+"R"+o,o=Hh++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=VC++,r=""+r+"r"+o.toString(32)+"";return s.memoizedState=r},useHostTransitionStatus:yp,useFormState:LT,useActionState:LT,useOptimistic:function(s){var r=_n();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=_p.bind(null,Vt,!0,o),o.dispatch=r,[s,r]},useMemoCache:up,useCacheRefresh:function(){return _n().memoizedState=kC.bind(null,Vt)}},a0={readContext:rn,use:Gh,useCallback:YT,useContext:rn,useEffect:qT,useImperativeHandle:QT,useInsertionEffect:HT,useLayoutEffect:GT,useMemo:XT,useReducer:Kh,useRef:zT,useState:function(){return Kh(os)},useDebugValue:mp,useDeferredValue:function(s,r){var o=Ce();return $T(o,te.memoizedState,s,r)},useTransition:function(){var s=Kh(os)[0],r=Ce().memoizedState;return[typeof s=="boolean"?s:Su(s),r]},useSyncExternalStore:wT,useId:t0,useHostTransitionStatus:yp,useFormState:UT,useActionState:UT,useOptimistic:function(s,r){var o=Ce();return VT(o,te,s,r)},useMemoCache:up,useCacheRefresh:e0},UC={readContext:rn,use:Gh,useCallback:YT,useContext:rn,useEffect:qT,useImperativeHandle:QT,useInsertionEffect:HT,useLayoutEffect:GT,useMemo:XT,useReducer:hp,useRef:zT,useState:function(){return hp(os)},useDebugValue:mp,useDeferredValue:function(s,r){var o=Ce();return te===null?pp(o,s,r):$T(o,te.memoizedState,s,r)},useTransition:function(){var s=hp(os)[0],r=Ce().memoizedState;return[typeof s=="boolean"?s:Su(s),r]},useSyncExternalStore:wT,useId:t0,useHostTransitionStatus:yp,useFormState:jT,useActionState:jT,useOptimistic:function(s,r){var o=Ce();return te!==null?VT(o,te,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:up,useCacheRefresh:e0},Do=null,Ru=0;function Wh(s){var r=Ru;return Ru+=1,Do===null&&(Do=[]),yT(Do,s,r)}function xu(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Zh(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function o0(s){var r=s._init;return r(s._payload)}function l0(s){function r(k,M){if(s){var F=k.deletions;F===null?(k.deletions=[M],k.flags|=16):F.push(M)}}function o(k,M){if(!s)return null;for(;M!==null;)r(k,M),M=M.sibling;return null}function c(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function d(k,M){return k=ns(k,M),k.index=0,k.sibling=null,k}function g(k,M,F){return k.index=F,s?(F=k.alternate,F!==null?(F=F.index,F<M?(k.flags|=67108866,M):F):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function E(k){return s&&k.alternate===null&&(k.flags|=67108866),k}function b(k,M,F,J){return M===null||M.tag!==6?(M=Bm(F,k.mode,J),M.return=k,M):(M=d(M,F),M.return=k,M)}function x(k,M,F,J){var mt=F.type;return mt===C?W(k,M,F.props.children,J,F.key):M!==null&&(M.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&o0(mt)===M.type)?(M=d(M,F.props),xu(M,F),M.return=k,M):(M=Nh(F.type,F.key,F.props,null,k.mode,J),xu(M,F),M.return=k,M)}function q(k,M,F,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==F.containerInfo||M.stateNode.implementation!==F.implementation?(M=jm(F,k.mode,J),M.return=k,M):(M=d(M,F.children||[]),M.return=k,M)}function W(k,M,F,J,mt){return M===null||M.tag!==7?(M=ra(F,k.mode,J,mt),M.return=k,M):(M=d(M,F),M.return=k,M)}function et(k,M,F){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Bm(""+M,k.mode,F),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return F=Nh(M.type,M.key,M.props,null,k.mode,F),xu(F,M),F.return=k,F;case I:return M=jm(M,k.mode,F),M.return=k,M;case w:var J=M._init;return M=J(M._payload),et(k,M,F)}if(ae(M)||L(M))return M=ra(M,k.mode,F,null),M.return=k,M;if(typeof M.then=="function")return et(k,Wh(M),F);if(M.$$typeof===Q)return et(k,Uh(k,M),F);Zh(k,M)}return null}function H(k,M,F,J){var mt=M!==null?M.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return mt!==null?null:b(k,M,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case A:return F.key===mt?x(k,M,F,J):null;case I:return F.key===mt?q(k,M,F,J):null;case w:return mt=F._init,F=mt(F._payload),H(k,M,F,J)}if(ae(F)||L(F))return mt!==null?null:W(k,M,F,J,null);if(typeof F.then=="function")return H(k,M,Wh(F),J);if(F.$$typeof===Q)return H(k,M,Uh(k,F),J);Zh(k,F)}return null}function G(k,M,F,J,mt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return k=k.get(F)||null,b(M,k,""+J,mt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return k=k.get(J.key===null?F:J.key)||null,x(M,k,J,mt);case I:return k=k.get(J.key===null?F:J.key)||null,q(M,k,J,mt);case w:var Nt=J._init;return J=Nt(J._payload),G(k,M,F,J,mt)}if(ae(J)||L(J))return k=k.get(F)||null,W(M,k,J,mt,null);if(typeof J.then=="function")return G(k,M,F,Wh(J),mt);if(J.$$typeof===Q)return G(k,M,F,Uh(M,J),mt);Zh(M,J)}return null}function bt(k,M,F,J){for(var mt=null,Nt=null,_t=M,At=M=0,Ke=null;_t!==null&&At<F.length;At++){_t.index>At?(Ke=_t,_t=null):Ke=_t.sibling;var qt=H(k,_t,F[At],J);if(qt===null){_t===null&&(_t=Ke);break}s&&_t&&qt.alternate===null&&r(k,_t),M=g(qt,M,At),Nt===null?mt=qt:Nt.sibling=qt,Nt=qt,_t=Ke}if(At===F.length)return o(k,_t),Gt&&oa(k,At),mt;if(_t===null){for(;At<F.length;At++)_t=et(k,F[At],J),_t!==null&&(M=g(_t,M,At),Nt===null?mt=_t:Nt.sibling=_t,Nt=_t);return Gt&&oa(k,At),mt}for(_t=c(_t);At<F.length;At++)Ke=G(_t,k,At,F[At],J),Ke!==null&&(s&&Ke.alternate!==null&&_t.delete(Ke.key===null?At:Ke.key),M=g(Ke,M,At),Nt===null?mt=Ke:Nt.sibling=Ke,Nt=Ke);return s&&_t.forEach(function(rr){return r(k,rr)}),Gt&&oa(k,At),mt}function Et(k,M,F,J){if(F==null)throw Error(i(151));for(var mt=null,Nt=null,_t=M,At=M=0,Ke=null,qt=F.next();_t!==null&&!qt.done;At++,qt=F.next()){_t.index>At?(Ke=_t,_t=null):Ke=_t.sibling;var rr=H(k,_t,qt.value,J);if(rr===null){_t===null&&(_t=Ke);break}s&&_t&&rr.alternate===null&&r(k,_t),M=g(rr,M,At),Nt===null?mt=rr:Nt.sibling=rr,Nt=rr,_t=Ke}if(qt.done)return o(k,_t),Gt&&oa(k,At),mt;if(_t===null){for(;!qt.done;At++,qt=F.next())qt=et(k,qt.value,J),qt!==null&&(M=g(qt,M,At),Nt===null?mt=qt:Nt.sibling=qt,Nt=qt);return Gt&&oa(k,At),mt}for(_t=c(_t);!qt.done;At++,qt=F.next())qt=G(_t,k,At,qt.value,J),qt!==null&&(s&&qt.alternate!==null&&_t.delete(qt.key===null?At:qt.key),M=g(qt,M,At),Nt===null?mt=qt:Nt.sibling=qt,Nt=qt);return s&&_t.forEach(function(BD){return r(k,BD)}),Gt&&oa(k,At),mt}function ne(k,M,F,J){if(typeof F=="object"&&F!==null&&F.type===C&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case A:t:{for(var mt=F.key;M!==null;){if(M.key===mt){if(mt=F.type,mt===C){if(M.tag===7){o(k,M.sibling),J=d(M,F.props.children),J.return=k,k=J;break t}}else if(M.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&o0(mt)===M.type){o(k,M.sibling),J=d(M,F.props),xu(J,F),J.return=k,k=J;break t}o(k,M);break}else r(k,M);M=M.sibling}F.type===C?(J=ra(F.props.children,k.mode,J,F.key),J.return=k,k=J):(J=Nh(F.type,F.key,F.props,null,k.mode,J),xu(J,F),J.return=k,k=J)}return E(k);case I:t:{for(mt=F.key;M!==null;){if(M.key===mt)if(M.tag===4&&M.stateNode.containerInfo===F.containerInfo&&M.stateNode.implementation===F.implementation){o(k,M.sibling),J=d(M,F.children||[]),J.return=k,k=J;break t}else{o(k,M);break}else r(k,M);M=M.sibling}J=jm(F,k.mode,J),J.return=k,k=J}return E(k);case w:return mt=F._init,F=mt(F._payload),ne(k,M,F,J)}if(ae(F))return bt(k,M,F,J);if(L(F)){if(mt=L(F),typeof mt!="function")throw Error(i(150));return F=mt.call(F),Et(k,M,F,J)}if(typeof F.then=="function")return ne(k,M,Wh(F),J);if(F.$$typeof===Q)return ne(k,M,Uh(k,F),J);Zh(k,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,M!==null&&M.tag===6?(o(k,M.sibling),J=d(M,F),J.return=k,k=J):(o(k,M),J=Bm(F,k.mode,J),J.return=k,k=J),E(k)):o(k,M)}return function(k,M,F,J){try{Ru=0;var mt=ne(k,M,F,J);return Do=null,mt}catch(_t){if(_t===_u||_t===jh)throw _t;var Nt=Rn(29,_t,null,k.mode);return Nt.lanes=J,Nt.return=k,Nt}finally{}}}var Vo=l0(!0),u0=l0(!1),Qn=it(null),xi=null;function Hs(s){var r=s.alternate;at(Ue,Ue.current&1),at(Qn,s),xi===null&&(r===null||Io.current!==null||r.memoizedState!==null)&&(xi=s)}function c0(s){if(s.tag===22){if(at(Ue,Ue.current),at(Qn,s),xi===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(xi=s)}}else Gs()}function Gs(){at(Ue,Ue.current),at(Qn,Qn.current)}function ls(s){ht(Qn),xi===s&&(xi=null),ht(Ue)}var Ue=it(0);function Jh(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||lg(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function vp(s,r,o,c){r=s.memoizedState,o=o(c,r),o=o==null?r:y({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Tp={enqueueSetState:function(s,r,o){s=s._reactInternals;var c=Vn(),d=zs(c);d.payload=r,o!=null&&(d.callback=o),r=Fs(s,d,c),r!==null&&(Pn(r,s,c),Tu(r,s,c))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var c=Vn(),d=zs(c);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=Fs(s,d,c),r!==null&&(Pn(r,s,c),Tu(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Vn(),c=zs(o);c.tag=2,r!=null&&(c.callback=r),r=Fs(s,c,o),r!==null&&(Pn(r,s,o),Tu(r,s,o))}};function h0(s,r,o,c,d,g,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,g,E):r.prototype&&r.prototype.isPureReactComponent?!cu(o,c)||!cu(d,g):!0}function f0(s,r,o,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==s&&Tp.enqueueReplaceState(r,r.state,null)}function ma(s,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(s=s.defaultProps){o===r&&(o=y({},o));for(var d in s)o[d]===void 0&&(o[d]=s[d])}return o}var tf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function d0(s){tf(s)}function m0(s){console.error(s)}function p0(s){tf(s)}function ef(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function g0(s,r,o){try{var c=s.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Ep(s,r,o){return o=zs(o),o.tag=3,o.payload={element:null},o.callback=function(){ef(s,r)},o}function y0(s){return s=zs(s),s.tag=3,s}function _0(s,r,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;s.payload=function(){return d(g)},s.callback=function(){g0(r,o,c)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){g0(r,o,c),typeof d!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var b=c.stack;this.componentDidCatch(c.value,{componentStack:b!==null?b:""})})}function BC(s,r,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&pu(r,o,d,!0),o=Qn.current,o!==null){switch(o.tag){case 13:return xi===null?Gp():o.alternate===null&&_e===0&&(_e=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===$m?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Qp(s,c,d)),!1;case 22:return o.flags|=65536,c===$m?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Qp(s,c,d)),!1}throw Error(i(435,o.tag))}return Qp(s,c,d),Gp(),!1}if(Gt)return r=Qn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,c!==qm&&(s=Error(i(422),{cause:c}),mu(qn(s,o)))):(c!==qm&&(r=Error(i(423),{cause:c}),mu(qn(r,o))),s=s.current.alternate,s.flags|=65536,d&=-d,s.lanes|=d,c=qn(c,o),d=Ep(s.stateNode,c,d),Jm(s,d),_e!==4&&(_e=2)),!1;var g=Error(i(520),{cause:c});if(g=qn(g,o),Ou===null?Ou=[g]:Ou.push(g),_e!==4&&(_e=2),r===null)return!0;c=qn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=d&-d,o.lanes|=s,s=Ep(o.stateNode,c,s),Jm(o,s),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ws===null||!Ws.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=y0(d),_0(d,s,o,c),Jm(o,d),!1}o=o.return}while(o!==null);return!1}var v0=Error(i(461)),He=!1;function We(s,r,o,c){r.child=s===null?u0(r,null,o,c):Vo(r,s.child,o,c)}function T0(s,r,o,c,d){o=o.render;var g=r.ref;if("ref"in c){var E={};for(var b in c)b!=="ref"&&(E[b]=c[b])}else E=c;return ha(r),c=sp(s,r,o,E,g,d),b=rp(),s!==null&&!He?(ap(s,r,d),us(s,r,d)):(Gt&&b&&zm(r),r.flags|=1,We(s,r,c,d),r.child)}function E0(s,r,o,c,d){if(s===null){var g=o.type;return typeof g=="function"&&!Um(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,A0(s,r,g,c,d)):(s=Nh(o.type,null,c,r,r.mode,d),s.ref=r.ref,s.return=r,r.child=s)}if(g=s.child,!Cp(s,d)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:cu,o(E,c)&&s.ref===r.ref)return us(s,r,d)}return r.flags|=1,s=ns(g,c),s.ref=r.ref,s.return=r,r.child=s}function A0(s,r,o,c,d){if(s!==null){var g=s.memoizedProps;if(cu(g,c)&&s.ref===r.ref)if(He=!1,r.pendingProps=c=g,Cp(s,d))(s.flags&131072)!==0&&(He=!0);else return r.lanes=s.lanes,us(s,r,d)}return Ap(s,r,o,c,d)}function b0(s,r,o){var c=r.pendingProps,d=c.children,g=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((r.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,s!==null){for(d=r.child=s.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;r.childLanes=g&~c}else r.childLanes=0,r.child=null;return S0(s,r,c,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Bh(r,g!==null?g.cachePool:null),g!==null?AT(r,g):ep(),c0(r);else return r.lanes=r.childLanes=536870912,S0(s,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(Bh(r,g.cachePool),AT(r,g),Gs(),r.memoizedState=null):(s!==null&&Bh(r,null),ep(),Gs());return We(s,r,d,o),r.child}function S0(s,r,o,c){var d=Xm();return d=d===null?null:{parent:Le._currentValue,pool:d},r.memoizedState={baseLanes:o,cachePool:d},s!==null&&Bh(r,null),ep(),c0(r),s!==null&&pu(s,r,c,!0),null}function nf(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Ap(s,r,o,c,d){return ha(r),o=sp(s,r,o,c,void 0,d),c=rp(),s!==null&&!He?(ap(s,r,d),us(s,r,d)):(Gt&&c&&zm(r),r.flags|=1,We(s,r,o,d),r.child)}function w0(s,r,o,c,d,g){return ha(r),r.updateQueue=null,o=ST(r,c,o,d),bT(s),c=rp(),s!==null&&!He?(ap(s,r,g),us(s,r,g)):(Gt&&c&&zm(r),r.flags|=1,We(s,r,o,g),r.child)}function I0(s,r,o,c,d){if(ha(r),r.stateNode===null){var g=Eo,E=o.contextType;typeof E=="object"&&E!==null&&(g=rn(E)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Tp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Wm(r),E=o.contextType,g.context=typeof E=="object"&&E!==null?rn(E):Eo,g.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(vp(r,o,E,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Tp.enqueueReplaceState(g,g.state,null),Au(r,c,g,d),Eu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){g=r.stateNode;var b=r.memoizedProps,x=ma(o,b);g.props=x;var q=g.context,W=o.contextType;E=Eo,typeof W=="object"&&W!==null&&(E=rn(W));var et=o.getDerivedStateFromProps;W=typeof et=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,W||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||q!==E)&&f0(r,g,c,E),js=!1;var H=r.memoizedState;g.state=H,Au(r,c,g,d),Eu(),q=r.memoizedState,b||H!==q||js?(typeof et=="function"&&(vp(r,o,et,c),q=r.memoizedState),(x=js||h0(r,o,x,c,H,q,E))?(W||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=q),g.props=c,g.state=q,g.context=E,c=x):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Zm(s,r),E=r.memoizedProps,W=ma(o,E),g.props=W,et=r.pendingProps,H=g.context,q=o.contextType,x=Eo,typeof q=="object"&&q!==null&&(x=rn(q)),b=o.getDerivedStateFromProps,(q=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==et||H!==x)&&f0(r,g,c,x),js=!1,H=r.memoizedState,g.state=H,Au(r,c,g,d),Eu();var G=r.memoizedState;E!==et||H!==G||js||s!==null&&s.dependencies!==null&&Lh(s.dependencies)?(typeof b=="function"&&(vp(r,o,b,c),G=r.memoizedState),(W=js||h0(r,o,W,c,H,G,x)||s!==null&&s.dependencies!==null&&Lh(s.dependencies))?(q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,G,x),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,G,x)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===s.memoizedProps&&H===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&H===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=G),g.props=c,g.state=G,g.context=x,c=W):(typeof g.componentDidUpdate!="function"||E===s.memoizedProps&&H===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&H===s.memoizedState||(r.flags|=1024),c=!1)}return g=c,nf(s,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,s!==null&&c?(r.child=Vo(r,s.child,null,d),r.child=Vo(r,null,o,d)):We(s,r,o,d),r.memoizedState=g.state,s=r.child):s=us(s,r,d),s}function R0(s,r,o,c){return du(),r.flags|=256,We(s,r,o,c),r.child}var bp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sp(s){return{baseLanes:s,cachePool:mT()}}function wp(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Yn),s}function x0(s,r,o){var c=r.pendingProps,d=!1,g=(r.flags&128)!==0,E;if((E=g)||(E=s!==null&&s.memoizedState===null?!1:(Ue.current&2)!==0),E&&(d=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,s===null){if(Gt){if(d?Hs(r):Gs(),Gt){var b=ye,x;if(x=b){t:{for(x=b,b=Ri;x.nodeType!==8;){if(!b){b=null;break t}if(x=ui(x.nextSibling),x===null){b=null;break t}}b=x}b!==null?(r.memoizedState={dehydrated:b,treeContext:aa!==null?{id:is,overflow:ss}:null,retryLane:536870912,hydrationErrors:null},x=Rn(18,null,null,0),x.stateNode=b,x.return=r,r.child=x,mn=r,ye=null,x=!0):x=!1}x||ua(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return lg(b)?r.lanes=32:r.lanes=536870912,null;ls(r)}return b=c.children,c=c.fallback,d?(Gs(),d=r.mode,b=sf({mode:"hidden",children:b},d),c=ra(c,d,o,null),b.return=r,c.return=r,b.sibling=c,r.child=b,d=r.child,d.memoizedState=Sp(o),d.childLanes=wp(s,E,o),r.memoizedState=bp,c):(Hs(r),Ip(r,b))}if(x=s.memoizedState,x!==null&&(b=x.dehydrated,b!==null)){if(g)r.flags&256?(Hs(r),r.flags&=-257,r=Rp(s,r,o)):r.memoizedState!==null?(Gs(),r.child=s.child,r.flags|=128,r=null):(Gs(),d=c.fallback,b=r.mode,c=sf({mode:"visible",children:c.children},b),d=ra(d,b,o,null),d.flags|=2,c.return=r,d.return=r,c.sibling=d,r.child=c,Vo(r,s.child,null,o),c=r.child,c.memoizedState=Sp(o),c.childLanes=wp(s,E,o),r.memoizedState=bp,r=d);else if(Hs(r),lg(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var q=E.dgst;E=q,c=Error(i(419)),c.stack="",c.digest=E,mu({value:c,source:null,stack:null}),r=Rp(s,r,o)}else if(He||pu(s,r,o,!1),E=(o&s.childLanes)!==0,He||E){if(E=re,E!==null&&(c=o&-o,c=(c&42)!==0?1:Ps(c),c=(c&(E.suspendedLanes|o))!==0?0:c,c!==0&&c!==x.retryLane))throw x.retryLane=c,To(s,c),Pn(E,s,c),v0;b.data==="$?"||Gp(),r=Rp(s,r,o)}else b.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=x.treeContext,ye=ui(b.nextSibling),mn=r,Gt=!0,la=null,Ri=!1,s!==null&&(Gn[Kn++]=is,Gn[Kn++]=ss,Gn[Kn++]=aa,is=s.id,ss=s.overflow,aa=r),r=Ip(r,c.children),r.flags|=4096);return r}return d?(Gs(),d=c.fallback,b=r.mode,x=s.child,q=x.sibling,c=ns(x,{mode:"hidden",children:c.children}),c.subtreeFlags=x.subtreeFlags&65011712,q!==null?d=ns(q,d):(d=ra(d,b,o,null),d.flags|=2),d.return=r,c.return=r,c.sibling=d,r.child=c,c=d,d=r.child,b=s.child.memoizedState,b===null?b=Sp(o):(x=b.cachePool,x!==null?(q=Le._currentValue,x=x.parent!==q?{parent:q,pool:q}:x):x=mT(),b={baseLanes:b.baseLanes|o,cachePool:x}),d.memoizedState=b,d.childLanes=wp(s,E,o),r.memoizedState=bp,c):(Hs(r),o=s.child,s=o.sibling,o=ns(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,s!==null&&(E=r.deletions,E===null?(r.deletions=[s],r.flags|=16):E.push(s)),r.child=o,r.memoizedState=null,o)}function Ip(s,r){return r=sf({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function sf(s,r){return s=Rn(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Rp(s,r,o){return Vo(r,s.child,null,o),s=Ip(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function C0(s,r,o){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),Gm(s.return,r,o)}function xp(s,r,o,c,d){var g=s.memoizedState;g===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=d)}function D0(s,r,o){var c=r.pendingProps,d=c.revealOrder,g=c.tail;if(We(s,r,c.children,o),c=Ue.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&C0(s,o,r);else if(s.tag===19)C0(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(at(Ue,c),d){case"forwards":for(o=r.child,d=null;o!==null;)s=o.alternate,s!==null&&Jh(s)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),xp(r,!1,d,o,g);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(s=d.alternate,s!==null&&Jh(s)===null){r.child=d;break}s=d.sibling,d.sibling=o,o=d,d=s}xp(r,!0,o,null,g);break;case"together":xp(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function us(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),$s|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(pu(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=ns(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=ns(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function Cp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Lh(s)))}function jC(s,r,o){switch(r.tag){case 3:se(r,r.stateNode.containerInfo),Bs(r,Le,s.memoizedState.cache),du();break;case 27:case 5:Vs(r);break;case 4:se(r,r.stateNode.containerInfo);break;case 10:Bs(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Hs(r),r.flags|=128,null):(o&r.child.childLanes)!==0?x0(s,r,o):(Hs(r),s=us(s,r,o),s!==null?s.sibling:null);Hs(r);break;case 19:var d=(s.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(pu(s,r,o,!1),c=(o&r.childLanes)!==0),d){if(c)return D0(s,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),at(Ue,Ue.current),c)break;return null;case 22:case 23:return r.lanes=0,b0(s,r,o);case 24:Bs(r,Le,s.memoizedState.cache)}return us(s,r,o)}function V0(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)He=!0;else{if(!Cp(s,o)&&(r.flags&128)===0)return He=!1,jC(s,r,o);He=(s.flags&131072)!==0}else He=!1,Gt&&(r.flags&1048576)!==0&&oT(r,kh,r.index);switch(r.lanes=0,r.tag){case 16:t:{s=r.pendingProps;var c=r.elementType,d=c._init;if(c=d(c._payload),r.type=c,typeof c=="function")Um(c)?(s=ma(c,s),r.tag=1,r=I0(null,r,c,s,o)):(r.tag=0,r=Ap(null,r,c,s,o));else{if(c!=null){if(d=c.$$typeof,d===ct){r.tag=11,r=T0(null,r,c,s,o);break t}else if(d===V){r.tag=14,r=E0(null,r,c,s,o);break t}}throw r=we(c)||c,Error(i(306,r,""))}}return r;case 0:return Ap(s,r,r.type,r.pendingProps,o);case 1:return c=r.type,d=ma(c,r.pendingProps),I0(s,r,c,d,o);case 3:t:{if(se(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var g=r.memoizedState;d=g.element,Zm(s,r),Au(r,c,null,o);var E=r.memoizedState;if(c=E.cache,Bs(r,Le,c),c!==g.cache&&Km(r,[Le],o,!0),Eu(),c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=R0(s,r,c,o);break t}else if(c!==d){d=qn(Error(i(424)),r),mu(d),r=R0(s,r,c,o);break t}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ye=ui(s.firstChild),mn=r,Gt=!0,la=null,Ri=!0,o=u0(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(du(),c===d){r=us(s,r,o);break t}We(s,r,c,o)}r=r.child}return r;case 26:return nf(s,r),s===null?(o=OE(r.type,null,r.pendingProps,null))?r.memoizedState=o:Gt||(o=r.type,s=r.pendingProps,c=_f(It.current).createElement(o),c[Ne]=r,c[Ie]=s,Je(c,o,s),Ee(c),r.stateNode=c):r.memoizedState=OE(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Vs(r),s===null&&Gt&&(c=r.stateNode=PE(r.type,r.pendingProps,It.current),mn=r,Ri=!0,d=ye,tr(r.type)?(ug=d,ye=ui(c.firstChild)):ye=d),We(s,r,r.pendingProps.children,o),nf(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Gt&&((d=c=ye)&&(c=mD(c,r.type,r.pendingProps,Ri),c!==null?(r.stateNode=c,mn=r,ye=ui(c.firstChild),Ri=!1,d=!0):d=!1),d||ua(r)),Vs(r),d=r.type,g=r.pendingProps,E=s!==null?s.memoizedProps:null,c=g.children,rg(d,g)?c=null:E!==null&&rg(d,E)&&(r.flags|=32),r.memoizedState!==null&&(d=sp(s,r,PC,null,null,o),Hu._currentValue=d),nf(s,r),We(s,r,c,o),r.child;case 6:return s===null&&Gt&&((s=o=ye)&&(o=pD(o,r.pendingProps,Ri),o!==null?(r.stateNode=o,mn=r,ye=null,s=!0):s=!1),s||ua(r)),null;case 13:return x0(s,r,o);case 4:return se(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=Vo(r,null,c,o):We(s,r,c,o),r.child;case 11:return T0(s,r,r.type,r.pendingProps,o);case 7:return We(s,r,r.pendingProps,o),r.child;case 8:return We(s,r,r.pendingProps.children,o),r.child;case 12:return We(s,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Bs(r,r.type,c.value),We(s,r,c.children,o),r.child;case 9:return d=r.type._context,c=r.pendingProps.children,ha(r),d=rn(d),c=c(d),r.flags|=1,We(s,r,c,o),r.child;case 14:return E0(s,r,r.type,r.pendingProps,o);case 15:return A0(s,r,r.type,r.pendingProps,o);case 19:return D0(s,r,o);case 31:return c=r.pendingProps,o=r.mode,c={mode:c.mode,children:c.children},s===null?(o=sf(c,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=ns(s.child,c),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return b0(s,r,o);case 24:return ha(r),c=rn(Le),s===null?(d=Xm(),d===null&&(d=re,g=Qm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:c,cache:d},Wm(r),Bs(r,Le,d)):((s.lanes&o)!==0&&(Zm(s,r),Au(r,null,null,o),Eu()),d=s.memoizedState,g=r.memoizedState,d.parent!==c?(d={parent:c,cache:c},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Bs(r,Le,c)):(c=g.cache,Bs(r,Le,c),c!==d.cache&&Km(r,[Le],o,!0))),We(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function cs(s){s.flags|=4}function P0(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!jE(r)){if(r=Qn.current,r!==null&&((zt&4194048)===zt?xi!==null:(zt&62914560)!==zt&&(zt&536870912)===0||r!==xi))throw vu=$m,pT;s.flags|=8192}}function rf(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Kl():536870912,s.lanes|=r,Oo|=r)}function Cu(s,r){if(!Gt)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function de(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(r)for(var d=s.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=s,d=d.sibling;else for(d=s.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=s,d=d.sibling;return s.subtreeFlags|=c,s.childLanes=o,r}function zC(s,r,o){var c=r.pendingProps;switch(Fm(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(r),null;case 1:return de(r),null;case 3:return o=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),as(Le),pi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(fu(r)?cs(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,cT())),de(r),null;case 26:return o=r.memoizedState,s===null?(cs(r),o!==null?(de(r),P0(r,o)):(de(r),r.flags&=-16777217)):o?o!==s.memoizedState?(cs(r),de(r),P0(r,o)):(de(r),r.flags&=-16777217):(s.memoizedProps!==c&&cs(r),de(r),r.flags&=-16777217),null;case 27:qi(r),o=It.current;var d=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==c&&cs(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return de(r),null}s=Tt.current,fu(r)?lT(r):(s=PE(d,c,o),r.stateNode=s,cs(r))}return de(r),null;case 5:if(qi(r),o=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&cs(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return de(r),null}if(s=Tt.current,fu(r))lT(r);else{switch(d=_f(It.current),s){case 1:s=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:s=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":s=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":s=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":s=d.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?d.createElement(o,{is:c.is}):d.createElement(o)}}s[Ne]=r,s[Ie]=c;t:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break t;for(;d.sibling===null;){if(d.return===null||d.return===r)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=s;t:switch(Je(s,o,c),o){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&cs(r)}}return de(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&cs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=It.current,fu(r)){if(s=r.stateNode,o=r.memoizedProps,c=null,d=mn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}s[Ne]=r,s=!!(s.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||wE(s.nodeValue,o)),s||ua(r)}else s=_f(s).createTextNode(c),s[Ne]=r,r.stateNode=s}return de(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(d=fu(r),c!==null&&c.dehydrated!==null){if(s===null){if(!d)throw Error(i(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Ne]=r}else du(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;de(r),d=!1}else d=cT(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(ls(r),r):(ls(r),null)}if(ls(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=c!==null,s=s!==null&&s.memoizedState!==null,o){c=r.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)}return o!==s&&o&&(r.child.flags|=8192),rf(r,r.updateQueue),de(r),null;case 4:return pi(),s===null&&tg(r.stateNode.containerInfo),de(r),null;case 10:return as(r.type),de(r),null;case 19:if(ht(Ue),d=r.memoizedState,d===null)return de(r),null;if(c=(r.flags&128)!==0,g=d.rendering,g===null)if(c)Cu(d,!1);else{if(_e!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(g=Jh(s),g!==null){for(r.flags|=128,Cu(d,!1),s=g.updateQueue,r.updateQueue=s,rf(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)aT(o,s),o=o.sibling;return at(Ue,Ue.current&1|2),r.child}s=s.sibling}d.tail!==null&&Ln()>lf&&(r.flags|=128,c=!0,Cu(d,!1),r.lanes=4194304)}else{if(!c)if(s=Jh(g),s!==null){if(r.flags|=128,c=!0,s=s.updateQueue,r.updateQueue=s,rf(r,s),Cu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Gt)return de(r),null}else 2*Ln()-d.renderingStartTime>lf&&o!==536870912&&(r.flags|=128,c=!0,Cu(d,!1),r.lanes=4194304);d.isBackwards?(g.sibling=r.child,r.child=g):(s=d.last,s!==null?s.sibling=g:r.child=g,d.last=g)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Ln(),r.sibling=null,s=Ue.current,at(Ue,c?s&1|2:s&1),r):(de(r),null);case 22:case 23:return ls(r),np(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(de(r),r.subtreeFlags&6&&(r.flags|=8192)):de(r),o=r.updateQueue,o!==null&&rf(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),s!==null&&ht(fa),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),as(Le),de(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function FC(s,r){switch(Fm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return as(Le),pi(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return qi(r),null;case 13:if(ls(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));du()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return ht(Ue),null;case 4:return pi(),null;case 10:return as(r.type),null;case 22:case 23:return ls(r),np(),s!==null&&ht(fa),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return as(Le),null;case 25:return null;default:return null}}function M0(s,r){switch(Fm(r),r.tag){case 3:as(Le),pi();break;case 26:case 27:case 5:qi(r);break;case 4:pi();break;case 13:ls(r);break;case 19:ht(Ue);break;case 10:as(r.type);break;case 22:case 23:ls(r),np(),s!==null&&ht(fa);break;case 24:as(Le)}}function Du(s,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&s)===s){c=void 0;var g=o.create,E=o.inst;c=g(),E.destroy=c}o=o.next}while(o!==d)}}catch(b){ie(r,r.return,b)}}function Ks(s,r,o){try{var c=r.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&s)===s){var E=c.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,d=r;var x=o,q=b;try{q()}catch(W){ie(d,x,W)}}}c=c.next}while(c!==g)}}catch(W){ie(r,r.return,W)}}function N0(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{ET(r,o)}catch(c){ie(s,s.return,c)}}}function O0(s,r,o){o.props=ma(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(c){ie(s,r,c)}}function Vu(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof o=="function"?s.refCleanup=o(c):o.current=c}}catch(d){ie(s,r,d)}}function Ci(s,r){var o=s.ref,c=s.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){ie(s,r,d)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ie(s,r,d)}else o.current=null}function k0(s){var r=s.type,o=s.memoizedProps,c=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){ie(s,s.return,d)}}function Dp(s,r,o){try{var c=s.stateNode;uD(c,s.type,o,r),c[Ie]=r}catch(d){ie(s,s.return,d)}}function L0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&tr(s.type)||s.tag===4}function Vp(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||L0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&tr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Pp(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=yf));else if(c!==4&&(c===27&&tr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Pp(s,r,o),s=s.sibling;s!==null;)Pp(s,r,o),s=s.sibling}function af(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(c!==4&&(c===27&&tr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(af(s,r,o),s=s.sibling;s!==null;)af(s,r,o),s=s.sibling}function U0(s){var r=s.stateNode,o=s.memoizedProps;try{for(var c=s.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Je(r,c,o),r[Ne]=s,r[Ie]=o}catch(g){ie(s,s.return,g)}}var hs=!1,be=!1,Mp=!1,B0=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function qC(s,r){if(s=s.containerInfo,ig=Sf,s=$v(s),Vm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else t:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var E=0,b=-1,x=-1,q=0,W=0,et=s,H=null;e:for(;;){for(var G;et!==o||d!==0&&et.nodeType!==3||(b=E+d),et!==g||c!==0&&et.nodeType!==3||(x=E+c),et.nodeType===3&&(E+=et.nodeValue.length),(G=et.firstChild)!==null;)H=et,et=G;for(;;){if(et===s)break e;if(H===o&&++q===d&&(b=E),H===g&&++W===c&&(x=E),(G=et.nextSibling)!==null)break;et=H,H=et.parentNode}et=G}o=b===-1||x===-1?null:{start:b,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(sg={focusedElem:s,selectionRange:o},Sf=!1,Ge=r;Ge!==null;)if(r=Ge,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,Ge=s;else for(;Ge!==null;){switch(r=Ge,g=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var bt=ma(o.type,d,o.elementType===o.type);s=c.getSnapshotBeforeUpdate(bt,g),c.__reactInternalSnapshotBeforeUpdate=s}catch(Et){ie(o,o.return,Et)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)og(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":og(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Ge=s;break}Ge=r.return}}function j0(s,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Qs(s,o),c&4&&Du(5,o);break;case 1:if(Qs(s,o),c&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(E){ie(o,o.return,E)}else{var d=ma(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(d,r,s.__reactInternalSnapshotBeforeUpdate)}catch(E){ie(o,o.return,E)}}c&64&&N0(o),c&512&&Vu(o,o.return);break;case 3:if(Qs(s,o),c&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{ET(s,r)}catch(E){ie(o,o.return,E)}}break;case 27:r===null&&c&4&&U0(o);case 26:case 5:Qs(s,o),r===null&&c&4&&k0(o),c&512&&Vu(o,o.return);break;case 12:Qs(s,o);break;case 13:Qs(s,o),c&4&&q0(s,o),c&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=ZC.bind(null,o),gD(s,o))));break;case 22:if(c=o.memoizedState!==null||hs,!c){r=r!==null&&r.memoizedState!==null||be,d=hs;var g=be;hs=c,(be=r)&&!g?Ys(s,o,(o.subtreeFlags&8772)!==0):Qs(s,o),hs=d,be=g}break;case 30:break;default:Qs(s,o)}}function z0(s){var r=s.alternate;r!==null&&(s.alternate=null,z0(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Os(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ue=null,vn=!1;function fs(s,r,o){for(o=o.child;o!==null;)F0(s,r,o),o=o.sibling}function F0(s,r,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ge,o)}catch{}switch(o.tag){case 26:be||Ci(o,r),fs(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:be||Ci(o,r);var c=ue,d=vn;tr(o.type)&&(ue=o.stateNode,vn=!1),fs(s,r,o),ju(o.stateNode),ue=c,vn=d;break;case 5:be||Ci(o,r);case 6:if(c=ue,d=vn,ue=null,fs(s,r,o),ue=c,vn=d,ue!==null)if(vn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(o.stateNode)}catch(g){ie(o,r,g)}else try{ue.removeChild(o.stateNode)}catch(g){ie(o,r,g)}break;case 18:ue!==null&&(vn?(s=ue,DE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Yu(s)):DE(ue,o.stateNode));break;case 4:c=ue,d=vn,ue=o.stateNode.containerInfo,vn=!0,fs(s,r,o),ue=c,vn=d;break;case 0:case 11:case 14:case 15:be||Ks(2,o,r),be||Ks(4,o,r),fs(s,r,o);break;case 1:be||(Ci(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&O0(o,r,c)),fs(s,r,o);break;case 21:fs(s,r,o);break;case 22:be=(c=be)||o.memoizedState!==null,fs(s,r,o),be=c;break;default:fs(s,r,o)}}function q0(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Yu(s)}catch(o){ie(r,r.return,o)}}function HC(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new B0),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new B0),r;default:throw Error(i(435,s.tag))}}function Np(s,r){var o=HC(s);r.forEach(function(c){var d=JC.bind(null,s,c);o.has(c)||(o.add(c),c.then(d,d))})}function xn(s,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=s,E=r,b=E;t:for(;b!==null;){switch(b.tag){case 27:if(tr(b.type)){ue=b.stateNode,vn=!1;break t}break;case 5:ue=b.stateNode,vn=!1;break t;case 3:case 4:ue=b.stateNode.containerInfo,vn=!0;break t}b=b.return}if(ue===null)throw Error(i(160));F0(g,E,d),ue=null,vn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)H0(r,s),r=r.sibling}var li=null;function H0(s,r){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:xn(r,s),Cn(s),c&4&&(Ks(3,s,s.return),Du(3,s),Ks(5,s,s.return));break;case 1:xn(r,s),Cn(s),c&512&&(be||o===null||Ci(o,o.return)),c&64&&hs&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=li;if(xn(r,s),Cn(s),c&512&&(be||o===null||Ci(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=s.memoizedState,o===null)if(c===null)if(s.stateNode===null){t:{c=s.type,o=s.memoizedProps,d=d.ownerDocument||d;e:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[qr]||g[Ne]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),Je(g,c,o),g[Ne]=s,Ee(g),c=g;break t;case"link":var E=UE("link","href",d).get(c+(o.href||""));if(E){for(var b=0;b<E.length;b++)if(g=E[b],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(b,1);break e}}g=d.createElement(c),Je(g,c,o),d.head.appendChild(g);break;case"meta":if(E=UE("meta","content",d).get(c+(o.content||""))){for(b=0;b<E.length;b++)if(g=E[b],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(b,1);break e}}g=d.createElement(c),Je(g,c,o),d.head.appendChild(g);break;default:throw Error(i(468,c))}g[Ne]=s,Ee(g),c=g}s.stateNode=c}else BE(d,s.type,s.stateNode);else s.stateNode=LE(d,c,s.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?BE(d,s.type,s.stateNode):LE(d,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Dp(s,s.memoizedProps,o.memoizedProps)}break;case 27:xn(r,s),Cn(s),c&512&&(be||o===null||Ci(o,o.return)),o!==null&&c&4&&Dp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(xn(r,s),Cn(s),c&512&&(be||o===null||Ci(o,o.return)),s.flags&32){d=s.stateNode;try{Bn(d,"")}catch(G){ie(s,s.return,G)}}c&4&&s.stateNode!=null&&(d=s.memoizedProps,Dp(s,d,o!==null?o.memoizedProps:d)),c&1024&&(Mp=!0);break;case 6:if(xn(r,s),Cn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,o=s.stateNode;try{o.nodeValue=c}catch(G){ie(s,s.return,G)}}break;case 3:if(Ef=null,d=li,li=vf(r.containerInfo),xn(r,s),li=d,Cn(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Yu(r.containerInfo)}catch(G){ie(s,s.return,G)}Mp&&(Mp=!1,G0(s));break;case 4:c=li,li=vf(s.stateNode.containerInfo),xn(r,s),Cn(s),li=c;break;case 12:xn(r,s),Cn(s);break;case 13:xn(r,s),Cn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(jp=Ln()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Np(s,c)));break;case 22:d=s.memoizedState!==null;var x=o!==null&&o.memoizedState!==null,q=hs,W=be;if(hs=q||d,be=W||x,xn(r,s),be=W,hs=q,Cn(s),c&8192)t:for(r=s.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||x||hs||be||pa(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){x=o=r;try{if(g=x.stateNode,d)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=x.stateNode;var et=x.memoizedProps.style,H=et!=null&&et.hasOwnProperty("display")?et.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){ie(x,x.return,G)}}}else if(r.tag===6){if(o===null){x=r;try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(G){ie(x,x.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Np(s,o))));break;case 19:xn(r,s),Cn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Np(s,c)));break;case 30:break;case 21:break;default:xn(r,s),Cn(s)}}function Cn(s){var r=s.flags;if(r&2){try{for(var o,c=s.return;c!==null;){if(L0(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,g=Vp(s);af(s,g,d);break;case 5:var E=o.stateNode;o.flags&32&&(Bn(E,""),o.flags&=-33);var b=Vp(s);af(s,b,E);break;case 3:case 4:var x=o.stateNode.containerInfo,q=Vp(s);Pp(s,q,x);break;default:throw Error(i(161))}}catch(W){ie(s,s.return,W)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function G0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;G0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Qs(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)j0(s,r.alternate,r),r=r.sibling}function pa(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Ks(4,r,r.return),pa(r);break;case 1:Ci(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&O0(r,r.return,o),pa(r);break;case 27:ju(r.stateNode);case 26:case 5:Ci(r,r.return),pa(r);break;case 22:r.memoizedState===null&&pa(r);break;case 30:pa(r);break;default:pa(r)}s=s.sibling}}function Ys(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,d=s,g=r,E=g.flags;switch(g.tag){case 0:case 11:case 15:Ys(d,g,o),Du(4,g);break;case 1:if(Ys(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){ie(c,c.return,q)}if(c=g,d=c.updateQueue,d!==null){var b=c.stateNode;try{var x=d.shared.hiddenCallbacks;if(x!==null)for(d.shared.hiddenCallbacks=null,d=0;d<x.length;d++)TT(x[d],b)}catch(q){ie(c,c.return,q)}}o&&E&64&&N0(g),Vu(g,g.return);break;case 27:U0(g);case 26:case 5:Ys(d,g,o),o&&c===null&&E&4&&k0(g),Vu(g,g.return);break;case 12:Ys(d,g,o);break;case 13:Ys(d,g,o),o&&E&4&&q0(d,g);break;case 22:g.memoizedState===null&&Ys(d,g,o),Vu(g,g.return);break;case 30:break;default:Ys(d,g,o)}r=r.sibling}}function Op(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&gu(o))}function kp(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&gu(s))}function Di(s,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)K0(s,r,o,c),r=r.sibling}function K0(s,r,o,c){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Di(s,r,o,c),d&2048&&Du(9,r);break;case 1:Di(s,r,o,c);break;case 3:Di(s,r,o,c),d&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&gu(s)));break;case 12:if(d&2048){Di(s,r,o,c),s=r.stateNode;try{var g=r.memoizedProps,E=g.id,b=g.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(x){ie(r,r.return,x)}}else Di(s,r,o,c);break;case 13:Di(s,r,o,c);break;case 23:break;case 22:g=r.stateNode,E=r.alternate,r.memoizedState!==null?g._visibility&2?Di(s,r,o,c):Pu(s,r):g._visibility&2?Di(s,r,o,c):(g._visibility|=2,Po(s,r,o,c,(r.subtreeFlags&10256)!==0)),d&2048&&Op(E,r);break;case 24:Di(s,r,o,c),d&2048&&kp(r.alternate,r);break;default:Di(s,r,o,c)}}function Po(s,r,o,c,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=s,E=r,b=o,x=c,q=E.flags;switch(E.tag){case 0:case 11:case 15:Po(g,E,b,x,d),Du(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?Po(g,E,b,x,d):Pu(g,E):(W._visibility|=2,Po(g,E,b,x,d)),d&&q&2048&&Op(E.alternate,E);break;case 24:Po(g,E,b,x,d),d&&q&2048&&kp(E.alternate,E);break;default:Po(g,E,b,x,d)}r=r.sibling}}function Pu(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,c=r,d=c.flags;switch(c.tag){case 22:Pu(o,c),d&2048&&Op(c.alternate,c);break;case 24:Pu(o,c),d&2048&&kp(c.alternate,c);break;default:Pu(o,c)}r=r.sibling}}var Mu=8192;function Mo(s){if(s.subtreeFlags&Mu)for(s=s.child;s!==null;)Q0(s),s=s.sibling}function Q0(s){switch(s.tag){case 26:Mo(s),s.flags&Mu&&s.memoizedState!==null&&CD(li,s.memoizedState,s.memoizedProps);break;case 5:Mo(s);break;case 3:case 4:var r=li;li=vf(s.stateNode.containerInfo),Mo(s),li=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=Mu,Mu=16777216,Mo(s),Mu=r):Mo(s));break;default:Mo(s)}}function Y0(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Nu(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Ge=c,$0(c,s)}Y0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)X0(s),s=s.sibling}function X0(s){switch(s.tag){case 0:case 11:case 15:Nu(s),s.flags&2048&&Ks(9,s,s.return);break;case 3:Nu(s);break;case 12:Nu(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,of(s)):Nu(s);break;default:Nu(s)}}function of(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Ge=c,$0(c,s)}Y0(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Ks(8,r,r.return),of(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,of(r));break;default:of(r)}s=s.sibling}}function $0(s,r){for(;Ge!==null;){var o=Ge;switch(o.tag){case 0:case 11:case 15:Ks(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:gu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Ge=c;else t:for(o=s;Ge!==null;){c=Ge;var d=c.sibling,g=c.return;if(z0(c),c===o){Ge=null;break t}if(d!==null){d.return=g,Ge=d;break t}Ge=g}}}var GC={getCacheForType:function(s){var r=rn(Le),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o}},KC=typeof WeakMap=="function"?WeakMap:Map,Yt=0,re=null,Ot=null,zt=0,Xt=0,Dn=null,Xs=!1,No=!1,Lp=!1,ds=0,_e=0,$s=0,ga=0,Up=0,Yn=0,Oo=0,Ou=null,Tn=null,Bp=!1,jp=0,lf=1/0,uf=null,Ws=null,Ze=0,Zs=null,ko=null,Lo=0,zp=0,Fp=null,W0=null,ku=0,qp=null;function Vn(){if((Yt&2)!==0&&zt!==0)return zt&-zt;if($.T!==null){var s=So;return s!==0?s:$p()}return Ms()}function Z0(){Yn===0&&(Yn=(zt&536870912)===0||Gt?Gl():536870912);var s=Qn.current;return s!==null&&(s.flags|=32),Yn}function Pn(s,r,o){(s===re&&(Xt===2||Xt===9)||s.cancelPendingCommit!==null)&&(Uo(s,0),Js(s,zt,Yn,!1)),Gi(s,o),((Yt&2)===0||s!==re)&&(s===re&&((Yt&2)===0&&(ga|=o),_e===4&&Js(s,zt,Yn,!1)),Vi(s))}function J0(s,r,o){if((Yt&6)!==0)throw Error(i(327));var c=!o&&(r&124)===0&&(r&s.expiredLanes)===0||Fr(s,r),d=c?XC(s,r):Kp(s,r,!0),g=c;do{if(d===0){No&&!c&&Js(s,r,0,!1);break}else{if(o=s.current.alternate,g&&!QC(o)){d=Kp(s,r,!1),g=!1;continue}if(d===2){if(g=r,s.errorRecoveryDisabledLanes&g)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var b=s;d=Ou;var x=b.current.memoizedState.isDehydrated;if(x&&(Uo(b,E).flags|=256),E=Kp(b,E,!1),E!==2){if(Lp&&!x){b.errorRecoveryDisabledLanes|=g,ga|=g,d=4;break t}g=Tn,Tn=d,g!==null&&(Tn===null?Tn=g:Tn.push.apply(Tn,g))}d=E}if(g=!1,d!==2)continue}}if(d===1){Uo(s,0),Js(s,r,0,!0);break}t:{switch(c=s,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Js(c,r,Yn,!Xs);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(d=jp+300-Ln(),10<d)){if(Js(c,r,Yn,!Xs),to(c,0,!0)!==0)break t;c.timeoutHandle=xE(tE.bind(null,c,o,Tn,uf,Bp,r,Yn,ga,Oo,Xs,g,2,-0,0),d);break t}tE(c,o,Tn,uf,Bp,r,Yn,ga,Oo,Xs,g,0,-0,0)}}break}while(!0);Vi(s)}function tE(s,r,o,c,d,g,E,b,x,q,W,et,H,G){if(s.timeoutHandle=-1,et=r.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(qu={stylesheets:null,count:0,unsuspend:xD},Q0(r),et=DD(),et!==null)){s.cancelPendingCommit=et(oE.bind(null,s,r,g,o,c,d,E,b,x,W,1,H,G)),Js(s,g,E,!q);return}oE(s,r,g,o,c,d,E,b,x)}function QC(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!In(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Js(s,r,o,c){r&=~Up,r&=~ga,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var d=r;0<d;){var g=31-sn(d),E=1<<g;c[g]=-1,d&=~E}o!==0&&gi(s,o,r)}function cf(){return(Yt&6)===0?(Lu(0),!1):!0}function Hp(){if(Ot!==null){if(Xt===0)var s=Ot.return;else s=Ot,rs=ca=null,op(s),Do=null,Ru=0,s=Ot;for(;s!==null;)M0(s.alternate,s),s=s.return;Ot=null}}function Uo(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,hD(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Hp(),re=s,Ot=o=ns(s.current,null),zt=r,Xt=0,Dn=null,Xs=!1,No=Fr(s,r),Lp=!1,Oo=Yn=Up=ga=$s=_e=0,Tn=Ou=null,Bp=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var d=31-sn(c),g=1<<d;r|=s[d],c&=~g}return ds=r,Vh(),o}function eE(s,r){Vt=null,$.H=$h,r===_u||r===jh?(r=_T(),Xt=3):r===pT?(r=_T(),Xt=4):Xt=r===v0?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,Ot===null&&(_e=1,ef(s,qn(r,s.current)))}function nE(){var s=$.H;return $.H=$h,s===null?$h:s}function iE(){var s=$.A;return $.A=GC,s}function Gp(){_e=4,Xs||(zt&4194048)!==zt&&Qn.current!==null||(No=!0),($s&134217727)===0&&(ga&134217727)===0||re===null||Js(re,zt,Yn,!1)}function Kp(s,r,o){var c=Yt;Yt|=2;var d=nE(),g=iE();(re!==s||zt!==r)&&(uf=null,Uo(s,r)),r=!1;var E=_e;t:do try{if(Xt!==0&&Ot!==null){var b=Ot,x=Dn;switch(Xt){case 8:Hp(),E=6;break t;case 3:case 2:case 9:case 6:Qn.current===null&&(r=!0);var q=Xt;if(Xt=0,Dn=null,Bo(s,b,x,q),o&&No){E=0;break t}break;default:q=Xt,Xt=0,Dn=null,Bo(s,b,x,q)}}YC(),E=_e;break}catch(W){eE(s,W)}while(!0);return r&&s.shellSuspendCounter++,rs=ca=null,Yt=c,$.H=d,$.A=g,Ot===null&&(re=null,zt=0,Vh()),E}function YC(){for(;Ot!==null;)sE(Ot)}function XC(s,r){var o=Yt;Yt|=2;var c=nE(),d=iE();re!==s||zt!==r?(uf=null,lf=Ln()+500,Uo(s,r)):No=Fr(s,r);t:do try{if(Xt!==0&&Ot!==null){r=Ot;var g=Dn;e:switch(Xt){case 1:Xt=0,Dn=null,Bo(s,r,g,1);break;case 2:case 9:if(gT(g)){Xt=0,Dn=null,rE(r);break}r=function(){Xt!==2&&Xt!==9||re!==s||(Xt=7),Vi(s)},g.then(r,r);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:gT(g)?(Xt=0,Dn=null,rE(r)):(Xt=0,Dn=null,Bo(s,r,g,7));break;case 5:var E=null;switch(Ot.tag){case 26:E=Ot.memoizedState;case 5:case 27:var b=Ot;if(!E||jE(E)){Xt=0,Dn=null;var x=b.sibling;if(x!==null)Ot=x;else{var q=b.return;q!==null?(Ot=q,hf(q)):Ot=null}break e}}Xt=0,Dn=null,Bo(s,r,g,5);break;case 6:Xt=0,Dn=null,Bo(s,r,g,6);break;case 8:Hp(),_e=6;break t;default:throw Error(i(462))}}$C();break}catch(W){eE(s,W)}while(!0);return rs=ca=null,$.H=c,$.A=d,Yt=o,Ot!==null?0:(re=null,zt=0,Vh(),_e)}function $C(){for(;Ot!==null&&!zl();)sE(Ot)}function sE(s){var r=V0(s.alternate,s,ds);s.memoizedProps=s.pendingProps,r===null?hf(s):Ot=r}function rE(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=w0(o,r,r.pendingProps,r.type,void 0,zt);break;case 11:r=w0(o,r,r.pendingProps,r.type.render,r.ref,zt);break;case 5:op(r);default:M0(o,r),r=Ot=aT(r,ds),r=V0(o,r,ds)}s.memoizedProps=s.pendingProps,r===null?hf(s):Ot=r}function Bo(s,r,o,c){rs=ca=null,op(r),Do=null,Ru=0;var d=r.return;try{if(BC(s,d,r,o,zt)){_e=1,ef(s,qn(o,s.current)),Ot=null;return}}catch(g){if(d!==null)throw Ot=d,g;_e=1,ef(s,qn(o,s.current)),Ot=null;return}r.flags&32768?(Gt||c===1?s=!0:No||(zt&536870912)!==0?s=!1:(Xs=s=!0,(c===2||c===9||c===3||c===6)&&(c=Qn.current,c!==null&&c.tag===13&&(c.flags|=16384))),aE(r,s)):hf(r)}function hf(s){var r=s;do{if((r.flags&32768)!==0){aE(r,Xs);return}s=r.return;var o=zC(r.alternate,r,ds);if(o!==null){Ot=o;return}if(r=r.sibling,r!==null){Ot=r;return}Ot=r=s}while(r!==null);_e===0&&(_e=5)}function aE(s,r){do{var o=FC(s.alternate,s);if(o!==null){o.flags&=32767,Ot=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=o}while(s!==null);_e=6,Ot=null}function oE(s,r,o,c,d,g,E,b,x){s.cancelPendingCommit=null;do ff();while(Ze!==0);if((Yt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=km,Ql(s,o,g,E,b,x),s===re&&(Ot=re=null,zt=0),ko=r,Zs=s,Lo=o,zp=g,Fp=d,W0=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,tD(Ur,function(){return fE(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,d=st.p,st.p=2,E=Yt,Yt|=4;try{qC(s,r,o)}finally{Yt=E,st.p=d,$.T=c}}Ze=1,lE(),uE(),cE()}}function lE(){if(Ze===1){Ze=0;var s=Zs,r=ko,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var c=st.p;st.p=2;var d=Yt;Yt|=4;try{H0(r,s);var g=sg,E=$v(s.containerInfo),b=g.focusedElem,x=g.selectionRange;if(E!==b&&b&&b.ownerDocument&&Xv(b.ownerDocument.documentElement,b)){if(x!==null&&Vm(b)){var q=x.start,W=x.end;if(W===void 0&&(W=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(W,b.value.length);else{var et=b.ownerDocument||document,H=et&&et.defaultView||window;if(H.getSelection){var G=H.getSelection(),bt=b.textContent.length,Et=Math.min(x.start,bt),ne=x.end===void 0?Et:Math.min(x.end,bt);!G.extend&&Et>ne&&(E=ne,ne=Et,Et=E);var k=Yv(b,Et),M=Yv(b,ne);if(k&&M&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var F=et.createRange();F.setStart(k.node,k.offset),G.removeAllRanges(),Et>ne?(G.addRange(F),G.extend(M.node,M.offset)):(F.setEnd(M.node,M.offset),G.addRange(F))}}}}for(et=[],G=b;G=G.parentNode;)G.nodeType===1&&et.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<et.length;b++){var J=et[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Sf=!!ig,sg=ig=null}finally{Yt=d,st.p=c,$.T=o}}s.current=r,Ze=2}}function uE(){if(Ze===2){Ze=0;var s=Zs,r=ko,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var c=st.p;st.p=2;var d=Yt;Yt|=4;try{j0(s,r.alternate,r)}finally{Yt=d,st.p=c,$.T=o}}Ze=3}}function cE(){if(Ze===4||Ze===3){Ze=0,ah();var s=Zs,r=ko,o=Lo,c=W0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ze=5:(Ze=0,ko=Zs=null,hE(s,s.pendingLanes));var d=s.pendingLanes;if(d===0&&(Ws=null),eo(o),r=r.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ge,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=$.T,d=st.p,st.p=2,$.T=null;try{for(var g=s.onRecoverableError,E=0;E<c.length;E++){var b=c[E];g(b.value,{componentStack:b.stack})}}finally{$.T=r,st.p=d}}(Lo&3)!==0&&ff(),Vi(s),d=s.pendingLanes,(o&4194090)!==0&&(d&42)!==0?s===qp?ku++:(ku=0,qp=s):ku=0,Lu(0)}}function hE(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,gu(r)))}function ff(s){return lE(),uE(),cE(),fE()}function fE(){if(Ze!==5)return!1;var s=Zs,r=zp;zp=0;var o=eo(Lo),c=$.T,d=st.p;try{st.p=32>o?32:o,$.T=null,o=Fp,Fp=null;var g=Zs,E=Lo;if(Ze=0,ko=Zs=null,Lo=0,(Yt&6)!==0)throw Error(i(331));var b=Yt;if(Yt|=4,X0(g.current),K0(g,g.current,E,o),Yt=b,Lu(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ge,g)}catch{}return!0}finally{st.p=d,$.T=c,hE(s,r)}}function dE(s,r,o){r=qn(o,r),r=Ep(s.stateNode,r,2),s=Fs(s,r,2),s!==null&&(Gi(s,2),Vi(s))}function ie(s,r,o){if(s.tag===3)dE(s,s,o);else for(;r!==null;){if(r.tag===3){dE(r,s,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ws===null||!Ws.has(c))){s=qn(o,s),o=y0(2),c=Fs(r,o,2),c!==null&&(_0(o,c,r,s),Gi(c,2),Vi(c));break}}r=r.return}}function Qp(s,r,o){var c=s.pingCache;if(c===null){c=s.pingCache=new KC;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(Lp=!0,d.add(o),s=WC.bind(null,s,r,o),r.then(s,s))}function WC(s,r,o){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,re===s&&(zt&o)===o&&(_e===4||_e===3&&(zt&62914560)===zt&&300>Ln()-jp?(Yt&2)===0&&Uo(s,0):Up|=o,Oo===zt&&(Oo=0)),Vi(s)}function mE(s,r){r===0&&(r=Kl()),s=To(s,r),s!==null&&(Gi(s,r),Vi(s))}function ZC(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),mE(s,o)}function JC(s,r){var o=0;switch(s.tag){case 13:var c=s.stateNode,d=s.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),mE(s,o)}function tD(s,r){return kr(s,r)}var df=null,jo=null,Yp=!1,mf=!1,Xp=!1,ya=0;function Vi(s){s!==jo&&s.next===null&&(jo===null?df=jo=s:jo=jo.next=s),mf=!0,Yp||(Yp=!0,nD())}function Lu(s,r){if(!Xp&&mf){Xp=!0;do for(var o=!1,c=df;c!==null;){if(s!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var E=c.suspendedLanes,b=c.pingedLanes;g=(1<<31-sn(42|s)+1)-1,g&=d&~(E&~b),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,_E(c,g))}else g=zt,g=to(c,c===re?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Fr(c,g)||(o=!0,_E(c,g));c=c.next}while(o);Xp=!1}}function eD(){pE()}function pE(){mf=Yp=!1;var s=0;ya!==0&&(cD()&&(s=ya),ya=0);for(var r=Ln(),o=null,c=df;c!==null;){var d=c.next,g=gE(c,r);g===0?(c.next=null,o===null?df=d:o.next=d,d===null&&(jo=o)):(o=c,(s!==0||(g&3)!==0)&&(mf=!0)),c=d}Lu(s)}function gE(s,r){for(var o=s.suspendedLanes,c=s.pingedLanes,d=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var E=31-sn(g),b=1<<E,x=d[E];x===-1?((b&o)===0||(b&c)!==0)&&(d[E]=Hl(b,r)):x<=r&&(s.expiredLanes|=b),g&=~b}if(r=re,o=zt,o=to(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,o===0||s===r&&(Xt===2||Xt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Lr(c),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Fr(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(c!==null&&Lr(c),eo(o)){case 2:case 8:o=Za;break;case 32:o=Ur;break;case 268435456:o=Ja;break;default:o=Ur}return c=yE.bind(null,s),o=kr(o,c),s.callbackPriority=r,s.callbackNode=o,r}return c!==null&&c!==null&&Lr(c),s.callbackPriority=2,s.callbackNode=null,2}function yE(s,r){if(Ze!==0&&Ze!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(ff()&&s.callbackNode!==o)return null;var c=zt;return c=to(s,s===re?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(J0(s,c,r),gE(s,Ln()),s.callbackNode!=null&&s.callbackNode===o?yE.bind(null,s):null)}function _E(s,r){if(ff())return null;J0(s,r,!0)}function nD(){fD(function(){(Yt&6)!==0?kr(Fl,eD):pE()})}function $p(){return ya===0&&(ya=Gl()),ya}function vE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:oo(""+s)}function TE(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function iD(s,r,o,c,d){if(r==="submit"&&o&&o.stateNode===d){var g=vE((d[Ie]||null).action),E=c.submitter;E&&(r=(r=E[Ie]||null)?vE(r.formAction):E.getAttribute("formAction"),r!==null&&(g=r,E=null));var b=new lo("action","action",null,c,d);s.push({event:b,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ya!==0){var x=E?TE(d,E):new FormData(d);gp(o,{pending:!0,data:x,method:d.method,action:g},null,x)}}else typeof g=="function"&&(b.preventDefault(),x=E?TE(d,E):new FormData(d),gp(o,{pending:!0,data:x,method:d.method,action:g},g,x))},currentTarget:d}]})}}for(var Wp=0;Wp<Om.length;Wp++){var Zp=Om[Wp],sD=Zp.toLowerCase(),rD=Zp[0].toUpperCase()+Zp.slice(1);oi(sD,"on"+rD)}oi(Jv,"onAnimationEnd"),oi(tT,"onAnimationIteration"),oi(eT,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(AC,"onTransitionRun"),oi(bC,"onTransitionStart"),oi(SC,"onTransitionCancel"),oi(nT,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uu));function EE(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],d=c.event;c=c.listeners;t:{var g=void 0;if(r)for(var E=c.length-1;0<=E;E--){var b=c[E],x=b.instance,q=b.currentTarget;if(b=b.listener,x!==g&&d.isPropagationStopped())break t;g=b,d.currentTarget=q;try{g(d)}catch(W){tf(W)}d.currentTarget=null,g=x}else for(E=0;E<c.length;E++){if(b=c[E],x=b.instance,q=b.currentTarget,b=b.listener,x!==g&&d.isPropagationStopped())break t;g=b,d.currentTarget=q;try{g(d)}catch(W){tf(W)}d.currentTarget=null,g=x}}}}function kt(s,r){var o=r[Xl];o===void 0&&(o=r[Xl]=new Set);var c=s+"__bubble";o.has(c)||(AE(r,s,2,!1),o.add(c))}function Jp(s,r,o){var c=0;r&&(c|=4),AE(o,s,c,r)}var pf="_reactListening"+Math.random().toString(36).slice(2);function tg(s){if(!s[pf]){s[pf]=!0,$l.forEach(function(o){o!=="selectionchange"&&(aD.has(o)||Jp(o,!1,s),Jp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[pf]||(r[pf]=!0,Jp("selectionchange",!1,r))}}function AE(s,r,o,c){switch(KE(r)){case 2:var d=MD;break;case 8:d=ND;break;default:d=mg}o=d.bind(null,r,o,s),d=void 0,!zn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?s.addEventListener(r,o,{capture:!0,passive:d}):s.addEventListener(r,o,!0):d!==void 0?s.addEventListener(r,o,{passive:d}):s.addEventListener(r,o,!1)}function eg(s,r,o,c,d){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var b=c.stateNode.containerInfo;if(b===d)break;if(E===4)for(E=c.return;E!==null;){var x=E.tag;if((x===3||x===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;b!==null;){if(E=Ki(b),E===null)return;if(x=E.tag,x===5||x===6||x===26||x===27){c=g=E;continue t}b=b.parentNode}}c=c.return}gh(function(){var q=g,W=jn(o),et=[];t:{var H=iT.get(s);if(H!==void 0){var G=lo,bt=s;switch(s){case"keypress":if(Ai(o)===0)break t;case"keydown":case"keyup":G=po;break;case"focusin":bt="focus",G=ho;break;case"focusout":bt="blur",G=ho;break;case"beforeblur":case"afterblur":G=ho;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Rm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Sh;break;case Jv:case tT:case eT:G=fo;break;case nT:G=Ih;break;case"scroll":case"scrollend":G=yh;break;case"wheel":G=go;break;case"copy":case"cut":case"paste":G=mo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=lu;break;case"toggle":case"beforetoggle":G=xh}var Et=(r&4)!==0,ne=!Et&&(s==="scroll"||s==="scrollend"),k=Et?H!==null?H+"Capture":null:H;Et=[];for(var M=q,F;M!==null;){var J=M;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||k===null||(J=$r(M,k),J!=null&&Et.push(Bu(M,J,F))),ne)break;M=M.return}0<Et.length&&(H=new G(H,bt,null,o,W),et.push({event:H,listeners:Et}))}}if((r&7)===0){t:{if(H=s==="mouseover"||s==="pointerover",G=s==="mouseout"||s==="pointerout",H&&o!==$i&&(bt=o.relatedTarget||o.fromElement)&&(Ki(bt)||bt[Un]))break t;if((G||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,G?(bt=o.relatedTarget||o.toElement,G=q,bt=bt?Ki(bt):null,bt!==null&&(ne=l(bt),Et=bt.tag,bt!==ne||Et!==5&&Et!==27&&Et!==6)&&(bt=null)):(G=null,bt=q),G!==bt)){if(Et=Fn,J="onMouseLeave",k="onMouseEnter",M="mouse",(s==="pointerout"||s==="pointerover")&&(Et=lu,J="onPointerLeave",k="onPointerEnter",M="pointer"),ne=G==null?H:_i(G),F=bt==null?H:_i(bt),H=new Et(J,M+"leave",G,o,W),H.target=ne,H.relatedTarget=F,J=null,Ki(W)===q&&(Et=new Et(k,M+"enter",bt,o,W),Et.target=F,Et.relatedTarget=ne,J=Et),ne=J,G&&bt)e:{for(Et=G,k=bt,M=0,F=Et;F;F=zo(F))M++;for(F=0,J=k;J;J=zo(J))F++;for(;0<M-F;)Et=zo(Et),M--;for(;0<F-M;)k=zo(k),F--;for(;M--;){if(Et===k||k!==null&&Et===k.alternate)break e;Et=zo(Et),k=zo(k)}Et=null}else Et=null;G!==null&&bE(et,H,G,Et,!1),bt!==null&&ne!==null&&bE(et,ne,bt,Et,!0)}}t:{if(H=q?_i(q):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var mt=Fv;else if(ke(H))if(qv)mt=vC;else{mt=yC;var Nt=gC}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&eu(q.elementType)&&(mt=Fv):mt=_C;if(mt&&(mt=mt(s,q))){es(et,mt,o,W);break t}Nt&&Nt(s,H,q),s==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Ls(H,"number",H.value)}switch(Nt=q?_i(q):window,s){case"focusin":(ke(Nt)||Nt.contentEditable==="true")&&(yo=Nt,Pm=q,hu=null);break;case"focusout":hu=Pm=yo=null;break;case"mousedown":Mm=!0;break;case"contextmenu":case"mouseup":case"dragend":Mm=!1,Wv(et,o,W);break;case"selectionchange":if(EC)break;case"keydown":case"keyup":Wv(et,o,W)}var _t;if(wi)t:{switch(s){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else Bt?K(s,o)&&(At="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(At="onCompositionStart");At&&(v&&o.locale!=="ko"&&(Bt||At!=="onCompositionStart"?At==="onCompositionEnd"&&Bt&&(_t=iu()):(Ei=W,Us="value"in Ei?Ei.value:Ei.textContent,Bt=!0)),Nt=gf(q,At),0<Nt.length&&(At=new au(At,s,null,o,W),et.push({event:At,listeners:Nt}),_t?At.data=_t:(_t=lt(o),_t!==null&&(At.data=_t)))),(_t=_?Oe(s,o):jt(s,o))&&(At=gf(q,"onBeforeInput"),0<At.length&&(Nt=new au("onBeforeInput","beforeinput",null,o,W),et.push({event:Nt,listeners:At}),Nt.data=_t)),iD(et,s,q,o,W)}EE(et,r)})}function Bu(s,r,o){return{instance:s,listener:r,currentTarget:o}}function gf(s,r){for(var o=r+"Capture",c=[];s!==null;){var d=s,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=$r(s,o),d!=null&&c.unshift(Bu(s,d,g)),d=$r(s,r),d!=null&&c.push(Bu(s,d,g))),s.tag===3)return c;s=s.return}return[]}function zo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function bE(s,r,o,c,d){for(var g=r._reactName,E=[];o!==null&&o!==c;){var b=o,x=b.alternate,q=b.stateNode;if(b=b.tag,x!==null&&x===c)break;b!==5&&b!==26&&b!==27||q===null||(x=q,d?(q=$r(o,g),q!=null&&E.unshift(Bu(o,q,x))):d||(q=$r(o,g),q!=null&&E.push(Bu(o,q,x)))),o=o.return}E.length!==0&&s.push({event:r,listeners:E})}var oD=/\r\n?/g,lD=/\u0000|\uFFFD/g;function SE(s){return(typeof s=="string"?s:""+s).replace(oD,`
`).replace(lD,"")}function wE(s,r){return r=SE(r),SE(s)===r}function yf(){}function ee(s,r,o,c,d,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Bn(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Bn(s,""+c);break;case"className":vi(s,"class",c);break;case"tabIndex":vi(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":vi(s,o,c);break;case"style":tu(s,c,g);break;case"data":if(r!=="object"){vi(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=oo(""+c),s.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&ee(s,r,"name",d.name,d,null),ee(s,r,"formEncType",d.formEncType,d,null),ee(s,r,"formMethod",d.formMethod,d,null),ee(s,r,"formTarget",d.formTarget,d,null)):(ee(s,r,"encType",d.encType,d,null),ee(s,r,"method",d.method,d,null),ee(s,r,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=oo(""+c),s.setAttribute(o,c);break;case"onClick":c!=null&&(s.onclick=yf);break;case"onScroll":c!=null&&kt("scroll",s);break;case"onScrollEnd":c!=null&&kt("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}o=oo(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""+c):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":c===!0?s.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,c):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(o,c):s.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(o):s.setAttribute(o,c);break;case"popover":kt("beforetoggle",s),kt("toggle",s),ks(s,"popover",c);break;case"xlinkActuate":Xe(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Xe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Xe(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Xe(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Xe(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Xe(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Xe(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Xe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Xe(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ks(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=wm.get(o)||o,ks(s,o,c))}}function ng(s,r,o,c,d,g){switch(o){case"style":tu(s,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof c=="string"?Bn(s,c):(typeof c=="number"||typeof c=="bigint")&&Bn(s,""+c);break;case"onScroll":c!=null&&kt("scroll",s);break;case"onScrollEnd":c!=null&&kt("scrollend",s);break;case"onClick":c!=null&&(s.onclick=yf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!no.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=s[Ie]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(r,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,c,d);break t}o in s?s[o]=c:c===!0?s.setAttribute(o,""):ks(s,o,c)}}}function Je(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",s),kt("load",s);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ee(s,r,g,E,o,null)}}d&&ee(s,r,"srcSet",o.srcSet,o,null),c&&ee(s,r,"src",o.src,o,null);return;case"input":kt("invalid",s);var b=g=E=d=null,x=null,q=null;for(c in o)if(o.hasOwnProperty(c)){var W=o[c];if(W!=null)switch(c){case"name":d=W;break;case"type":E=W;break;case"checked":x=W;break;case"defaultChecked":q=W;break;case"value":g=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:ee(s,r,c,W,o,null)}}Qr(s,g,b,x,q,E,d,!1),ao(s);return;case"select":kt("invalid",s),c=E=g=null;for(d in o)if(o.hasOwnProperty(d)&&(b=o[d],b!=null))switch(d){case"value":g=b;break;case"defaultValue":E=b;break;case"multiple":c=b;default:ee(s,r,d,b,o,null)}r=g,o=E,s.multiple=!!c,r!=null?Xi(s,!!c,r,!1):o!=null&&Xi(s,!!c,o,!0);return;case"textarea":kt("invalid",s),g=d=c=null;for(E in o)if(o.hasOwnProperty(E)&&(b=o[E],b!=null))switch(E){case"value":c=b;break;case"defaultValue":d=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:ee(s,r,E,b,o,null)}Yr(s,c,d,g),ao(s);return;case"option":for(x in o)if(o.hasOwnProperty(x)&&(c=o[x],c!=null))switch(x){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ee(s,r,x,c,o,null)}return;case"dialog":kt("beforetoggle",s),kt("toggle",s),kt("cancel",s),kt("close",s);break;case"iframe":case"object":kt("load",s);break;case"video":case"audio":for(c=0;c<Uu.length;c++)kt(Uu[c],s);break;case"image":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"embed":case"source":case"link":kt("error",s),kt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(c=o[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ee(s,r,q,c,o,null)}return;default:if(eu(r)){for(W in o)o.hasOwnProperty(W)&&(c=o[W],c!==void 0&&ng(s,r,W,c,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(c=o[b],c!=null&&ee(s,r,b,c,o,null))}function uD(s,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,E=null,b=null,x=null,q=null,W=null;for(G in o){var et=o[G];if(o.hasOwnProperty(G)&&et!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":x=et;default:c.hasOwnProperty(G)||ee(s,r,G,null,c,et)}}for(var H in c){var G=c[H];if(et=o[H],c.hasOwnProperty(H)&&(G!=null||et!=null))switch(H){case"type":g=G;break;case"name":d=G;break;case"checked":q=G;break;case"defaultChecked":W=G;break;case"value":E=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,r));break;default:G!==et&&ee(s,r,H,G,c,et)}}wn(s,E,b,x,q,W,g,d);return;case"select":G=E=b=H=null;for(g in o)if(x=o[g],o.hasOwnProperty(g)&&x!=null)switch(g){case"value":break;case"multiple":G=x;default:c.hasOwnProperty(g)||ee(s,r,g,null,c,x)}for(d in c)if(g=c[d],x=o[d],c.hasOwnProperty(d)&&(g!=null||x!=null))switch(d){case"value":H=g;break;case"defaultValue":b=g;break;case"multiple":E=g;default:g!==x&&ee(s,r,d,g,c,x)}r=b,o=E,c=G,H!=null?Xi(s,!!o,H,!1):!!c!=!!o&&(r!=null?Xi(s,!!o,r,!0):Xi(s,!!o,o?[]:"",!1));return;case"textarea":G=H=null;for(b in o)if(d=o[b],o.hasOwnProperty(b)&&d!=null&&!c.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ee(s,r,b,null,c,d)}for(E in c)if(d=c[E],g=o[E],c.hasOwnProperty(E)&&(d!=null||g!=null))switch(E){case"value":H=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&ee(s,r,E,d,c,g)}Jt(s,H,G);return;case"option":for(var bt in o)if(H=o[bt],o.hasOwnProperty(bt)&&H!=null&&!c.hasOwnProperty(bt))switch(bt){case"selected":s.selected=!1;break;default:ee(s,r,bt,null,c,H)}for(x in c)if(H=c[x],G=o[x],c.hasOwnProperty(x)&&H!==G&&(H!=null||G!=null))switch(x){case"selected":s.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:ee(s,r,x,H,c,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in o)H=o[Et],o.hasOwnProperty(Et)&&H!=null&&!c.hasOwnProperty(Et)&&ee(s,r,Et,null,c,H);for(q in c)if(H=c[q],G=o[q],c.hasOwnProperty(q)&&H!==G&&(H!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,r));break;default:ee(s,r,q,H,c,G)}return;default:if(eu(r)){for(var ne in o)H=o[ne],o.hasOwnProperty(ne)&&H!==void 0&&!c.hasOwnProperty(ne)&&ng(s,r,ne,void 0,c,H);for(W in c)H=c[W],G=o[W],!c.hasOwnProperty(W)||H===G||H===void 0&&G===void 0||ng(s,r,W,H,c,G);return}}for(var k in o)H=o[k],o.hasOwnProperty(k)&&H!=null&&!c.hasOwnProperty(k)&&ee(s,r,k,null,c,H);for(et in c)H=c[et],G=o[et],!c.hasOwnProperty(et)||H===G||H==null&&G==null||ee(s,r,et,H,c,G)}var ig=null,sg=null;function _f(s){return s.nodeType===9?s:s.ownerDocument}function IE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RE(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function rg(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ag=null;function cD(){var s=window.event;return s&&s.type==="popstate"?s===ag?!1:(ag=s,!0):(ag=null,!1)}var xE=typeof setTimeout=="function"?setTimeout:void 0,hD=typeof clearTimeout=="function"?clearTimeout:void 0,CE=typeof Promise=="function"?Promise:void 0,fD=typeof queueMicrotask=="function"?queueMicrotask:typeof CE<"u"?function(s){return CE.resolve(null).then(s).catch(dD)}:xE;function dD(s){setTimeout(function(){throw s})}function tr(s){return s==="head"}function DE(s,r){var o=r,c=0,d=0;do{var g=o.nextSibling;if(s.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var E=s.ownerDocument;if(o&1&&ju(E.documentElement),o&2&&ju(E.body),o&4)for(o=E.head,ju(o),E=o.firstChild;E;){var b=E.nextSibling,x=E.nodeName;E[qr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=b}}if(d===0){s.removeChild(g),Yu(r);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);Yu(r)}function og(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":og(o),Os(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function mD(s,r,o,c){for(;s.nodeType===1;){var d=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[qr])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==d.rel||s.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||s.getAttribute("title")!==(d.title==null?null:d.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(d.src==null?null:d.src)||s.getAttribute("type")!==(d.type==null?null:d.type)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=ui(s.nextSibling),s===null)break}return null}function pD(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=ui(s.nextSibling),s===null))return null;return s}function lg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function gD(s,r){var o=s.ownerDocument;if(s.data!=="$?"||o.readyState==="complete")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function ui(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var ug=null;function VE(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return s;r--}else o==="/$"&&r++}s=s.previousSibling}return null}function PE(s,r,o){switch(r=_f(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function ju(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Os(s)}var Xn=new Map,ME=new Set;function vf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ms=st.d;st.d={f:yD,r:_D,D:vD,C:TD,L:ED,m:AD,X:SD,S:bD,M:wD};function yD(){var s=ms.f(),r=cf();return s||r}function _D(s){var r=yi(s);r!==null&&r.tag===5&&r.type==="form"?JT(r):ms.r(s)}var Fo=typeof document>"u"?null:document;function NE(s,r,o){var c=Fo;if(c&&typeof r=="string"&&r){var d=Re(r);d='link[rel="'+s+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),ME.has(d)||(ME.add(d),s={rel:s,crossOrigin:o,href:r},c.querySelector(d)===null&&(r=c.createElement("link"),Je(r,"link",s),Ee(r),c.head.appendChild(r)))}}function vD(s){ms.D(s),NE("dns-prefetch",s,null)}function TD(s,r){ms.C(s,r),NE("preconnect",s,r)}function ED(s,r,o){ms.L(s,r,o);var c=Fo;if(c&&s&&r){var d='link[rel="preload"][as="'+Re(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Re(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Re(o.imageSizes)+'"]')):d+='[href="'+Re(s)+'"]';var g=d;switch(r){case"style":g=qo(s);break;case"script":g=Ho(s)}Xn.has(g)||(s=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),Xn.set(g,s),c.querySelector(d)!==null||r==="style"&&c.querySelector(zu(g))||r==="script"&&c.querySelector(Fu(g))||(r=c.createElement("link"),Je(r,"link",s),Ee(r),c.head.appendChild(r)))}}function AD(s,r){ms.m(s,r);var o=Fo;if(o&&s){var c=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Re(c)+'"][href="'+Re(s)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ho(s)}if(!Xn.has(g)&&(s=y({rel:"modulepreload",href:s},r),Xn.set(g,s),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Fu(g)))return}c=o.createElement("link"),Je(c,"link",s),Ee(c),o.head.appendChild(c)}}}function bD(s,r,o){ms.S(s,r,o);var c=Fo;if(c&&s){var d=hn(c).hoistableStyles,g=qo(s);r=r||"default";var E=d.get(g);if(!E){var b={loading:0,preload:null};if(E=c.querySelector(zu(g)))b.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":r},o),(o=Xn.get(g))&&cg(s,o);var x=E=c.createElement("link");Ee(x),Je(x,"link",s),x._p=new Promise(function(q,W){x.onload=q,x.onerror=W}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Tf(E,r,c)}E={type:"stylesheet",instance:E,count:1,state:b},d.set(g,E)}}}function SD(s,r){ms.X(s,r);var o=Fo;if(o&&s){var c=hn(o).hoistableScripts,d=Ho(s),g=c.get(d);g||(g=o.querySelector(Fu(d)),g||(s=y({src:s,async:!0},r),(r=Xn.get(d))&&hg(s,r),g=o.createElement("script"),Ee(g),Je(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function wD(s,r){ms.M(s,r);var o=Fo;if(o&&s){var c=hn(o).hoistableScripts,d=Ho(s),g=c.get(d);g||(g=o.querySelector(Fu(d)),g||(s=y({src:s,async:!0,type:"module"},r),(r=Xn.get(d))&&hg(s,r),g=o.createElement("script"),Ee(g),Je(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function OE(s,r,o,c){var d=(d=It.current)?vf(d):null;if(!d)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=qo(o.href),o=hn(d).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=qo(o.href);var g=hn(d).hoistableStyles,E=g.get(s);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,E),(g=d.querySelector(zu(s)))&&!g._p&&(E.instance=g,E.state.loading=5),Xn.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Xn.set(s,o),g||ID(d,s,o,E.state))),r&&c===null)throw Error(i(528,""));return E}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ho(o),o=hn(d).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function qo(s){return'href="'+Re(s)+'"'}function zu(s){return'link[rel="stylesheet"]['+s+"]"}function kE(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function ID(s,r,o,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Je(r,"link",o),Ee(r),s.head.appendChild(r))}function Ho(s){return'[src="'+Re(s)+'"]'}function Fu(s){return"script[async]"+s}function LE(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+Re(o.href)+'"]');if(c)return r.instance=c,Ee(c),c;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Ee(c),Je(c,"style",d),Tf(c,o.precedence,s),r.instance=c;case"stylesheet":d=qo(o.href);var g=s.querySelector(zu(d));if(g)return r.state.loading|=4,r.instance=g,Ee(g),g;c=kE(o),(d=Xn.get(d))&&cg(c,d),g=(s.ownerDocument||s).createElement("link"),Ee(g);var E=g;return E._p=new Promise(function(b,x){E.onload=b,E.onerror=x}),Je(g,"link",c),r.state.loading|=4,Tf(g,o.precedence,s),r.instance=g;case"script":return g=Ho(o.src),(d=s.querySelector(Fu(g)))?(r.instance=d,Ee(d),d):(c=o,(d=Xn.get(g))&&(c=y({},o),hg(c,d)),s=s.ownerDocument||s,d=s.createElement("script"),Ee(d),Je(d,"link",c),s.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Tf(c,o.precedence,s));return r.instance}function Tf(s,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,E=0;E<c.length;E++){var b=c[E];if(b.dataset.precedence===r)g=b;else if(g!==d)break}g?g.parentNode.insertBefore(s,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function cg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function hg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Ef=null;function UE(s,r,o){if(Ef===null){var c=new Map,d=Ef=new Map;d.set(o,c)}else d=Ef,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(s))return c;for(c.set(s,null),o=o.getElementsByTagName(s),d=0;d<o.length;d++){var g=o[d];if(!(g[qr]||g[Ne]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(r)||"";E=s+E;var b=c.get(E);b?b.push(g):c.set(E,[g])}}return c}function BE(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function RD(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function jE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var qu=null;function xD(){}function CD(s,r,o){if(qu===null)throw Error(i(475));var c=qu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=qo(o.href),g=s.querySelector(zu(d));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=Af.bind(c),s.then(c,c)),r.state.loading|=4,r.instance=g,Ee(g);return}g=s.ownerDocument||s,o=kE(o),(d=Xn.get(d))&&cg(o,d),g=g.createElement("link"),Ee(g);var E=g;E._p=new Promise(function(b,x){E.onload=b,E.onerror=x}),Je(g,"link",o),r.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=Af.bind(c),s.addEventListener("load",r),s.addEventListener("error",r))}}function DD(){if(qu===null)throw Error(i(475));var s=qu;return s.stylesheets&&s.count===0&&fg(s,s.stylesheets),0<s.count?function(r){var o=setTimeout(function(){if(s.stylesheets&&fg(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(o)}}:null}function Af(){if(this.count--,this.count===0){if(this.stylesheets)fg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var bf=null;function fg(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,bf=new Map,r.forEach(VD,s),bf=null,Af.call(s))}function VD(s,r){if(!(r.state.loading&4)){var o=bf.get(s);if(o)var c=o.get(null);else{o=new Map,bf.set(s,o);for(var d=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var E=d[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),c=E)}c&&o.set(null,c)}d=r.instance,E=d.getAttribute("data-precedence"),g=o.get(E)||c,g===c&&o.set(null,d),o.set(E,d),this.count++,c=Af.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(d,s.firstChild)),r.state.loading|=4}}var Hu={$$typeof:Q,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function PD(s,r,o,c,d,g,E,b){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.hiddenUpdates=Hi(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function zE(s,r,o,c,d,g,E,b,x,q,W,et){return s=new PD(s,r,o,E,b,x,q,et),r=1,g===!0&&(r|=24),g=Rn(3,null,null,r),s.current=g,g.stateNode=s,r=Qm(),r.refCount++,s.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},Wm(g),s}function FE(s){return s?(s=Eo,s):Eo}function qE(s,r,o,c,d,g){d=FE(d),c.context===null?c.context=d:c.pendingContext=d,c=zs(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Fs(s,c,r),o!==null&&(Pn(o,s,r),Tu(o,s,r))}function HE(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function dg(s,r){HE(s,r),(s=s.alternate)&&HE(s,r)}function GE(s){if(s.tag===13){var r=To(s,67108864);r!==null&&Pn(r,s,67108864),dg(s,67108864)}}var Sf=!0;function MD(s,r,o,c){var d=$.T;$.T=null;var g=st.p;try{st.p=2,mg(s,r,o,c)}finally{st.p=g,$.T=d}}function ND(s,r,o,c){var d=$.T;$.T=null;var g=st.p;try{st.p=8,mg(s,r,o,c)}finally{st.p=g,$.T=d}}function mg(s,r,o,c){if(Sf){var d=pg(c);if(d===null)eg(s,r,c,wf,o),QE(s,c);else if(kD(d,s,r,o,c))c.stopPropagation();else if(QE(s,c),r&4&&-1<OD.indexOf(s)){for(;d!==null;){var g=yi(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=si(g.pendingLanes);if(E!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var x=1<<31-sn(E);b.entanglements[1]|=x,E&=~x}Vi(g),(Yt&6)===0&&(lf=Ln()+500,Lu(0))}}break;case 13:b=To(g,2),b!==null&&Pn(b,g,2),cf(),dg(g,2)}if(g=pg(c),g===null&&eg(s,r,c,wf,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else eg(s,r,c,null,o)}}function pg(s){return s=jn(s),gg(s)}var wf=null;function gg(s){if(wf=null,s=Ki(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=u(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return wf=s,null}function KE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vm()){case Fl:return 2;case Za:return 8;case Ur:case Tm:return 32;case Ja:return 268435456;default:return 32}default:return 32}}var yg=!1,er=null,nr=null,ir=null,Gu=new Map,Ku=new Map,sr=[],OD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function QE(s,r){switch(s){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Gu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ku.delete(r.pointerId)}}function Qu(s,r,o,c,d,g){return s===null||s.nativeEvent!==g?(s={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},r!==null&&(r=yi(r),r!==null&&GE(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),s)}function kD(s,r,o,c,d){switch(r){case"focusin":return er=Qu(er,s,r,o,c,d),!0;case"dragenter":return nr=Qu(nr,s,r,o,c,d),!0;case"mouseover":return ir=Qu(ir,s,r,o,c,d),!0;case"pointerover":var g=d.pointerId;return Gu.set(g,Qu(Gu.get(g)||null,s,r,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,Ku.set(g,Qu(Ku.get(g)||null,s,r,o,c,d)),!0}return!1}function YE(s){var r=Ki(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){s.blockedOn=r,uh(s.priority,function(){if(o.tag===13){var c=Vn();c=Ps(c);var d=To(o,c);d!==null&&Pn(d,o,c),dg(o,c)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function If(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=pg(s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);$i=c,o.target.dispatchEvent(c),$i=null}else return r=yi(o),r!==null&&GE(r),s.blockedOn=o,!1;r.shift()}return!0}function XE(s,r,o){If(s)&&o.delete(r)}function LD(){yg=!1,er!==null&&If(er)&&(er=null),nr!==null&&If(nr)&&(nr=null),ir!==null&&If(ir)&&(ir=null),Gu.forEach(XE),Ku.forEach(XE)}function Rf(s,r){s.blockedOn===r&&(s.blockedOn=null,yg||(yg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,LD)))}var xf=null;function $E(s){xf!==s&&(xf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){xf===s&&(xf=null);for(var r=0;r<s.length;r+=3){var o=s[r],c=s[r+1],d=s[r+2];if(typeof c!="function"){if(gg(c||o)===null)continue;break}var g=yi(o);g!==null&&(s.splice(r,3),r-=3,gp(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function Yu(s){function r(x){return Rf(x,s)}er!==null&&Rf(er,s),nr!==null&&Rf(nr,s),ir!==null&&Rf(ir,s),Gu.forEach(r),Ku.forEach(r);for(var o=0;o<sr.length;o++){var c=sr[o];c.blockedOn===s&&(c.blockedOn=null)}for(;0<sr.length&&(o=sr[0],o.blockedOn===null);)YE(o),o.blockedOn===null&&sr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],E=d[Ie]||null;if(typeof g=="function")E||$E(o);else if(E){var b=null;if(g&&g.hasAttribute("formAction")){if(d=g,E=g[Ie]||null)b=E.formAction;else if(gg(d)!==null)continue}else b=E.action;typeof b=="function"?o[c+1]=b:(o.splice(c,3),c-=3),$E(o)}}}function _g(s){this._internalRoot=s}Cf.prototype.render=_g.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,c=Vn();qE(o,c,s,r,null,null)},Cf.prototype.unmount=_g.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;qE(s.current,2,null,s,null,null),cf(),r[Un]=null}};function Cf(s){this._internalRoot=s}Cf.prototype.unstable_scheduleHydration=function(s){if(s){var r=Ms();s={blockedOn:null,target:s,priority:r};for(var o=0;o<sr.length&&r!==0&&r<sr[o].priority;o++);sr.splice(o,0,s),o===0&&YE(s)}};var WE=t.version;if(WE!=="19.1.1")throw Error(i(527,WE,"19.1.1"));st.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(r),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var UD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Df.isDisabled&&Df.supportsFiber)try{ge=Df.inject(UD),Qt=Df}catch{}}return $u.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,c="",d=d0,g=m0,E=p0,b=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=zE(s,1,!1,null,null,o,c,d,g,E,b,null),s[Un]=r.current,tg(s),new _g(r)},$u.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var c=!1,d="",g=d0,E=m0,b=p0,x=null,q=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(x=o.unstable_transitionCallbacks),o.formState!==void 0&&(q=o.formState)),r=zE(s,1,!0,r,o??null,c,d,g,E,b,x,q),r.context=FE(null),o=r.current,c=Vn(),c=Ps(c),d=zs(c),d.callback=null,Fs(o,d,c),o=c,r.current.lanes=o,Gi(r,o),Vi(r),s[Un]=r.current,tg(s),new Cf(r)},$u.version="19.1.1",$u}var oA;function YD(){if(oA)return Eg.exports;oA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Eg.exports=QD(),Eg.exports}var XD=YD();const Cw=gt.createContext({});function $D(n){const t=gt.useRef(null);return t.current===null&&(t.current=n()),t.current}const r_=typeof window<"u",WD=r_?gt.useLayoutEffect:gt.useEffect,a_=gt.createContext(null);function o_(n,t){n.indexOf(t)===-1&&n.push(t)}function l_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Ts=(n,t,e)=>e>t?t:e<n?n:e;let u_=()=>{};const Es={},Dw=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Vw(n){return typeof n=="object"&&n!==null}const Pw=n=>/^0[^.\s]+$/u.test(n);function c_(n){let t;return()=>(t===void 0&&(t=n()),t)}const ei=n=>n,ZD=(n,t)=>e=>t(n(e)),Hc=(...n)=>n.reduce(ZD),bc=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class h_{constructor(){this.subscriptions=[]}add(t){return o_(this.subscriptions,t),()=>l_(this.subscriptions,t)}notify(t,e,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Oi=n=>n*1e3,ki=n=>n/1e3;function Mw(n,t){return t?n*(1e3/t):0}const Nw=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,JD=1e-7,tV=12;function eV(n,t,e,i,a){let l,u,f=0;do u=t+(e-t)/2,l=Nw(u,i,a)-n,l>0?e=u:t=u;while(Math.abs(l)>JD&&++f<tV);return u}function Gc(n,t,e,i){if(n===t&&e===i)return ei;const a=l=>eV(l,0,1,n,e);return l=>l===0||l===1?l:Nw(a(l),t,i)}const Ow=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,kw=n=>t=>1-n(1-t),Lw=Gc(.33,1.53,.69,.99),f_=kw(Lw),Uw=Ow(f_),Bw=n=>(n*=2)<1?.5*f_(n):.5*(2-Math.pow(2,-10*(n-1))),d_=n=>1-Math.sin(Math.acos(n)),jw=kw(d_),zw=Ow(d_),nV=Gc(.42,0,1,1),iV=Gc(0,0,.58,1),Fw=Gc(.42,0,.58,1),sV=n=>Array.isArray(n)&&typeof n[0]!="number",qw=n=>Array.isArray(n)&&typeof n[0]=="number",rV={linear:ei,easeIn:nV,easeInOut:Fw,easeOut:iV,circIn:d_,circInOut:zw,circOut:jw,backIn:f_,backInOut:Uw,backOut:Lw,anticipate:Bw},aV=n=>typeof n=="string",lA=n=>{if(qw(n)){u_(n.length===4);const[t,e,i,a]=n;return Gc(t,e,i,a)}else if(aV(n))return rV[n];return n},Vf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function oV(n,t){let e=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(p.schedule(y),n()),y(f)}const p={schedule:(y,T=!1,A=!1)=>{const C=A&&a?e:i;return T&&u.add(y),C.has(y)||C.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[e,i]=[i,e],e.forEach(m),e.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const lV=40;function Hw(n,t){let e=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,u=Vf.reduce((Q,ct)=>(Q[ct]=oV(l),Q),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:T,preRender:A,render:I,postRender:C}=u,U=()=>{const Q=Es.useManualTiming?a.timestamp:performance.now();e=!1,Es.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(Q-a.timestamp,lV),1)),a.timestamp=Q,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),T.process(a),A.process(a),I.process(a),C.process(a),a.isProcessing=!1,e&&t&&(i=!1,n(U))},j=()=>{e=!0,i=!0,a.isProcessing||n(U)};return{schedule:Vf.reduce((Q,ct)=>{const nt=u[ct];return Q[ct]=(ft,V=!1,w=!1)=>(e||j(),nt.schedule(ft,V,w)),Q},{}),cancel:Q=>{for(let ct=0;ct<Vf.length;ct++)u[Vf[ct]].cancel(Q)},state:a,steps:u}}const{schedule:he,cancel:br,state:tn,steps:wg}=Hw(typeof requestAnimationFrame<"u"?requestAnimationFrame:ei,!0);let Hf;function uV(){Hf=void 0}const An={now:()=>(Hf===void 0&&An.set(tn.isProcessing||Es.useManualTiming?tn.timestamp:performance.now()),Hf),set:n=>{Hf=n,queueMicrotask(uV)}},Gw=n=>t=>typeof t=="string"&&t.startsWith(n),m_=Gw("--"),cV=Gw("var(--"),p_=n=>cV(n)?hV.test(n.split("/*")[0].trim()):!1,hV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Sc={...Vl,transform:n=>Ts(0,1,n)},Pf={...Vl,default:1},uc=n=>Math.round(n*1e5)/1e5,g_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fV(n){return n==null}const dV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,y_=(n,t)=>e=>!!(typeof e=="string"&&dV.test(e)&&e.startsWith(n)||t&&!fV(e)&&Object.prototype.hasOwnProperty.call(e,t)),Kw=(n,t,e)=>i=>{if(typeof i!="string")return i;const[a,l,u,f]=i.match(g_);return{[n]:parseFloat(a),[t]:parseFloat(l),[e]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},mV=n=>Ts(0,255,n),Ig={...Vl,transform:n=>Math.round(mV(n))},Ca={test:y_("rgb","red"),parse:Kw("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+Ig.transform(n)+", "+Ig.transform(t)+", "+Ig.transform(e)+", "+uc(Sc.transform(i))+")"};function pV(n){let t="",e="",i="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const ty={test:y_("#"),parse:pV,transform:Ca.transform},Kc=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),cr=Kc("deg"),Li=Kc("%"),St=Kc("px"),gV=Kc("vh"),yV=Kc("vw"),uA={...Li,parse:n=>Li.parse(n)/100,transform:n=>Li.transform(n*100)},nl={test:y_("hsl","hue"),parse:Kw("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+Li.transform(uc(t))+", "+Li.transform(uc(e))+", "+uc(Sc.transform(i))+")"},Ve={test:n=>Ca.test(n)||ty.test(n)||nl.test(n),parse:n=>Ca.test(n)?Ca.parse(n):nl.test(n)?nl.parse(n):ty.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ca.transform(n):nl.transform(n),getAnimatableNone:n=>{const t=Ve.parse(n);return t.alpha=0,Ve.transform(t)}},_V=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vV(n){return isNaN(n)&&typeof n=="string"&&(n.match(g_)?.length||0)+(n.match(_V)?.length||0)>0}const Qw="number",Yw="color",TV="var",EV="var(",cA="${}",AV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wc(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},a=[];let l=0;const f=t.replace(AV,m=>(Ve.test(m)?(i.color.push(l),a.push(Yw),e.push(Ve.parse(m))):m.startsWith(EV)?(i.var.push(l),a.push(TV),e.push(m)):(i.number.push(l),a.push(Qw),e.push(parseFloat(m))),++l,cA)).split(cA);return{values:e,split:f,indexes:i,types:a}}function Xw(n){return wc(n).values}function $w(n){const{split:t,types:e}=wc(n),i=t.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=t[u],a[u]!==void 0){const f=e[u];f===Qw?l+=uc(a[u]):f===Yw?l+=Ve.transform(a[u]):l+=a[u]}return l}}const bV=n=>typeof n=="number"?0:Ve.test(n)?Ve.getAnimatableNone(n):n;function SV(n){const t=Xw(n);return $w(n)(t.map(bV))}const Sr={test:vV,parse:Xw,createTransformer:$w,getAnimatableNone:SV};function Rg(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function wV({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let a=0,l=0,u=0;if(!t)a=l=u=e;else{const f=e<.5?e*(1+t):e+t-e*t,m=2*e-f;a=Rg(m,f,n+1/3),l=Rg(m,f,n),u=Rg(m,f,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function cd(n,t){return e=>e>0?t:n}const me=(n,t,e)=>n+(t-n)*e,xg=(n,t,e)=>{const i=n*n,a=e*(t*t-i)+i;return a<0?0:Math.sqrt(a)},IV=[ty,Ca,nl],RV=n=>IV.find(t=>t.test(n));function hA(n){const t=RV(n);if(!t)return!1;let e=t.parse(n);return t===nl&&(e=wV(e)),e}const fA=(n,t)=>{const e=hA(n),i=hA(t);if(!e||!i)return cd(n,t);const a={...e};return l=>(a.red=xg(e.red,i.red,l),a.green=xg(e.green,i.green,l),a.blue=xg(e.blue,i.blue,l),a.alpha=me(e.alpha,i.alpha,l),Ca.transform(a))},ey=new Set(["none","hidden"]);function xV(n,t){return ey.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function CV(n,t){return e=>me(n,t,e)}function __(n){return typeof n=="number"?CV:typeof n=="string"?p_(n)?cd:Ve.test(n)?fA:PV:Array.isArray(n)?Ww:typeof n=="object"?Ve.test(n)?fA:DV:cd}function Ww(n,t){const e=[...n],i=e.length,a=n.map((l,u)=>__(l)(l,t[u]));return l=>{for(let u=0;u<i;u++)e[u]=a[u](l);return e}}function DV(n,t){const e={...n,...t},i={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(i[a]=__(n[a])(n[a],t[a]));return a=>{for(const l in i)e[l]=i[l](a);return e}}function VV(n,t){const e=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],u=n.indexes[l][i[l]],f=n.values[u]??0;e[a]=f,i[l]++}return e}const PV=(n,t)=>{const e=Sr.createTransformer(t),i=wc(n),a=wc(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?ey.has(n)&&!a.values.length||ey.has(t)&&!i.values.length?xV(n,t):Hc(Ww(VV(i,a),a.values),e):cd(n,t)};function Zw(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?me(n,t,e):__(n)(n,t)}const MV=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>he.update(t,e),stop:()=>br(t),now:()=>tn.isProcessing?tn.timestamp:An.now()}},Jw=(n,t,e=10)=>{let i="";const a=Math.max(Math.round(t/e),2);for(let l=0;l<a;l++)i+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},hd=2e4;function v_(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<hd;)t+=e,i=n.next(t);return t>=hd?1/0:t}function NV(n,t=100,e){const i=e({...n,keyframes:[0,t]}),a=Math.min(v_(i),hd);return{type:"keyframes",ease:l=>i.next(a*l).value/t,duration:ki(a)}}const OV=5;function t1(n,t,e){const i=Math.max(t-OV,0);return Mw(e-n(i),t-i)}const ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Cg=.001;function kV({duration:n=ve.duration,bounce:t=ve.bounce,velocity:e=ve.velocity,mass:i=ve.mass}){let a,l,u=1-t;u=Ts(ve.minDamping,ve.maxDamping,u),n=Ts(ve.minDuration,ve.maxDuration,ki(n)),u<1?(a=p=>{const y=p*u,T=y*n,A=y-e,I=ny(p,u),C=Math.exp(-T);return Cg-A/I*C},l=p=>{const T=p*u*n,A=T*e+e,I=Math.pow(u,2)*Math.pow(p,2)*n,C=Math.exp(-T),U=ny(Math.pow(p,2),u);return(-a(p)+Cg>0?-1:1)*((A-I)*C)/U}):(a=p=>{const y=Math.exp(-p*n),T=(p-e)*n+1;return-Cg+y*T},l=p=>{const y=Math.exp(-p*n),T=(e-p)*(n*n);return y*T});const f=5/n,m=UV(a,l,f);if(n=Oi(n),isNaN(m))return{stiffness:ve.stiffness,damping:ve.damping,duration:n};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:n}}}const LV=12;function UV(n,t,e){let i=e;for(let a=1;a<LV;a++)i=i-n(i)/t(i);return i}function ny(n,t){return n*Math.sqrt(1-t*t)}const BV=["duration","bounce"],jV=["stiffness","damping","mass"];function dA(n,t){return t.some(e=>n[e]!==void 0)}function zV(n){let t={velocity:ve.velocity,stiffness:ve.stiffness,damping:ve.damping,mass:ve.mass,isResolvedFromDuration:!1,...n};if(!dA(n,jV)&&dA(n,BV))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),a=i*i,l=2*Ts(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:ve.mass,stiffness:a,damping:l}}else{const e=kV(n);t={...t,...e,mass:ve.mass},t.isResolvedFromDuration=!0}return t}function fd(n=ve.visualDuration,t=ve.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:a}=e;const l=e.keyframes[0],u=e.keyframes[e.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:T,velocity:A,isResolvedFromDuration:I}=zV({...e,velocity:-ki(e.velocity||0)}),C=A||0,U=p/(2*Math.sqrt(m*y)),j=u-l,Z=ki(Math.sqrt(m/y)),tt=Math.abs(j)<5;i||(i=tt?ve.restSpeed.granular:ve.restSpeed.default),a||(a=tt?ve.restDelta.granular:ve.restDelta.default);let Q;if(U<1){const nt=ny(Z,U);Q=ft=>{const V=Math.exp(-U*Z*ft);return u-V*((C+U*Z*j)/nt*Math.sin(nt*ft)+j*Math.cos(nt*ft))}}else if(U===1)Q=nt=>u-Math.exp(-Z*nt)*(j+(C+Z*j)*nt);else{const nt=Z*Math.sqrt(U*U-1);Q=ft=>{const V=Math.exp(-U*Z*ft),w=Math.min(nt*ft,300);return u-V*((C+U*Z*j)*Math.sinh(w)+nt*j*Math.cosh(w))/nt}}const ct={calculatedDuration:I&&T||null,next:nt=>{const ft=Q(nt);if(I)f.done=nt>=T;else{let V=nt===0?C:0;U<1&&(V=nt===0?Oi(C):t1(Q,nt,ft));const w=Math.abs(V)<=i,R=Math.abs(u-ft)<=a;f.done=w&&R}return f.value=f.done?u:ft,f},toString:()=>{const nt=Math.min(v_(ct),hd),ft=Jw(V=>ct.next(nt*V).value,nt,30);return nt+"ms "+ft},toTransition:()=>{}};return ct}fd.applyToOptions=n=>{const t=NV(n,100,fd);return n.ease=t.ease,n.duration=Oi(t.duration),n.type="keyframes",n};function iy({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:p=.5,restSpeed:y}){const T=n[0],A={done:!1,value:T},I=w=>f!==void 0&&w<f||m!==void 0&&w>m,C=w=>f===void 0?m:m===void 0||Math.abs(f-w)<Math.abs(m-w)?f:m;let U=e*t;const j=T+U,Z=u===void 0?j:u(j);Z!==j&&(U=Z-T);const tt=w=>-U*Math.exp(-w/i),Q=w=>Z+tt(w),ct=w=>{const R=tt(w),N=Q(w);A.done=Math.abs(R)<=p,A.value=A.done?Z:N};let nt,ft;const V=w=>{I(A.value)&&(nt=w,ft=fd({keyframes:[A.value,C(A.value)],velocity:t1(Q,w,A.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return V(0),{calculatedDuration:null,next:w=>{let R=!1;return!ft&&nt===void 0&&(R=!0,ct(w),V(w)),nt!==void 0&&w>=nt?ft.next(w-nt):(!R&&ct(w),A)}}}function FV(n,t,e){const i=[],a=e||Es.mix||Zw,l=n.length-1;for(let u=0;u<l;u++){let f=a(n[u],n[u+1]);if(t){const m=Array.isArray(t)?t[u]||ei:t;f=Hc(m,f)}i.push(f)}return i}function qV(n,t,{clamp:e=!0,ease:i,mixer:a}={}){const l=n.length;if(u_(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),t=[...t].reverse());const f=FV(t,i,a),m=f.length,p=y=>{if(u&&y<n[0])return t[0];let T=0;if(m>1)for(;T<n.length-2&&!(y<n[T+1]);T++);const A=bc(n[T],n[T+1],y);return f[T](A)};return e?y=>p(Ts(n[0],n[l-1],y)):p}function HV(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const a=bc(0,t,i);n.push(me(e,1,a))}}function GV(n){const t=[0];return HV(t,n.length-1),t}function KV(n,t){return n.map(e=>e*t)}function QV(n,t){return n.map(()=>t||Fw).splice(0,n.length-1)}function cc({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const a=sV(i)?i.map(lA):lA(i),l={done:!1,value:t[0]},u=KV(e&&e.length===t.length?e:GV(t),n),f=qV(u,t,{ease:Array.isArray(a)?a:QV(t,a)});return{calculatedDuration:n,next:m=>(l.value=f(m),l.done=m>=n,l)}}const YV=n=>n!==null;function T_(n,{repeat:t,repeatType:e="loop"},i,a=1){const l=n.filter(YV),f=a<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const XV={decay:iy,inertia:iy,tween:cc,keyframes:cc,spring:fd};function e1(n){typeof n.type=="string"&&(n.type=XV[n.type])}class E_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const $V=n=>n/100;class A_ extends E_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;e1(t);const{type:e=cc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=t;let{keyframes:f}=t;const m=e||cc;m!==cc&&typeof f[0]!="number"&&(this.mixKeyframes=Hc($V,Zw(f[0],f[1])),f=[0,100]);const p=m({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=v_(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:T,repeatType:A,repeatDelay:I,type:C,onUpdate:U,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const Z=this.currentTime-p*(this.playbackSpeed>=0?1:-1),tt=this.playbackSpeed>=0?Z<0:Z>a;this.currentTime=Math.max(Z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Q=this.currentTime,ct=i;if(T){const w=Math.min(this.currentTime,a)/f;let R=Math.floor(w),N=w%1;!N&&w>=1&&(N=1),N===1&&R--,R=Math.min(R,T+1),!!(R%2)&&(A==="reverse"?(N=1-N,I&&(N-=I/f)):A==="mirror"&&(ct=u)),Q=Ts(0,1,N)*f}const nt=tt?{done:!1,value:y[0]}:ct.next(Q);l&&(nt.value=l(nt.value));let{done:ft}=nt;!tt&&m!==null&&(ft=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ft);return V&&C!==iy&&(nt.value=T_(y,this.options,j,this.speed)),U&&U(nt.value),V&&this.finish(),nt}then(t,e){return this.finished.then(t,e)}get duration(){return ki(this.calculatedDuration)}get time(){return ki(this.currentTime)}set time(t){t=Oi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(An.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=ki(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=MV,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function WV(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Da=n=>n*180/Math.PI,sy=n=>{const t=Da(Math.atan2(n[1],n[0]));return ry(t)},ZV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:sy,rotateZ:sy,skewX:n=>Da(Math.atan(n[1])),skewY:n=>Da(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},ry=n=>(n=n%360,n<0&&(n+=360),n),mA=sy,pA=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),gA=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),JV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:pA,scaleY:gA,scale:n=>(pA(n)+gA(n))/2,rotateX:n=>ry(Da(Math.atan2(n[6],n[5]))),rotateY:n=>ry(Da(Math.atan2(-n[2],n[0]))),rotateZ:mA,rotate:mA,skewX:n=>Da(Math.atan(n[4])),skewY:n=>Da(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function ay(n){return n.includes("scale")?1:0}function oy(n,t){if(!n||n==="none")return ay(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(e)i=JV,a=e;else{const f=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=ZV,a=f}if(!a)return ay(t);const l=i[t],u=a[1].split(",").map(e2);return typeof l=="function"?l(u):u[l]}const t2=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return oy(e,t)};function e2(n){return parseFloat(n.trim())}const Pl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ml=new Set(Pl),yA=n=>n===Vl||n===St,n2=new Set(["x","y","z"]),i2=Pl.filter(n=>!n2.has(n));function s2(n){const t=[];return i2.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const Pa={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>oy(t,"x"),y:(n,{transform:t})=>oy(t,"y")};Pa.translateX=Pa.x;Pa.translateY=Pa.y;const Ma=new Set;let ly=!1,uy=!1,cy=!1;function n1(){if(uy){const n=Array.from(Ma).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const a=s2(i);a.length&&(e.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=e.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}uy=!1,ly=!1,Ma.forEach(n=>n.complete(cy)),Ma.clear()}function i1(){Ma.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(uy=!0)})}function r2(){cy=!0,i1(),n1(),cy=!1}class b_{constructor(t,e,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ma.add(this),ly||(ly=!0,he.read(i1),he.resolveKeyframes(n1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:a}=this;if(t[0]===null){const l=a?.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&e){const f=i.readValue(e,u);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=u),a&&l===void 0&&a.set(t[0])}WV(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ma.delete(this)}cancel(){this.state==="scheduled"&&(Ma.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const a2=n=>n.startsWith("--");function o2(n,t,e){a2(t)?n.style.setProperty(t,e):n.style[t]=e}const l2=c_(()=>window.ScrollTimeline!==void 0),u2={};function c2(n,t){const e=c_(n);return()=>u2[t]??e()}const s1=c2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ic=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,_A={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ic([0,.65,.55,1]),circOut:ic([.55,0,1,.45]),backIn:ic([.31,.01,.66,-.59]),backOut:ic([.33,1.53,.69,.99])};function r1(n,t){if(n)return typeof n=="function"?s1()?Jw(n,t):"ease-out":qw(n)?ic(n):Array.isArray(n)?n.map(e=>r1(e,t)||_A.easeOut):_A[n]}function h2(n,t,e,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[t]:e};m&&(y.offset=m);const T=r1(f,a);Array.isArray(T)&&(y.easing=T);const A={delay:i,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(A.pseudoElement=p),n.animate(y,A)}function a1(n){return typeof n=="function"&&"applyToOptions"in n}function f2({type:n,...t}){return a1(n)&&s1()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class d2 extends E_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,u_(typeof t.type!="string");const p=f2(t);this.animation=h2(e,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=T_(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):o2(e,i,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ki(Number(t))}get time(){return ki(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Oi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&l2()?(this.animation.timeline=t,ei):e(this)}}const o1={anticipate:Bw,backInOut:Uw,circInOut:zw};function m2(n){return n in o1}function p2(n){typeof n.ease=="string"&&m2(n.ease)&&(n.ease=o1[n.ease])}const vA=10;class g2 extends d2{constructor(t){p2(t),e1(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const f=new A_({...u,autoplay:!1}),m=Oi(this.finishedTime??this.time);e.setWithVelocity(f.sample(m-vA).value,f.sample(m).value,vA),f.stop()}}const TA=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Sr.test(n)||n==="0")&&!n.startsWith("url("));function y2(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function _2(n,t,e,i){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=n[n.length-1],u=TA(a,t),f=TA(l,t);return!u||!f?!1:y2(n)||(e==="spring"||a1(e))&&i}function hy(n){n.duration=0,n.type}const v2=new Set(["opacity","clipPath","filter","transform"]),T2=c_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function E2(n){const{motionValue:t,name:e,repeatDelay:i,repeatType:a,damping:l,type:u}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return T2()&&e&&v2.has(e)&&(e!=="transform"||!p)&&!m&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const A2=40;class b2 extends E_{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:p,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=An.now();const A={autoplay:t,delay:e,type:i,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:y,...T},I=y?.KeyframeResolver||b_;this.keyframeResolver=new I(f,(C,U,j)=>this.onKeyframesResolved(C,U,A,!j),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:p,onUpdate:y}=i;this.resolvedAt=An.now(),_2(t,l,u,f)||((Es.instantAnimations||!m)&&y?.(T_(t,i,e)),t[0]=t[t.length-1],hy(i),i.repeat=0);const A={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>A2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},I=!p&&E2(A)?new g2({...A,element:A.motionValue.owner.current}):new A_(A);I.finished.then(()=>this.notifyFinished()).catch(ei),this.pendingTimeline&&(this.stopTimeline=I.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=I}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),r2()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const S2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function w2(n){const t=S2.exec(n);if(!t)return[,];const[,e,i,a]=t;return[`--${e??i}`,a]}function l1(n,t,e=1){const[i,a]=w2(n);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const u=l.trim();return Dw(u)?parseFloat(u):u}return p_(a)?l1(a,t,e+1):a}function S_(n,t){return n?.[t]??n?.default??n}const u1=new Set(["width","height","top","left","right","bottom",...Pl]),I2={test:n=>n==="auto",parse:n=>n},c1=n=>t=>t.test(n),h1=[Vl,St,Li,cr,yV,gV,I2],EA=n=>h1.find(c1(n));function R2(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Pw(n):!0}const x2=new Set(["brightness","contrast","saturate","opacity"]);function C2(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(g_)||[];if(!i)return n;const a=e.replace(i,"");let l=x2.has(t)?1:0;return i!==e&&(l*=100),t+"("+l+a+")"}const D2=/\b([a-z-]*)\(.*?\)/gu,fy={...Sr,getAnimatableNone:n=>{const t=n.match(D2);return t?t.map(C2).join(" "):n}},AA={...Vl,transform:Math.round},V2={rotate:cr,rotateX:cr,rotateY:cr,rotateZ:cr,scale:Pf,scaleX:Pf,scaleY:Pf,scaleZ:Pf,skew:cr,skewX:cr,skewY:cr,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:Sc,originX:uA,originY:uA,originZ:St},w_={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St,...V2,zIndex:AA,fillOpacity:Sc,strokeOpacity:Sc,numOctaves:AA},P2={...w_,color:Ve,backgroundColor:Ve,outlineColor:Ve,fill:Ve,stroke:Ve,borderColor:Ve,borderTopColor:Ve,borderRightColor:Ve,borderBottomColor:Ve,borderLeftColor:Ve,filter:fy,WebkitFilter:fy},f1=n=>P2[n];function d1(n,t){let e=f1(n);return e!==fy&&(e=Sr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const M2=new Set(["auto","none","0"]);function N2(n,t,e){let i=0,a;for(;i<n.length&&!a;){const l=n[i];typeof l=="string"&&!M2.has(l)&&wc(l).values.length&&(a=n[i]),i++}if(a&&e)for(const l of t)n[l]=d1(e,a)}class O2 extends b_{constructor(t,e,i,a,l){super(t,e,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),p_(p))){const y=l1(p,e.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!u1.has(i)||t.length!==2)return;const[a,l]=t,u=EA(a),f=EA(l);if(u!==f)if(yA(u)&&yA(f))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else Pa[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||R2(t[a]))&&i.push(a);i.length&&N2(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pa[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Pa[e](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function k2(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=e?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const m1=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function L2(n){return Vw(n)&&"offsetHeight"in n}const bA=30,U2=n=>!isNaN(parseFloat(n));class B2{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=An.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=An.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=U2(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new h_);const i=this.events[t].add(e);return t==="change"?()=>{i(),he.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>bA)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,bA);return Mw(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gl(n,t){return new B2(n,t)}const{schedule:I_}=Hw(queueMicrotask,!1),ci={x:!1,y:!1};function p1(){return ci.x||ci.y}function j2(n){return n==="x"||n==="y"?ci[n]?null:(ci[n]=!0,()=>{ci[n]=!1}):ci.x||ci.y?null:(ci.x=ci.y=!0,()=>{ci.x=ci.y=!1})}function g1(n,t){const e=k2(n),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[e,a,()=>i.abort()]}function SA(n){return!(n.pointerType==="touch"||p1())}function z2(n,t,e={}){const[i,a,l]=g1(n,e),u=f=>{if(!SA(f))return;const{target:m}=f,p=t(m,f);if(typeof p!="function"||!m)return;const y=T=>{SA(T)&&(p(T),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return i.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const y1=(n,t)=>t?n===t?!0:y1(n,t.parentElement):!1,R_=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,F2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function q2(n){return F2.has(n.tagName)||n.tabIndex!==-1}const Gf=new WeakSet;function wA(n){return t=>{t.key==="Enter"&&n(t)}}function Dg(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const H2=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=wA(()=>{if(Gf.has(e))return;Dg(e,"down");const a=wA(()=>{Dg(e,"up")}),l=()=>Dg(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function IA(n){return R_(n)&&!p1()}function G2(n,t,e={}){const[i,a,l]=g1(n,e),u=f=>{const m=f.currentTarget;if(!IA(f))return;Gf.add(m);const p=t(m,f),y=(I,C)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",A),Gf.has(m)&&Gf.delete(m),IA(I)&&typeof p=="function"&&p(I,{success:C})},T=I=>{y(I,m===window||m===document||e.useGlobalTarget||y1(m,I.target))},A=I=>{y(I,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",A,a)};return i.forEach(f=>{(e.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),L2(f)&&(f.addEventListener("focus",p=>H2(p,a)),!q2(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function _1(n){return Vw(n)&&"ownerSVGElement"in n}function K2(n){return _1(n)&&n.tagName==="svg"}const un=n=>!!(n&&n.getVelocity),Q2=[...h1,Ve,Sr],Y2=n=>Q2.find(c1(n)),v1=gt.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function X2(n=!0){const t=gt.useContext(a_);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:a}=t,l=gt.useId();gt.useEffect(()=>{if(n)return a(l)},[n]);const u=gt.useCallback(()=>n&&i&&i(l),[l,i,n]);return!e&&i?[!1,u]:[!0]}const T1=gt.createContext({strict:!1}),RA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yl={};for(const n in RA)yl[n]={isEnabled:t=>RA[n].some(e=>!!t[e])};function $2(n){for(const t in n)yl[t]={...yl[t],...n[t]}}const W2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dd(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||W2.has(n)}let E1=n=>!dd(n);function Z2(n){typeof n=="function"&&(E1=t=>t.startsWith("on")?!dd(t):n(t))}try{Z2(require("@emotion/is-prop-valid").default)}catch{}function J2(n,t,e){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(E1(a)||e===!0&&dd(a)||!t&&!dd(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const zd=gt.createContext({});function Fd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Ic(n){return typeof n=="string"||Array.isArray(n)}const x_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],C_=["initial",...x_];function qd(n){return Fd(n.animate)||C_.some(t=>Ic(n[t]))}function A1(n){return!!(qd(n)||n.variants)}function tP(n,t){if(qd(n)){const{initial:e,animate:i}=n;return{initial:e===!1||Ic(e)?e:void 0,animate:Ic(i)?i:void 0}}return n.inherit!==!1?t:{}}function eP(n){const{initial:t,animate:e}=tP(n,gt.useContext(zd));return gt.useMemo(()=>({initial:t,animate:e}),[xA(t),xA(e)])}function xA(n){return Array.isArray(n)?n.join(" "):n}const Rc={};function nP(n){for(const t in n)Rc[t]=n[t],m_(t)&&(Rc[t].isCSSVariable=!0)}function b1(n,{layout:t,layoutId:e}){return Ml.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Rc[n]||n==="opacity")}const iP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sP=Pl.length;function rP(n,t,e){let i="",a=!0;for(let l=0;l<sP;l++){const u=Pl[l],f=n[u];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(u.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||e){const p=m1(f,w_[u]);if(!m){a=!1;const y=iP[u]||u;i+=`${y}(${p}) `}e&&(t[u]=p)}}return i=i.trim(),e?i=e(t,a?"":i):a&&(i="none"),i}function D_(n,t,e){const{style:i,vars:a,transformOrigin:l}=n;let u=!1,f=!1;for(const m in t){const p=t[m];if(Ml.has(m)){u=!0;continue}else if(m_(m)){a[m]=p;continue}else{const y=m1(p,w_[m]);m.startsWith("origin")?(f=!0,l[m]=y):i[m]=y}}if(t.transform||(u||e?i.transform=rP(t,n.transform,e):i.transform&&(i.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;i.transformOrigin=`${m} ${p} ${y}`}}const V_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function S1(n,t,e){for(const i in t)!un(t[i])&&!b1(i,e)&&(n[i]=t[i])}function aP({transformTemplate:n},t){return gt.useMemo(()=>{const e=V_();return D_(e,t,n),Object.assign({},e.vars,e.style)},[t])}function oP(n,t){const e=n.style||{},i={};return S1(i,e,n),Object.assign(i,aP(n,t)),i}function lP(n,t){const e={},i=oP(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const uP={offset:"stroke-dashoffset",array:"stroke-dasharray"},cP={offset:"strokeDashoffset",array:"strokeDasharray"};function hP(n,t,e=1,i=0,a=!0){n.pathLength=1;const l=a?uP:cP;n[l.offset]=St.transform(-i);const u=St.transform(t),f=St.transform(e);n[l.array]=`${u} ${f}`}function w1(n,{attrX:t,attrY:e,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},m,p,y){if(D_(n,f,p),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:A}=n;T.transform&&(A.transform=T.transform,delete T.transform),(A.transform||T.transformOrigin)&&(A.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),A.transform&&(A.transformBox=y?.transformBox??"fill-box",delete T.transformBox),t!==void 0&&(T.x=t),e!==void 0&&(T.y=e),i!==void 0&&(T.scale=i),a!==void 0&&hP(T,a,l,u,!1)}const I1=()=>({...V_(),attrs:{}}),R1=n=>typeof n=="string"&&n.toLowerCase()==="svg";function fP(n,t,e,i){const a=gt.useMemo(()=>{const l=I1();return w1(l,t,R1(i),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[t]);if(n.style){const l={};S1(l,n.style,n),a.style={...l,...a.style}}return a}const dP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function P_(n){return typeof n!="string"||n.includes("-")?!1:!!(dP.indexOf(n)>-1||/[A-Z]/u.test(n))}function mP(n,t,e,{latestValues:i},a,l=!1){const f=(P_(n)?fP:lP)(t,i,a,n),m=J2(t,typeof n=="string",l),p=n!==gt.Fragment?{...m,...f,ref:e}:{},{children:y}=t,T=gt.useMemo(()=>un(y)?y.get():y,[y]);return gt.createElement(n,{...p,children:T})}function CA(n){const t=[{},{}];return n?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function M_(n,t,e,i){if(typeof t=="function"){const[a,l]=CA(i);t=t(e!==void 0?e:n.custom,a,l)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,l]=CA(i);t=t(e!==void 0?e:n.custom,a,l)}return t}function Kf(n){return un(n)?n.get():n}function pP({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,a){return{latestValues:gP(e,i,a,n),renderState:t()}}function gP(n,t,e,i){const a={},l=i(n,{});for(const A in l)a[A]=Kf(l[A]);let{initial:u,animate:f}=n;const m=qd(n),p=A1(n);t&&p&&!m&&n.inherit!==!1&&(u===void 0&&(u=t.initial),f===void 0&&(f=t.animate));let y=e?e.initial===!1:!1;y=y||u===!1;const T=y?f:u;if(T&&typeof T!="boolean"&&!Fd(T)){const A=Array.isArray(T)?T:[T];for(let I=0;I<A.length;I++){const C=M_(n,A[I]);if(C){const{transitionEnd:U,transition:j,...Z}=C;for(const tt in Z){let Q=Z[tt];if(Array.isArray(Q)){const ct=y?Q.length-1:0;Q=Q[ct]}Q!==null&&(a[tt]=Q)}for(const tt in U)a[tt]=U[tt]}}}return a}const x1=n=>(t,e)=>{const i=gt.useContext(zd),a=gt.useContext(a_),l=()=>pP(n,t,i,a);return e?l():$D(l)};function N_(n,t,e){const{style:i}=n,a={};for(const l in i)(un(i[l])||t.style&&un(t.style[l])||b1(l,n)||e?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const yP=x1({scrapeMotionValuesFromProps:N_,createRenderState:V_});function C1(n,t,e){const i=N_(n,t,e);for(const a in n)if(un(n[a])||un(t[a])){const l=Pl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=n[a]}return i}const _P=x1({scrapeMotionValuesFromProps:C1,createRenderState:I1}),vP=Symbol.for("motionComponentSymbol");function il(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function TP(n,t,e){return gt.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):il(e)&&(e.current=i))},[t])}const O_=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),EP="framerAppearId",D1="data-"+O_(EP),V1=gt.createContext({});function AP(n,t,e,i,a){const{visualElement:l}=gt.useContext(zd),u=gt.useContext(T1),f=gt.useContext(a_),m=gt.useContext(v1).reducedMotion,p=gt.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(n,{visualState:t,parent:l,props:e,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,T=gt.useContext(V1);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&bP(p.current,e,a,T);const A=gt.useRef(!1);gt.useInsertionEffect(()=>{y&&A.current&&y.update(e,f)});const I=e[D1],C=gt.useRef(!!I&&!window.MotionHandoffIsComplete?.(I)&&window.MotionHasOptimisedAnimation?.(I));return WD(()=>{y&&(A.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),C.current&&y.animationState&&y.animationState.animateChanges())}),gt.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(I)}),C.current=!1),y.enteringChildren=void 0)}),y}function bP(n,t,e,i){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:P1(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&il(f),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:m,layoutRoot:p})}function P1(n){if(n)return n.options.allowProjection!==!1?n.projection:P1(n.parent)}function Vg(n,{forwardMotionProps:t=!1}={},e,i){e&&$2(e);const a=P_(n)?_P:yP;function l(f,m){let p;const y={...gt.useContext(v1),...f,layoutId:SP(f)},{isStatic:T}=y,A=eP(f),I=a(f,T);if(!T&&r_){wP();const C=IP(y);p=C.MeasureLayout,A.visualElement=AP(n,I,y,i,C.ProjectionNode)}return X.jsxs(zd.Provider,{value:A,children:[p&&A.visualElement?X.jsx(p,{visualElement:A.visualElement,...y}):null,mP(n,f,TP(I,A.visualElement,m),I,T,t)]})}l.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=gt.forwardRef(l);return u[vP]=n,u}function SP({layoutId:n}){const t=gt.useContext(Cw).id;return t&&n!==void 0?t+"-"+n:n}function wP(n,t){gt.useContext(T1).strict}function IP(n){const{drag:t,layout:e}=yl;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t?.isEnabled(n)||e?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function RP(n,t){if(typeof Proxy>"u")return Vg;const e=new Map,i=(l,u)=>Vg(l,u,n,t),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(e.has(u)||e.set(u,Vg(u,void 0,n,t)),e.get(u))})}function M1({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function xP({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function CP(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function Pg(n){return n===void 0||n===1}function dy({scale:n,scaleX:t,scaleY:e}){return!Pg(n)||!Pg(t)||!Pg(e)}function Ea(n){return dy(n)||N1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function N1(n){return DA(n.x)||DA(n.y)}function DA(n){return n&&n!=="0%"}function md(n,t,e){const i=n-e,a=t*i;return e+a}function VA(n,t,e,i,a){return a!==void 0&&(n=md(n,a,i)),md(n,e,i)+t}function my(n,t=0,e=1,i,a){n.min=VA(n.min,t,e,i,a),n.max=VA(n.max,t,e,i,a)}function O1(n,{x:t,y:e}){my(n.x,t.translate,t.scale,t.originPoint),my(n.y,e.translate,e.scale,e.originPoint)}const PA=.999999999999,MA=1.0000000000001;function DP(n,t,e,i=!1){const a=e.length;if(!a)return;t.x=t.y=1;let l,u;for(let f=0;f<a;f++){l=e[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&rl(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,O1(n,u)),i&&Ea(l.latestValues)&&rl(n,l.latestValues))}t.x<MA&&t.x>PA&&(t.x=1),t.y<MA&&t.y>PA&&(t.y=1)}function sl(n,t){n.min=n.min+t,n.max=n.max+t}function NA(n,t,e,i,a=.5){const l=me(n.min,n.max,a);my(n,t,e,l,i)}function rl(n,t){NA(n.x,t.x,t.scaleX,t.scale,t.originX),NA(n.y,t.y,t.scaleY,t.scale,t.originY)}function k1(n,t){return M1(CP(n.getBoundingClientRect(),t))}function VP(n,t,e){const i=k1(n,e),{scroll:a}=t;return a&&(sl(i.x,a.offset.x),sl(i.y,a.offset.y)),i}const OA=()=>({translate:0,scale:1,origin:0,originPoint:0}),al=()=>({x:OA(),y:OA()}),kA=()=>({min:0,max:0}),Se=()=>({x:kA(),y:kA()}),py={current:null},L1={current:!1};function PP(){if(L1.current=!0,!!r_)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>py.current=n.matches;n.addEventListener("change",t),t()}else py.current=!1}const MP=new WeakMap;function NP(n,t,e){for(const i in t){const a=t[i],l=e[i];if(un(a))n.addValue(i,a);else if(un(l))n.addValue(i,gl(a,{owner:n}));else if(l!==a)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(i);n.addValue(i,gl(u!==void 0?u:a,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const LA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class OP{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=b_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=An.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,he.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=e.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=qd(e),this.isVariantNode=A1(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(e,{},this);for(const A in T){const I=T[A];m[A]!==void 0&&un(I)&&I.set(m[A])}}mount(t){this.current=t,MP.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),L1.current||PP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:py.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),br(this.notifyUpdate),br(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Ml.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&he.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in yl){const e=yl[t];if(!e)continue;const{isEnabled:i,Feature:a}=e;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Se()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<LA.length;i++){const a=LA[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=t[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=NP(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=gl(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(Dw(i)||Pw(i))?i=parseFloat(i):!Y2(i)&&Sr.test(e)&&(i=d1(t,e)),this.setBaseTarget(t,un(i)?i.get():i)),un(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const l=M_(this.props,e,this.presenceContext?.custom);l&&(i=l[t])}if(e&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!un(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new h_),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){I_.render(this.render)}}class U1 extends OP{constructor(){super(...arguments),this.KeyframeResolver=O2}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;un(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function B1(n,{style:t,vars:e},i,a){const l=n.style;let u;for(u in t)l[u]=t[u];a?.applyProjectionStyles(l,i);for(u in e)l.setProperty(u,e[u])}function kP(n){return window.getComputedStyle(n)}class LP extends U1{constructor(){super(...arguments),this.type="html",this.renderInstance=B1}readValueFromInstance(t,e){if(Ml.has(e))return this.projection?.isProjecting?ay(e):t2(t,e);{const i=kP(t),a=(m_(e)?i.getPropertyValue(e):i[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return k1(t,e)}build(t,e,i){D_(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return N_(t,e,i)}}const j1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function UP(n,t,e,i){B1(n,t,void 0,i);for(const a in t.attrs)n.setAttribute(j1.has(a)?a:O_(a),t.attrs[a])}class BP extends U1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Se}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Ml.has(e)){const i=f1(e);return i&&i.default||0}return e=j1.has(e)?e:O_(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return C1(t,e,i)}build(t,e,i){w1(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,a){UP(t,e,i,a)}mount(t){this.isSVGTag=R1(t.tagName),super.mount(t)}}const jP=(n,t)=>P_(n)?new BP(t):new LP(t,{allowProjection:n!==gt.Fragment});function ll(n,t,e){const i=n.getProps();return M_(i,t,e!==void 0?e:i.custom,n)}const gy=n=>Array.isArray(n);function zP(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,gl(e))}function FP(n){return gy(n)?n[n.length-1]||0:n}function qP(n,t){const e=ll(n,t);let{transitionEnd:i={},transition:a={},...l}=e||{};l={...l,...i};for(const u in l){const f=FP(l[u]);zP(n,u,f)}}function HP(n){return!!(un(n)&&n.add)}function yy(n,t){const e=n.getValue("willChange");if(HP(e))return e.add(t);if(!e&&Es.WillChange){const i=new Es.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function z1(n){return n.props[D1]}const GP=n=>n!==null;function KP(n,{repeat:t,repeatType:e="loop"},i){const a=n.filter(GP),l=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[l]}const QP={type:"spring",stiffness:500,damping:25,restSpeed:10},YP=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),XP={type:"keyframes",duration:.8},$P={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WP=(n,{keyframes:t})=>t.length>2?XP:Ml.has(n)?n.startsWith("scale")?YP(t[1]):QP:$P;function ZP({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const k_=(n,t,e,i={},a,l)=>u=>{const f=S_(i,n)||{},m=f.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Oi(m);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:A=>{t.set(A),f.onUpdate&&f.onUpdate(A)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:n,motionValue:t,element:l?void 0:a};ZP(f)||Object.assign(y,WP(n,y)),y.duration&&(y.duration=Oi(y.duration)),y.repeatDelay&&(y.repeatDelay=Oi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(hy(y),y.delay===0&&(T=!0)),(Es.instantAnimations||Es.skipAnimations)&&(T=!0,hy(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,T&&!l&&t.get()!==void 0){const A=KP(y.keyframes,f);if(A!==void 0){he.update(()=>{y.onUpdate(A),y.onComplete()});return}}return f.isSync?new A_(y):new b2(y)};function JP({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function F1(n,t,{delay:e=0,transitionOverride:i,type:a}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:u,...f}=t;i&&(l=i);const m=[],p=a&&n.animationState&&n.animationState.getState()[a];for(const y in f){const T=n.getValue(y,n.latestValues[y]??null),A=f[y];if(A===void 0||p&&JP(p,y))continue;const I={delay:e,...S_(l||{},y)},C=T.get();if(C!==void 0&&!T.isAnimating&&!Array.isArray(A)&&A===C&&!I.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const Z=z1(n);if(Z){const tt=window.MotionHandoffAnimation(Z,y,he);tt!==null&&(I.startTime=tt,U=!0)}}yy(n,y),T.start(k_(y,T,A,n.shouldReduceMotion&&u1.has(y)?{type:!1}:I,n,U));const j=T.animation;j&&m.push(j)}return u&&Promise.all(m).then(()=>{he.update(()=>{u&&qP(n,u)})}),m}function q1(n,t,e,i=0,a=1){const l=Array.from(n).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),u=n.size,f=(u-1)*i;return typeof e=="function"?e(l,u):a===1?l*i:f-l*i}function _y(n,t,e={}){const i=ll(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(a=e.transitionOverride);const l=i?()=>Promise.all(F1(n,i,e)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:T}=a;return tM(n,t,m,p,y,T,e)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(e.delay)])}function tM(n,t,e=0,i=0,a=0,l=1,u){const f=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),f.push(_y(m,t,{...u,delay:e+(typeof i=="function"?0:i)+q1(n.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(f)}function eM(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(l=>_y(n,l,e));i=Promise.all(a)}else if(typeof t=="string")i=_y(n,t,e);else{const a=typeof t=="function"?ll(n,t,e.custom):t;i=Promise.all(F1(n,a,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function H1(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const nM=C_.length;function G1(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?G1(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<nM;e++){const i=C_[e],a=n.props[i];(Ic(a)||a===!1)&&(t[i]=a)}return t}const iM=[...x_].reverse(),sM=x_.length;function rM(n){return t=>Promise.all(t.map(({animation:e,options:i})=>eM(n,e,i)))}function aM(n){let t=rM(n),e=UA(),i=!0;const a=m=>(p,y)=>{const T=ll(n,y,m==="exit"?n.presenceContext?.custom:void 0);if(T){const{transition:A,transitionEnd:I,...C}=T;p={...p,...C,...I}}return p};function l(m){t=m(n)}function u(m){const{props:p}=n,y=G1(n.parent)||{},T=[],A=new Set;let I={},C=1/0;for(let j=0;j<sM;j++){const Z=iM[j],tt=e[Z],Q=p[Z]!==void 0?p[Z]:y[Z],ct=Ic(Q),nt=Z===m?tt.isActive:null;nt===!1&&(C=j);let ft=Q===y[Z]&&Q!==p[Z]&&ct;if(ft&&i&&n.manuallyAnimateOnMount&&(ft=!1),tt.protectedKeys={...I},!tt.isActive&&nt===null||!Q&&!tt.prevProp||Fd(Q)||typeof Q=="boolean")continue;const V=oM(tt.prevProp,Q);let w=V||Z===m&&tt.isActive&&!ft&&ct||j>C&&ct,R=!1;const N=Array.isArray(Q)?Q:[Q];let O=N.reduce(a(Z),{});nt===!1&&(O={});const{prevResolvedValues:L={}}=tt,D={...L,...O},we=st=>{w=!0,A.has(st)&&(R=!0,A.delete(st)),tt.needsAnimating[st]=!0;const dt=n.getValue(st);dt&&(dt.liveStyle=!1)};for(const st in D){const dt=O[st],Dt=L[st];if(I.hasOwnProperty(st))continue;let P=!1;gy(dt)&&gy(Dt)?P=!H1(dt,Dt):P=dt!==Dt,P?dt!=null?we(st):A.add(st):dt!==void 0&&A.has(st)?we(st):tt.protectedKeys[st]=!0}tt.prevProp=Q,tt.prevResolvedValues=O,tt.isActive&&(I={...I,...O}),i&&n.blockInitialAnimation&&(w=!1);const ae=ft&&V;w&&(!ae||R)&&T.push(...N.map(st=>{const dt={type:Z};if(typeof st=="string"&&i&&!ae&&n.manuallyAnimateOnMount&&n.parent){const{parent:Dt}=n,P=ll(Dt,st);if(Dt.enteringChildren&&P){const{delayChildren:it}=P.transition||{};dt.delay=q1(Dt.enteringChildren,n,it)}}return{animation:st,options:dt}}))}if(A.size){const j={};if(typeof p.initial!="boolean"){const Z=ll(n,Array.isArray(p.initial)?p.initial[0]:p.initial);Z&&Z.transition&&(j.transition=Z.transition)}A.forEach(Z=>{const tt=n.getBaseTarget(Z),Q=n.getValue(Z);Q&&(Q.liveStyle=!0),j[Z]=tt??null}),T.push({animation:j})}let U=!!T.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(U=!1),i=!1,U?t(T):Promise.resolve()}function f(m,p){if(e[m].isActive===p)return Promise.resolve();n.variantChildren?.forEach(T=>T.animationState?.setActive(m,p)),e[m].isActive=p;const y=u(m);for(const T in e)e[T].protectedKeys={};return y}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>e,reset:()=>{e=UA(),i=!0}}}function oM(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!H1(t,n):!1}function _a(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function UA(){return{animate:_a(!0),whileInView:_a(),whileHover:_a(),whileTap:_a(),whileDrag:_a(),whileFocus:_a(),exit:_a()}}class Pr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class lM extends Pr{constructor(t){super(t),t.animationState||(t.animationState=aM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Fd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let uM=0;class cM extends Pr{constructor(){super(...arguments),this.id=uM++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const hM={animation:{Feature:lM},exit:{Feature:cM}};function xc(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function Qc(n){return{point:{x:n.pageX,y:n.pageY}}}const fM=n=>t=>R_(t)&&n(t,Qc(t));function hc(n,t,e,i){return xc(n,t,fM(e),i)}const K1=1e-4,dM=1-K1,mM=1+K1,Q1=.01,pM=0-Q1,gM=0+Q1;function gn(n){return n.max-n.min}function yM(n,t,e){return Math.abs(n-t)<=e}function BA(n,t,e,i=.5){n.origin=i,n.originPoint=me(t.min,t.max,n.origin),n.scale=gn(e)/gn(t),n.translate=me(e.min,e.max,n.origin)-n.originPoint,(n.scale>=dM&&n.scale<=mM||isNaN(n.scale))&&(n.scale=1),(n.translate>=pM&&n.translate<=gM||isNaN(n.translate))&&(n.translate=0)}function fc(n,t,e,i){BA(n.x,t.x,e.x,i?i.originX:void 0),BA(n.y,t.y,e.y,i?i.originY:void 0)}function jA(n,t,e){n.min=e.min+t.min,n.max=n.min+gn(t)}function _M(n,t,e){jA(n.x,t.x,e.x),jA(n.y,t.y,e.y)}function zA(n,t,e){n.min=t.min-e.min,n.max=n.min+gn(t)}function dc(n,t,e){zA(n.x,t.x,e.x),zA(n.y,t.y,e.y)}function Wn(n){return[n("x"),n("y")]}const Y1=({current:n})=>n?n.ownerDocument.defaultView:null,FA=(n,t)=>Math.abs(n-t);function vM(n,t){const e=FA(n.x,t.x),i=FA(n.y,t.y);return Math.sqrt(e**2+i**2)}class X1{constructor(t,e,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Ng(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,C=vM(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!C)return;const{point:U}=A,{timestamp:j}=tn;this.history.push({...U,timestamp:j});const{onStart:Z,onMove:tt}=this.handlers;I||(Z&&Z(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),tt&&tt(this.lastMoveEvent,A)},this.handlePointerMove=(A,I)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Mg(I,this.transformPagePoint),he.update(this.updatePoint,!0)},this.handlePointerUp=(A,I)=>{this.end();const{onEnd:C,onSessionEnd:U,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Z=Ng(A.type==="pointercancel"?this.lastMoveEventInfo:Mg(I,this.transformPagePoint),this.history);this.startEvent&&C&&C(A,Z),U&&U(A,Z)},!R_(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const f=Qc(t),m=Mg(f,this.transformPagePoint),{point:p}=m,{timestamp:y}=tn;this.history=[{...p,timestamp:y}];const{onSessionStart:T}=e;T&&T(t,Ng(m,this.history)),this.removeListeners=Hc(hc(this.contextWindow,"pointermove",this.handlePointerMove),hc(this.contextWindow,"pointerup",this.handlePointerUp),hc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),br(this.updatePoint)}}function Mg(n,t){return t?{point:t(n.point)}:n}function qA(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Ng({point:n},t){return{point:n,delta:qA(n,$1(t)),offset:qA(n,TM(t)),velocity:EM(t,.1)}}function TM(n){return n[0]}function $1(n){return n[n.length-1]}function EM(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const a=$1(n);for(;e>=0&&(i=n[e],!(a.timestamp-i.timestamp>Oi(t)));)e--;if(!i)return{x:0,y:0};const l=ki(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function AM(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?me(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?me(e,n,i.max):Math.min(n,e)),n}function HA(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function bM(n,{top:t,left:e,bottom:i,right:a}){return{x:HA(n.x,e,a),y:HA(n.y,t,i)}}function GA(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function SM(n,t){return{x:GA(n.x,t.x),y:GA(n.y,t.y)}}function wM(n,t){let e=.5;const i=gn(n),a=gn(t);return a>i?e=bc(t.min,t.max-i,n.min):i>a&&(e=bc(n.min,n.max-a,t.min)),Ts(0,1,e)}function IM(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const vy=.35;function RM(n=vy){return n===!1?n=0:n===!0&&(n=vy),{x:KA(n,"left","right"),y:KA(n,"top","bottom")}}function KA(n,t,e){return{min:QA(n,t),max:QA(n,e)}}function QA(n,t){return typeof n=="number"?n:n[t]||0}const xM=new WeakMap;class CM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Se(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=T=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Qc(T).point)},u=(T,A)=>{const{drag:I,dragPropagation:C,onDragStart:U}=this.getProps();if(I&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=j2(I),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wn(Z=>{let tt=this.getAxisMotionValue(Z).get()||0;if(Li.test(tt)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const ct=Q.layout.layoutBox[Z];ct&&(tt=gn(ct)*(parseFloat(tt)/100))}}this.originPoint[Z]=tt}),U&&he.postRender(()=>U(T,A)),yy(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},f=(T,A)=>{this.latestPointerEvent=T,this.latestPanInfo=A;const{dragPropagation:I,dragDirectionLock:C,onDirectionLock:U,onDrag:j}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:Z}=A;if(C&&this.currentDirection===null){this.currentDirection=DM(Z),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",A.point,Z),this.updateAxis("y",A.point,Z),this.visualElement.render(),j&&j(T,A)},m=(T,A)=>{this.latestPointerEvent=T,this.latestPanInfo=A,this.stop(T,A),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Wn(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new X1(t,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:Y1(this.visualElement)})}stop(t,e){const i=t||this.latestPointerEvent,a=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&he.postRender(()=>f(i,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:a}=this.getProps();if(!i||!Mf(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=AM(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&il(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=bM(i.layoutBox,t):this.constraints=!1,this.elastic=RM(e),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Wn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=IM(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!il(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=VP(i,a.root,this.visualElement.getTransformPagePoint());let u=SM(a.layout.layoutBox,l);if(e){const f=e(xP(u));this.hasMutatedConstraints=!!f,f&&(u=M1(f))}return u}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Wn(y=>{if(!Mf(y,e,this.currentDirection))return;let T=m&&m[y]||{};u&&(T={min:0,max:0});const A=a?200:1e6,I=a?40:1e7,C={type:"inertia",velocity:i?t[y]:0,bounceStiffness:A,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(y,C)});return Promise.all(p).then(f)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return yy(this.visualElement,t),i.start(k_(t,i,0,e,this.visualElement,!1))}stopAnimation(){Wn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Wn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[e];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Wn(e=>{const{drag:i}=this.getProps();if(!Mf(e,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(e);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[e];l.set(t[e]-me(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!il(e)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Wn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();a[u]=wM({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Wn(u=>{if(!Mf(u,t,null))return;const f=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];f.set(me(m,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;xM.set(this.visualElement,this);const t=this.visualElement.current,e=hc(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();il(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),he.read(i);const u=xc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Wn(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=m[y].translate,T.set(T.get()+m[y].translate))}),this.visualElement.render())}));return()=>{u(),e(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=vy,dragMomentum:f=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function Mf(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function DM(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class VM extends Pr{constructor(t){super(t),this.removeGroupControls=ei,this.removeListeners=ei,this.controls=new CM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ei}unmount(){this.removeGroupControls(),this.removeListeners()}}const YA=n=>(t,e)=>{n&&he.postRender(()=>n(t,e))};class PM extends Pr{constructor(){super(...arguments),this.removePointerDownListener=ei}onPointerDown(t){this.session=new X1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Y1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:YA(t),onStart:YA(e),onMove:i,onEnd:(l,u)=>{delete this.session,a&&he.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=hc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function XA(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Wu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(St.test(n))n=parseFloat(n);else return n;const e=XA(n,t.target.x),i=XA(n,t.target.y);return`${e}% ${i}%`}},MM={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,a=Sr.parse(n);if(a.length>5)return i;const l=Sr.createTransformer(n),u=typeof a[0]!="number"?1:0,f=e.x.scale*t.x,m=e.y.scale*t.y;a[0+u]/=f,a[1+u]/=m;const p=me(f,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};let Og=!1;class NM extends gt.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=t;nP(OM),l&&(e.group&&e.group.add(l),i&&i.register&&a&&i.register(l),Og&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Qf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,Og=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||he.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),I_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:a}=t;Og=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function W1(n){const[t,e]=X2(),i=gt.useContext(Cw);return X.jsx(NM,{...n,layoutGroup:i,switchLayoutGroup:gt.useContext(V1),isPresent:t,safeToRemove:e})}const OM={borderRadius:{...Wu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wu,borderTopRightRadius:Wu,borderBottomLeftRadius:Wu,borderBottomRightRadius:Wu,boxShadow:MM};function kM(n,t,e){const i=un(n)?n:gl(n);return i.start(k_("",i,t,e)),i.animation}const LM=(n,t)=>n.depth-t.depth;class UM{constructor(){this.children=[],this.isDirty=!1}add(t){o_(this.children,t),this.isDirty=!0}remove(t){l_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(LM),this.isDirty=!1,this.children.forEach(t)}}function BM(n,t){const e=An.now(),i=({timestamp:a})=>{const l=a-e;l>=t&&(br(i),n(l-t))};return he.setup(i,!0),()=>br(i)}const Z1=["TopLeft","TopRight","BottomLeft","BottomRight"],jM=Z1.length,$A=n=>typeof n=="string"?parseFloat(n):n,WA=n=>typeof n=="number"||St.test(n);function zM(n,t,e,i,a,l){a?(n.opacity=me(0,e.opacity??1,FM(i)),n.opacityExit=me(t.opacity??1,0,qM(i))):l&&(n.opacity=me(t.opacity??1,e.opacity??1,i));for(let u=0;u<jM;u++){const f=`border${Z1[u]}Radius`;let m=ZA(t,f),p=ZA(e,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||WA(m)===WA(p)?(n[f]=Math.max(me($A(m),$A(p),i),0),(Li.test(p)||Li.test(m))&&(n[f]+="%")):n[f]=p}(t.rotate||e.rotate)&&(n.rotate=me(t.rotate||0,e.rotate||0,i))}function ZA(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const FM=J1(0,.5,jw),qM=J1(.5,.95,ei);function J1(n,t,e){return i=>i<n?0:i>t?1:e(bc(n,t,i))}function JA(n,t){n.min=t.min,n.max=t.max}function $n(n,t){JA(n.x,t.x),JA(n.y,t.y)}function tb(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function eb(n,t,e,i,a){return n-=t,n=md(n,1/e,i),a!==void 0&&(n=md(n,1/a,i)),n}function HM(n,t=0,e=1,i=.5,a,l=n,u=n){if(Li.test(t)&&(t=parseFloat(t),t=me(u.min,u.max,t/100)-u.min),typeof t!="number")return;let f=me(l.min,l.max,i);n===l&&(f-=t),n.min=eb(n.min,t,e,f,a),n.max=eb(n.max,t,e,f,a)}function nb(n,t,[e,i,a],l,u){HM(n,t[e],t[i],t[a],t.scale,l,u)}const GM=["x","scaleX","originX"],KM=["y","scaleY","originY"];function ib(n,t,e,i){nb(n.x,t,GM,e?e.x:void 0,i?i.x:void 0),nb(n.y,t,KM,e?e.y:void 0,i?i.y:void 0)}function sb(n){return n.translate===0&&n.scale===1}function tI(n){return sb(n.x)&&sb(n.y)}function rb(n,t){return n.min===t.min&&n.max===t.max}function QM(n,t){return rb(n.x,t.x)&&rb(n.y,t.y)}function ab(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function eI(n,t){return ab(n.x,t.x)&&ab(n.y,t.y)}function ob(n){return gn(n.x)/gn(n.y)}function lb(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class YM{constructor(){this.members=[]}add(t){o_(this.members,t),t.scheduleRender()}remove(t){if(l_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let i;for(let a=e;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XM(n,t,e){let i="";const a=n.x.translate/t.x,l=n.y.translate/t.y,u=e?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:y,rotateX:T,rotateY:A,skewX:I,skewY:C}=e;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),T&&(i+=`rotateX(${T}deg) `),A&&(i+=`rotateY(${A}deg) `),I&&(i+=`skewX(${I}deg) `),C&&(i+=`skewY(${C}deg) `)}const f=n.x.scale*t.x,m=n.y.scale*t.y;return(f!==1||m!==1)&&(i+=`scale(${f}, ${m})`),i||"none"}const kg=["","X","Y","Z"],$M=1e3;let WM=0;function Lg(n,t,e,i){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),i&&(i[n]=0))}function nI(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=z1(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",he,!(a||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&nI(i)}function iI({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},f=t?.()){this.id=WM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tN),this.nodes.forEach(sN),this.nodes.forEach(rN),this.nodes.forEach(eN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new UM)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new h_),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=_1(u)&&!K2(u),this.instance=u;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),n){let y,T=0;const A=()=>this.root.updateBlockedByResize=!1;he.read(()=>{T=window.innerWidth}),n(u,()=>{const I=window.innerWidth;I!==T&&(T=I,this.root.updateBlockedByResize=!0,y&&y(),y=BM(A,250),Qf.hasAnimatedSinceResize&&(Qf.hasAnimatedSinceResize=!1,this.nodes.forEach(hb)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:A,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||cN,{onLayoutAnimationStart:U,onLayoutAnimationComplete:j}=p.getProps(),Z=!this.targetLayout||!eI(this.targetLayout,I),tt=!T&&A;if(this.options.layoutRoot||this.resumeFrom||tt||T&&(Z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Q={...S_(C,"layout"),onPlay:U,onComplete:j};(p.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q),this.setAnimationOrigin(y,tt)}else T||hb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aN),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ub);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(cb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(iN),this.nodes.forEach(ZM),this.nodes.forEach(JM)):this.nodes.forEach(cb),this.clearAllSnapshots();const f=An.now();tn.delta=Ts(0,1e3/60,f-tn.timestamp),tn.timestamp=f,tn.isProcessing=!0,wg.update.process(tn),wg.preRender.process(tn),wg.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,I_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nN),this.sharedNodes.forEach(oN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,he.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){he.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gn(this.snapshot.measuredBox.x)&&!gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Se(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!tI(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||Ea(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),hN(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Se();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(fN))){const{scroll:p}=this.root;p&&(sl(f.x,p.offset.x),sl(f.y,p.offset.y))}return f}removeElementScroll(u){const f=Se();if($n(f,u),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:T}=p;p!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&$n(f,u),sl(f.x,y.offset.x),sl(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const m=Se();$n(m,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&rl(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ea(y.latestValues)&&rl(m,y.latestValues)}return Ea(this.latestValues)&&rl(m,this.latestValues),m}removeTransform(u){const f=Se();$n(f,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ea(p.latestValues))continue;dy(p.latestValues)&&p.updateSnapshot();const y=Se(),T=p.measurePageBox();$n(y,T),ib(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ea(this.latestValues)&&ib(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!(!this.layout||!(y||T))){if(this.resolvedRelativeTargetAt=tn.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Se(),this.relativeTargetOrigin=Se(),dc(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Se(),this.targetWithTransforms=Se()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_M(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),O1(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Se(),this.relativeTargetOrigin=Se(),dc(this.relativeTargetOrigin,this.target,A.target),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||dy(this.parent.latestValues)||N1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;$n(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,A=this.treeScale.y;DP(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Se());const{target:I}=u;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tb(this.prevProjectionDelta.x,this.projectionDelta.x),tb(this.prevProjectionDelta.y,this.projectionDelta.y)),fc(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==A||!lb(this.projectionDelta.x,this.prevProjectionDelta.x)||!lb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=al(),this.projectionDelta=al(),this.projectionDeltaWithTransform=al()}setAnimationOrigin(u,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},T=al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const A=Se(),I=m?m.source:void 0,C=this.layout?this.layout.source:void 0,U=I!==C,j=this.getStack(),Z=!j||j.members.length<=1,tt=!!(U&&!Z&&this.options.crossfade===!0&&!this.path.some(uN));this.animationProgress=0;let Q;this.mixTargetDelta=ct=>{const nt=ct/1e3;fb(T.x,u.x,nt),fb(T.y,u.y,nt),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dc(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lN(this.relativeTarget,this.relativeTargetOrigin,A,nt),Q&&QM(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=Se()),$n(Q,this.relativeTarget)),U&&(this.animationValues=y,zM(y,p,this.latestValues,nt,tt,Z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=nt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=he.update(()=>{Qf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gl(0)),this.currentAnimation=kM(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($M),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=u;if(!(!f||!m||!p)){if(this!==u&&this.layout&&p&&sI(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Se();const T=gn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+T;const A=gn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+A}$n(f,m),rl(f,y),fc(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new YM),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Lg("z",u,p,this.animationValues);for(let y=0;y<kg.length;y++)Lg(`rotate${kg[y]}`,u,p,this.animationValues),Lg(`skew${kg[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Kf(f?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Kf(f?.pointerEvents)||""),this.hasProjected&&!Ea(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let T=XM(this.projectionDeltaWithTransform,this.treeScale,y);m&&(T=m(y,T)),u.transform=T;const{x:A,y:I}=this.projectionDelta;u.transformOrigin=`${A.origin*100}% ${I.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const C in Rc){if(y[C]===void 0)continue;const{correct:U,applyTo:j,isCSSVariable:Z}=Rc[C],tt=T==="none"?y[C]:U(y[C],p);if(j){const Q=j.length;for(let ct=0;ct<Q;ct++)u[j[ct]]=tt}else Z?this.options.visualElement.renderState.vars[C]=tt:u[C]=tt}this.options.layoutId&&(u.pointerEvents=p===this?Kf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(ub),this.root.sharedNodes.clear()}}}function ZM(n){n.updateLayout()}function JM(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?Wn(y=>{const T=l?t.measuredBox[y]:t.layoutBox[y],A=gn(T);T.min=e[y].min,T.max=T.min+A}):sI(a,t.layoutBox,e)&&Wn(y=>{const T=l?t.measuredBox[y]:t.layoutBox[y],A=gn(e[y]);T.max=T.min+A,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+A)});const u=al();fc(u,e,t.layoutBox);const f=al();l?fc(f,n.applyTransform(i,!0),t.measuredBox):fc(f,e,t.layoutBox);const m=!tI(u);let p=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:A}=y;if(T&&A){const I=Se();dc(I,t.layoutBox,T.layoutBox);const C=Se();dc(C,e,A.layoutBox),eI(I,C)||(p=!0),y.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=I,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function tN(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function eN(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function nN(n){n.clearSnapshot()}function ub(n){n.clearMeasurements()}function cb(n){n.isLayoutDirty=!1}function iN(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function hb(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function sN(n){n.resolveTargetDelta()}function rN(n){n.calcProjection()}function aN(n){n.resetSkewAndRotation()}function oN(n){n.removeLeadSnapshot()}function fb(n,t,e){n.translate=me(t.translate,0,e),n.scale=me(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function db(n,t,e,i){n.min=me(t.min,e.min,i),n.max=me(t.max,e.max,i)}function lN(n,t,e,i){db(n.x,t.x,e.x,i),db(n.y,t.y,e.y,i)}function uN(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const cN={duration:.45,ease:[.4,0,.1,1]},mb=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),pb=mb("applewebkit/")&&!mb("chrome/")?Math.round:ei;function gb(n){n.min=pb(n.min),n.max=pb(n.max)}function hN(n){gb(n.x),gb(n.y)}function sI(n,t,e){return n==="position"||n==="preserve-aspect"&&!yM(ob(t),ob(e),.2)}function fN(n){return n!==n.root&&n.scroll?.wasRoot}const dN=iI({attachResizeListener:(n,t)=>xc(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ug={current:void 0},rI=iI({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Ug.current){const n=new dN({});n.mount(window),n.setOptions({layoutScroll:!0}),Ug.current=n}return Ug.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),mN={pan:{Feature:PM},drag:{Feature:VM,ProjectionNode:rI,MeasureLayout:W1}};function yb(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,l=i[a];l&&he.postRender(()=>l(t,Qc(t)))}class pN extends Pr{mount(){const{current:t}=this.node;t&&(this.unmount=z2(t,(e,i)=>(yb(this.node,i,"Start"),a=>yb(this.node,a,"End"))))}unmount(){}}class gN extends Pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hc(xc(this.node.current,"focus",()=>this.onFocus()),xc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _b(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),l=i[a];l&&he.postRender(()=>l(t,Qc(t)))}class yN extends Pr{mount(){const{current:t}=this.node;t&&(this.unmount=G2(t,(e,i)=>(_b(this.node,i,"Start"),(a,{success:l})=>_b(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ty=new WeakMap,Bg=new WeakMap,_N=n=>{const t=Ty.get(n.target);t&&t(n)},vN=n=>{n.forEach(_N)};function TN({root:n,...t}){const e=n||document;Bg.has(e)||Bg.set(e,{});const i=Bg.get(e),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(vN,{root:n,...t})),i[a]}function EN(n,t,e){const i=TN(t);return Ty.set(n,e),i.observe(n),()=>{Ty.delete(n),i.unobserve(n)}}const AN={some:0,all:1};class bN extends Pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:a="some",once:l}=t,u={root:e?e.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:AN[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),A=p?y:T;A&&A(m)};return EN(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(SN(t,e))&&this.startObserver()}unmount(){}}function SN({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const wN={inView:{Feature:bN},tap:{Feature:yN},focus:{Feature:gN},hover:{Feature:pN}},IN={layout:{ProjectionNode:rI,MeasureLayout:W1}},RN={...hM,...wN,...mN,...IN},vb=RP(RN,jP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),Tb=n=>{const t=CN(n);return t.charAt(0).toUpperCase()+t.slice(1)},aI=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),DN=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=gt.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...f},m)=>gt.createElement("svg",{ref:m,...VN,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:aI("lucide",a),...!l&&!DN(f)&&{"aria-hidden":"true"},...f},[...u.map(([p,y])=>gt.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=(n,t)=>{const e=gt.forwardRef(({className:i,...a},l)=>gt.createElement(PN,{ref:l,iconNode:t,className:aI(`lucide-${xN(Tb(n))}`,`lucide-${n}`,i),...a}));return e.displayName=Tb(n),e};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Eb=ii("calendar-days",MN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ON=ii("check",NN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],LN=ii("chevron-down",kN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],BN=ii("chevron-left",UN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zN=ii("chevron-right",jN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],qN=ii("copy",FN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],GN=ii("heart",HN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],QN=ii("image",KN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],XN=ii("mail",YN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ab=ii("map-pin",$N);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ZN=ii("phone",WN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tO=ii("x",JN),eO=()=>{};var bb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},nO=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],u=n[e++],f=n[e++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;t[i++]=String.fromCharCode(55296+(m>>10)),t[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[e++],u=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return t.join("")},L_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,f=u?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,y=l>>2,T=(l&3)<<4|f>>4;let A=(f&15)<<2|p>>6,I=p&63;m||(I=64,u||(A=64)),i.push(e[y],e[T],e[A],e[I])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(oI(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):nO(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],f=a<n.length?e[n.charAt(a)]:0;++a;const p=a<n.length?e[n.charAt(a)]:64;++a;const T=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||f==null||p==null||T==null)throw new iO;const A=l<<2|f>>4;if(i.push(A),p!==64){const I=f<<4&240|p>>2;if(i.push(I),T!==64){const C=p<<6&192|T;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class iO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sO=function(n){const t=oI(n);return L_.encodeByteArray(t,!0)},pd=function(n){return sO(n).replace(/\./g,"")},lI=function(n){try{return L_.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=()=>uI().__FIREBASE_DEFAULTS__,aO=()=>{if(typeof process>"u"||typeof bb>"u")return;const n=bb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},oO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&lI(n[1]);return t&&JSON.parse(t)},Hd=()=>{try{return eO()||rO()||aO()||oO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},cI=n=>Hd()?.emulatorHosts?.[n],lO=n=>{const t=cI(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},hI=()=>Hd()?.config,fI=n=>Hd()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dI(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[pd(JSON.stringify(e)),pd(JSON.stringify(u)),""].join(".")}const mc={};function cO(){const n={prod:[],emulator:[]};for(const t of Object.keys(mc))mc[t]?n.emulator.push(t):n.prod.push(t);return n}function hO(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Sb=!1;function mI(n,t){if(typeof window>"u"||typeof document>"u"||!Nl(window.location.host)||mc[n]===t||mc[n]||Sb)return;mc[n]=t;function e(A){return`__firebase__banner__${A}`}const i="__firebase__banner",l=cO().prod.length>0;function u(){const A=document.getElementById(i);A&&A.remove()}function f(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function m(A,I){A.setAttribute("width","24"),A.setAttribute("id",I),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Sb=!0,u()},A}function y(A,I){A.setAttribute("id",I),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=hO(i),I=e("text"),C=document.getElementById(I)||document.createElement("span"),U=e("learnmore"),j=document.getElementById(U)||document.createElement("a"),Z=e("preprendIcon"),tt=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Q=A.element;f(Q),y(j,U);const ct=p();m(tt,Z),Q.append(tt,C,j,ct),document.body.appendChild(Q)}l?(C.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function pI(){const n=Hd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gO(){const n=Be();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function gI(){return!pI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yI(){return!pI()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function U_(){try{return typeof indexedDB=="object"}catch{return!1}}function yO(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="FirebaseError";class xs extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=_O,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],u=l?vO(l,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new xs(a,f,i)}}function vO(n,t){return n.replace(TO,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const TO=/\{\$([^}]+)}/g;function EO(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function La(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const l=n[a],u=t[a];if(wb(l)&&wb(u)){if(!La(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function wb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function AO(n,t){const e=new bO(n,t);return e.subscribe.bind(e)}class bO{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");SO(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=jg),a.error===void 0&&(a.error=jg),a.complete===void 0&&(a.complete=jg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SO(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function jg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(n){return n&&n._delegate?n._delegate:n}class As{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new Ey;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(RO(t))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(t=Aa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Aa){return this.instances.has(t)}getOptions(t=Aa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&t(l,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:IO(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Aa){return this.component?this.component.multipleInstances?t:Aa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IO(n){return n===Aa?void 0:n}function RO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new wO(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Lt||(Lt={}));const CO={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},DO=Lt.INFO,VO={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},PO=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=VO[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Gd{constructor(t){this.name=t,this._logLevel=DO,this._logHandler=PO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?CO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const MO=(n,t)=>t.some(e=>n instanceof e);let Ib,Rb;function NO(){return Ib||(Ib=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OO(){return Rb||(Rb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _I=new WeakMap,Ay=new WeakMap,vI=new WeakMap,zg=new WeakMap,B_=new WeakMap;function kO(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{e(yr(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&_I.set(e,n)}).catch(()=>{}),B_.set(t,n),t}function LO(n){if(Ay.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{e(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});Ay.set(n,t)}let by={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Ay.get(n);if(t==="objectStoreNames")return n.objectStoreNames||vI.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return yr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function UO(n){by=n(by)}function BO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Fg(this),t,...e);return vI.set(i,t.sort?t.sort():[t]),yr(i)}:OO().includes(n)?function(...t){return n.apply(Fg(this),t),yr(_I.get(this))}:function(...t){return yr(n.apply(Fg(this),t))}}function jO(n){return typeof n=="function"?BO(n):(n instanceof IDBTransaction&&LO(n),MO(n,NO())?new Proxy(n,by):n)}function yr(n){if(n instanceof IDBRequest)return kO(n);if(zg.has(n))return zg.get(n);const t=jO(n);return t!==n&&(zg.set(n,t),B_.set(t,n)),t}const Fg=n=>B_.get(n);function zO(n,t,{blocked:e,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(n,t),f=yr(u);return i&&u.addEventListener("upgradeneeded",m=>{i(yr(u.result),m.oldVersion,m.newVersion,yr(u.transaction),m)}),e&&u.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const FO=["get","getKey","getAll","getAllKeys","count"],qO=["put","add","delete","clear"],qg=new Map;function xb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(qg.get(t))return qg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=qO.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||FO.includes(e)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[e](...f),a&&m.done]))[0]};return qg.set(t,l),l}UO(n=>({...n,get:(t,e,i)=>xb(t,e)||n.get(t,e,i),has:(t,e)=>!!xb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(GO(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function GO(n){return n.getComponent()?.type==="VERSION"}const Sy="@firebase/app",Cb="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new Gd("@firebase/app"),KO="@firebase/app-compat",QO="@firebase/analytics-compat",YO="@firebase/analytics",XO="@firebase/app-check-compat",$O="@firebase/app-check",WO="@firebase/auth",ZO="@firebase/auth-compat",JO="@firebase/database",tk="@firebase/data-connect",ek="@firebase/database-compat",nk="@firebase/functions",ik="@firebase/functions-compat",sk="@firebase/installations",rk="@firebase/installations-compat",ak="@firebase/messaging",ok="@firebase/messaging-compat",lk="@firebase/performance",uk="@firebase/performance-compat",ck="@firebase/remote-config",hk="@firebase/remote-config-compat",fk="@firebase/storage",dk="@firebase/storage-compat",mk="@firebase/firestore",pk="@firebase/ai",gk="@firebase/firestore-compat",yk="firebase",_k="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="[DEFAULT]",vk={[Sy]:"fire-core",[KO]:"fire-core-compat",[YO]:"fire-analytics",[QO]:"fire-analytics-compat",[$O]:"fire-app-check",[XO]:"fire-app-check-compat",[WO]:"fire-auth",[ZO]:"fire-auth-compat",[JO]:"fire-rtdb",[tk]:"fire-data-connect",[ek]:"fire-rtdb-compat",[nk]:"fire-fn",[ik]:"fire-fn-compat",[sk]:"fire-iid",[rk]:"fire-iid-compat",[ak]:"fire-fcm",[ok]:"fire-fcm-compat",[lk]:"fire-perf",[uk]:"fire-perf-compat",[ck]:"fire-rc",[hk]:"fire-rc-compat",[fk]:"fire-gcs",[dk]:"fire-gcs-compat",[mk]:"fire-fst",[gk]:"fire-fst-compat",[pk]:"fire-vertex","fire-js":"fire-js",[yk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new Map,Tk=new Map,Iy=new Map;function Db(n,t){try{n.container.addComponent(t)}catch(e){bs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function wr(n){const t=n.name;if(Iy.has(t))return bs.debug(`There were multiple attempts to register component ${t}.`),!1;Iy.set(t,n);for(const e of gd.values())Db(e,n);for(const e of Tk.values())Db(e,n);return!0}function j_(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function fi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new Ol("app","Firebase",Ek);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=_k;function TI(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:wy,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw _r.create("bad-app-name",{appName:String(a)});if(e||(e=hI()),!e)throw _r.create("no-options");const l=gd.get(a);if(l){if(La(e,l.options)&&La(i,l.config))return l;throw _r.create("duplicate-app",{appName:a})}const u=new xO(a);for(const m of Iy.values())u.addComponent(m);const f=new Ak(e,i,u);return gd.set(a,f),f}function EI(n=wy){const t=gd.get(n);if(!t&&n===wy&&hI())return TI();if(!t)throw _r.create("no-app",{appName:n});return t}function _s(n,t,e){let i=vk[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${t}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bs.warn(u.join(" "));return}wr(new As(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="firebase-heartbeat-database",Sk=1,Cc="firebase-heartbeat-store";let Hg=null;function AI(){return Hg||(Hg=zO(bk,Sk,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Cc)}catch(e){console.warn(e)}}}}).catch(n=>{throw _r.create("idb-open",{originalErrorMessage:n.message})})),Hg}async function wk(n){try{const e=(await AI()).transaction(Cc),i=await e.objectStore(Cc).get(bI(n));return await e.done,i}catch(t){if(t instanceof xs)bs.warn(t.message);else{const e=_r.create("idb-get",{originalErrorMessage:t?.message});bs.warn(e.message)}}}async function Vb(n,t){try{const i=(await AI()).transaction(Cc,"readwrite");await i.objectStore(Cc).put(t,bI(n)),await i.done}catch(e){if(e instanceof xs)bs.warn(e.message);else{const i=_r.create("idb-set",{originalErrorMessage:e?.message});bs.warn(i.message)}}}function bI(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=1024,Rk=30;class xk{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Dk(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Pb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>Rk){const a=Vk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){bs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Pb(),{heartbeatsToSend:e,unsentEntries:i}=Ck(this._heartbeatsCache.heartbeats),a=pd(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return bs.warn(t),""}}}function Pb(){return new Date().toISOString().substring(0,10)}function Ck(n,t=Ik){const e=[];let i=n.slice();for(const a of n){const l=e.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Mb(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),Mb(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class Dk{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U_()?yO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await wk(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Vb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Vb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Mb(n){return pd(JSON.stringify({version:2,heartbeats:n})).length}function Vk(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(n){wr(new As("platform-logger",t=>new HO(t),"PRIVATE")),wr(new As("heartbeat",t=>new xk(t),"PRIVATE")),_s(Sy,Cb,n),_s(Sy,Cb,"esm2020"),_s("fire-js","")}Pk("");var Nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vr,SI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,w){function R(){}R.prototype=w.prototype,V.D=w.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(N,O,L){for(var D=Array(arguments.length-2),we=2;we<arguments.length;we++)D[we-2]=arguments[we];return w.prototype[O].apply(N,D)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,w,R){R||(R=0);var N=Array(16);if(typeof w=="string")for(var O=0;16>O;++O)N[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;16>O;++O)N[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=V.g[0],R=V.g[1],O=V.g[2];var L=V.g[3],D=w+(L^R&(O^L))+N[0]+3614090360&4294967295;w=R+(D<<7&4294967295|D>>>25),D=L+(O^w&(R^O))+N[1]+3905402710&4294967295,L=w+(D<<12&4294967295|D>>>20),D=O+(R^L&(w^R))+N[2]+606105819&4294967295,O=L+(D<<17&4294967295|D>>>15),D=R+(w^O&(L^w))+N[3]+3250441966&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(L^R&(O^L))+N[4]+4118548399&4294967295,w=R+(D<<7&4294967295|D>>>25),D=L+(O^w&(R^O))+N[5]+1200080426&4294967295,L=w+(D<<12&4294967295|D>>>20),D=O+(R^L&(w^R))+N[6]+2821735955&4294967295,O=L+(D<<17&4294967295|D>>>15),D=R+(w^O&(L^w))+N[7]+4249261313&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(L^R&(O^L))+N[8]+1770035416&4294967295,w=R+(D<<7&4294967295|D>>>25),D=L+(O^w&(R^O))+N[9]+2336552879&4294967295,L=w+(D<<12&4294967295|D>>>20),D=O+(R^L&(w^R))+N[10]+4294925233&4294967295,O=L+(D<<17&4294967295|D>>>15),D=R+(w^O&(L^w))+N[11]+2304563134&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(L^R&(O^L))+N[12]+1804603682&4294967295,w=R+(D<<7&4294967295|D>>>25),D=L+(O^w&(R^O))+N[13]+4254626195&4294967295,L=w+(D<<12&4294967295|D>>>20),D=O+(R^L&(w^R))+N[14]+2792965006&4294967295,O=L+(D<<17&4294967295|D>>>15),D=R+(w^O&(L^w))+N[15]+1236535329&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(O^L&(R^O))+N[1]+4129170786&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^O&(w^R))+N[6]+3225465664&4294967295,L=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(L^w))+N[11]+643717713&4294967295,O=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(O^L))+N[0]+3921069994&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(O^L&(R^O))+N[5]+3593408605&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^O&(w^R))+N[10]+38016083&4294967295,L=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(L^w))+N[15]+3634488961&4294967295,O=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(O^L))+N[4]+3889429448&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(O^L&(R^O))+N[9]+568446438&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^O&(w^R))+N[14]+3275163606&4294967295,L=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(L^w))+N[3]+4107603335&4294967295,O=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(O^L))+N[8]+1163531501&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(O^L&(R^O))+N[13]+2850285829&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^O&(w^R))+N[2]+4243563512&4294967295,L=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(L^w))+N[7]+1735328473&4294967295,O=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(O^L))+N[12]+2368359562&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(R^O^L)+N[5]+4294588738&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^O)+N[8]+2272392833&4294967295,L=w+(D<<11&4294967295|D>>>21),D=O+(L^w^R)+N[11]+1839030562&4294967295,O=L+(D<<16&4294967295|D>>>16),D=R+(O^L^w)+N[14]+4259657740&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(R^O^L)+N[1]+2763975236&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^O)+N[4]+1272893353&4294967295,L=w+(D<<11&4294967295|D>>>21),D=O+(L^w^R)+N[7]+4139469664&4294967295,O=L+(D<<16&4294967295|D>>>16),D=R+(O^L^w)+N[10]+3200236656&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(R^O^L)+N[13]+681279174&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^O)+N[0]+3936430074&4294967295,L=w+(D<<11&4294967295|D>>>21),D=O+(L^w^R)+N[3]+3572445317&4294967295,O=L+(D<<16&4294967295|D>>>16),D=R+(O^L^w)+N[6]+76029189&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(R^O^L)+N[9]+3654602809&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^O)+N[12]+3873151461&4294967295,L=w+(D<<11&4294967295|D>>>21),D=O+(L^w^R)+N[15]+530742520&4294967295,O=L+(D<<16&4294967295|D>>>16),D=R+(O^L^w)+N[2]+3299628645&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(O^(R|~L))+N[0]+4096336452&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~O))+N[7]+1126891415&4294967295,L=w+(D<<10&4294967295|D>>>22),D=O+(w^(L|~R))+N[14]+2878612391&4294967295,O=L+(D<<15&4294967295|D>>>17),D=R+(L^(O|~w))+N[5]+4237533241&4294967295,R=O+(D<<21&4294967295|D>>>11),D=w+(O^(R|~L))+N[12]+1700485571&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~O))+N[3]+2399980690&4294967295,L=w+(D<<10&4294967295|D>>>22),D=O+(w^(L|~R))+N[10]+4293915773&4294967295,O=L+(D<<15&4294967295|D>>>17),D=R+(L^(O|~w))+N[1]+2240044497&4294967295,R=O+(D<<21&4294967295|D>>>11),D=w+(O^(R|~L))+N[8]+1873313359&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~O))+N[15]+4264355552&4294967295,L=w+(D<<10&4294967295|D>>>22),D=O+(w^(L|~R))+N[6]+2734768916&4294967295,O=L+(D<<15&4294967295|D>>>17),D=R+(L^(O|~w))+N[13]+1309151649&4294967295,R=O+(D<<21&4294967295|D>>>11),D=w+(O^(R|~L))+N[4]+4149444226&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~O))+N[11]+3174756917&4294967295,L=w+(D<<10&4294967295|D>>>22),D=O+(w^(L|~R))+N[2]+718787259&4294967295,O=L+(D<<15&4294967295|D>>>17),D=R+(L^(O|~w))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+O&4294967295,V.g[3]=V.g[3]+L&4294967295}i.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var R=w-this.blockSize,N=this.B,O=this.h,L=0;L<w;){if(O==0)for(;L<=R;)a(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<w;)if(N[O++]=V.charCodeAt(L++),O==this.blockSize){a(this,N),O=0;break}}else for(;L<w;)if(N[O++]=V[L++],O==this.blockSize){a(this,N),O=0;break}}this.h=O,this.o+=w},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var R=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=R&255,R/=256;for(this.u(V),V=Array(16),w=R=0;4>w;++w)for(var N=0;32>N;N+=8)V[R++]=this.g[w]>>>N&255;return V};function l(V,w){var R=f;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=w(V)}function u(V,w){this.h=w;for(var R=[],N=!0,O=V.length-1;0<=O;O--){var L=V[O]|0;N&&L==w||(R[O]=L,N=!1)}this.g=R}var f={};function m(V){return-128<=V&&128>V?l(V,function(w){return new u([w|0],0>w?-1:0)}):new u([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return T;if(0>V)return j(p(-V));for(var w=[],R=1,N=0;V>=R;N++)w[N]=V/R|0,R*=4294967296;return new u(w,0)}function y(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return j(y(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(w,8)),N=T,O=0;O<V.length;O+=8){var L=Math.min(8,V.length-O),D=parseInt(V.substring(O,O+L),w);8>L?(L=p(Math.pow(w,L)),N=N.j(L).add(p(D))):(N=N.j(R),N=N.add(p(D)))}return N}var T=m(0),A=m(1),I=m(16777216);n=u.prototype,n.m=function(){if(U(this))return-j(this).m();for(var V=0,w=1,R=0;R<this.g.length;R++){var N=this.i(R);V+=(0<=N?N:4294967296+N)*w,w*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(C(this))return"0";if(U(this))return"-"+j(this).toString(V);for(var w=p(Math.pow(V,6)),R=this,N="";;){var O=ct(R,w).g;R=Z(R,O.j(w));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=O,C(R))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function C(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function U(V){return V.h==-1}n.l=function(V){return V=Z(this,V),U(V)?-1:C(V)?0:1};function j(V){for(var w=V.g.length,R=[],N=0;N<w;N++)R[N]=~V.g[N];return new u(R,~V.h).add(A)}n.abs=function(){return U(this)?j(this):this},n.add=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],N=0,O=0;O<=w;O++){var L=N+(this.i(O)&65535)+(V.i(O)&65535),D=(L>>>16)+(this.i(O)>>>16)+(V.i(O)>>>16);N=D>>>16,L&=65535,D&=65535,R[O]=D<<16|L}return new u(R,R[R.length-1]&-2147483648?-1:0)};function Z(V,w){return V.add(j(w))}n.j=function(V){if(C(this)||C(V))return T;if(U(this))return U(V)?j(this).j(j(V)):j(j(this).j(V));if(U(V))return j(this.j(j(V)));if(0>this.l(I)&&0>V.l(I))return p(this.m()*V.m());for(var w=this.g.length+V.g.length,R=[],N=0;N<2*w;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<V.g.length;O++){var L=this.i(N)>>>16,D=this.i(N)&65535,we=V.i(O)>>>16,ae=V.i(O)&65535;R[2*N+2*O]+=D*ae,tt(R,2*N+2*O),R[2*N+2*O+1]+=L*ae,tt(R,2*N+2*O+1),R[2*N+2*O+1]+=D*we,tt(R,2*N+2*O+1),R[2*N+2*O+2]+=L*we,tt(R,2*N+2*O+2)}for(N=0;N<w;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=w;N<2*w;N++)R[N]=0;return new u(R,0)};function tt(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function Q(V,w){this.g=V,this.h=w}function ct(V,w){if(C(w))throw Error("division by zero");if(C(V))return new Q(T,T);if(U(V))return w=ct(j(V),w),new Q(j(w.g),j(w.h));if(U(w))return w=ct(V,j(w)),new Q(j(w.g),w.h);if(30<V.g.length){if(U(V)||U(w))throw Error("slowDivide_ only works with positive integers.");for(var R=A,N=w;0>=N.l(V);)R=nt(R),N=nt(N);var O=ft(R,1),L=ft(N,1);for(N=ft(N,2),R=ft(R,2);!C(N);){var D=L.add(N);0>=D.l(V)&&(O=O.add(R),L=D),N=ft(N,1),R=ft(R,1)}return w=Z(V,O.j(w)),new Q(O,w)}for(O=T;0<=V.l(w);){for(R=Math.max(1,Math.floor(V.m()/w.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=p(R),D=L.j(w);U(D)||0<D.l(V);)R-=N,L=p(R),D=L.j(w);C(L)&&(L=A),O=O.add(L),V=Z(V,D)}return new Q(O,V)}n.A=function(V){return ct(this,V).h},n.and=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)&V.i(N);return new u(R,this.h&V.h)},n.or=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)|V.i(N);return new u(R,this.h|V.h)},n.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)^V.i(N);return new u(R,this.h^V.h)};function nt(V){for(var w=V.g.length+1,R=[],N=0;N<w;N++)R[N]=V.i(N)<<1|V.i(N-1)>>>31;return new u(R,V.h)}function ft(V,w){var R=w>>5;w%=32;for(var N=V.g.length-R,O=[],L=0;L<N;L++)O[L]=0<w?V.i(L+R)>>>w|V.i(L+R+1)<<32-w:V.i(L+R);return new u(O,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,SI=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,vr=u}).apply(typeof Nb<"u"?Nb:typeof self<"u"?self:typeof window<"u"?window:{});var Nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wI,sc,II,Yf,Ry,RI,xI,CI;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,v){return h==Array.prototype||h==Object.prototype||(h[_]=v.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nf=="object"&&Nf];for(var _=0;_<h.length;++_){var v=h[_];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=e(this);function a(h,_){if(_)t:{var v=i;h=h.split(".");for(var S=0;S<h.length-1;S++){var B=h[S];if(!(B in v))break t;v=v[B]}h=h[h.length-1],S=v[h],_=_(S),_!=S&&_!=null&&t(v,h,{configurable:!0,writable:!0,value:_})}}function l(h,_){h instanceof String&&(h+="");var v=0,S=!1,B={next:function(){if(!S&&v<h.length){var K=v++;return{value:_(K,h[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}a("Array.prototype.values",function(h){return h||function(){return l(this,function(_,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function p(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function y(h,_,v){return h.call.apply(h.bind,arguments)}function T(h,_,v){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),h.apply(_,B)}}return function(){return h.apply(_,arguments)}}function A(h,_,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:T,A.apply(null,arguments)}function I(h,_){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function C(h,_){function v(){}v.prototype=_.prototype,h.aa=_.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(S,B,K){for(var lt=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)lt[Bt-2]=arguments[Bt];return _.prototype[B].apply(S,lt)}}function U(h){const _=h.length;if(0<_){const v=Array(_);for(let S=0;S<_;S++)v[S]=h[S];return v}return[]}function j(h,_){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(m(S)){const B=h.length||0,K=S.length||0;h.length=B+K;for(let lt=0;lt<K;lt++)h[B+lt]=S[lt]}else h.push(S)}}class Z{constructor(_,v){this.i=_,this.j=v,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function tt(h){return/^[\s\xa0]*$/.test(h)}function Q(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function ct(h){return ct[" "](h),h}ct[" "]=function(){};var nt=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ft(h,_,v){for(const S in h)_.call(v,h[S],S,h)}function V(h,_){for(const v in h)_.call(void 0,h[v],v,h)}function w(h){const _={};for(const v in h)_[v]=h[v];return _}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,_){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)h[v]=S[v];for(let K=0;K<R.length;K++)v=R[K],Object.prototype.hasOwnProperty.call(S,v)&&(h[v]=S[v])}}function O(h){var _=1;h=h.split(":");const v=[];for(;0<_&&h.length;)v.push(h.shift()),_--;return h.length&&v.push(h.join(":")),v}function L(h){f.setTimeout(()=>{throw h},0)}function D(){var h=Dt;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class we{constructor(){this.h=this.g=null}add(_,v){const S=ae.get();S.set(_,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ae=new Z(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(_,v){this.h=_,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let st,dt=!1,Dt=new we,P=()=>{const h=f.Promise.resolve(void 0);st=()=>{h.then(it)}};var it=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(v){L(v)}var _=ae;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}dt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var Tt=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};f.addEventListener("test",v,_),f.removeEventListener("test",v,_)}catch{}return h})();function Mt(h,_){if(at.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(nt){t:{try{ct(_.nodeName);var B=!0;break t}catch{}B=!1}B||(_=null)}}else v=="mouseover"?_=h.fromElement:v=="mouseout"&&(_=h.toElement);this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:It[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Mt.aa.h.call(this)}}C(Mt,at);var It={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),se=0;function pi(h,_,v,S,B){this.listener=h,this.proxy=null,this.src=_,this.type=v,this.capture=!!S,this.ha=B,this.key=++se,this.da=this.fa=!1}function Vs(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function qi(h){this.src=h,this.g={},this.h=0}qi.prototype.add=function(h,_,v,S,B){var K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);var lt=kr(h,_,S,B);return-1<lt?(_=h[lt],v||(_.fa=!1)):(_=new pi(_,this.src,K,!!S,B),_.fa=v,h.push(_)),_};function Or(h,_){var v=_.type;if(v in h.g){var S=h.g[v],B=Array.prototype.indexOf.call(S,_,void 0),K;(K=0<=B)&&Array.prototype.splice.call(S,B,1),K&&(Vs(_),h.g[v].length==0&&(delete h.g[v],h.h--))}}function kr(h,_,v,S){for(var B=0;B<h.length;++B){var K=h[B];if(!K.da&&K.listener==_&&K.capture==!!v&&K.ha==S)return B}return-1}var Lr="closure_lm_"+(1e6*Math.random()|0),zl={};function ah(h,_,v,S,B){if(Array.isArray(_)){for(var K=0;K<_.length;K++)ah(h,_[K],v,S,B);return null}return v=oh(v),h&&h[ze]?h.K(_,v,p(S)?!!S.capture:!1,B):Ln(h,_,v,!1,S,B)}function Ln(h,_,v,S,B,K){if(!_)throw Error("Invalid event type");var lt=p(B)?!!B.capture:!!B,Bt=Ja(h);if(Bt||(h[Lr]=Bt=new qi(h)),v=Bt.add(_,v,S,lt,K),v.proxy)return v;if(S=vm(),v.proxy=S,S.src=h,S.listener=v,h.addEventListener)Tt||(B=lt),B===void 0&&(B=!1),h.addEventListener(_.toString(),S,B);else if(h.attachEvent)h.attachEvent(Ur(_.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function vm(){function h(v){return _.call(h.src,h.listener,v)}const _=Tm;return h}function Fl(h,_,v,S,B){if(Array.isArray(_))for(var K=0;K<_.length;K++)Fl(h,_[K],v,S,B);else S=p(S)?!!S.capture:!!S,v=oh(v),h&&h[ze]?(h=h.i,_=String(_).toString(),_ in h.g&&(K=h.g[_],v=kr(K,v,S,B),-1<v&&(Vs(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete h.g[_],h.h--)))):h&&(h=Ja(h))&&(_=h.g[_.toString()],h=-1,_&&(h=kr(_,v,S,B)),(v=-1<h?_[h]:null)&&Za(v))}function Za(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ze])Or(_.i,h);else{var v=h.type,S=h.proxy;_.removeEventListener?_.removeEventListener(v,S,h.capture):_.detachEvent?_.detachEvent(Ur(v),S):_.addListener&&_.removeListener&&_.removeListener(S),(v=Ja(_))?(Or(v,h),v.h==0&&(v.src=null,_[Lr]=null)):Vs(h)}}}function Ur(h){return h in zl?zl[h]:zl[h]="on"+h}function Tm(h,_){if(h.da)h=!0;else{_=new Mt(_,this);var v=h.listener,S=h.ha||h.src;h.fa&&Za(h),h=v.call(S,_)}return h}function Ja(h){return h=h[Lr],h instanceof qi?h:null}var ql="__closure_events_fn_"+(1e9*Math.random()>>>0);function oh(h){return typeof h=="function"?h:(h[ql]||(h[ql]=function(_){return h.handleEvent(_)}),h[ql])}function ge(){ht.call(this),this.i=new qi(this),this.M=this,this.F=null}C(ge,ht),ge.prototype[ze]=!0,ge.prototype.removeEventListener=function(h,_,v,S){Fl(this,h,_,v,S)};function Qt(h,_){var v,S=h.F;if(S)for(v=[];S;S=S.F)v.push(S);if(h=h.M,S=_.type||_,typeof _=="string")_=new at(_,h);else if(_ instanceof at)_.target=_.target||h;else{var B=_;_=new at(S,h),N(_,B)}if(B=!0,v)for(var K=v.length-1;0<=K;K--){var lt=_.g=v[K];B=Sn(lt,S,!0,_)&&B}if(lt=_.g=h,B=Sn(lt,S,!0,_)&&B,B=Sn(lt,S,!1,_)&&B,v)for(K=0;K<v.length;K++)lt=_.g=v[K],B=Sn(lt,S,!1,_)&&B}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var v=h.g[_],S=0;S<v.length;S++)Vs(v[S]);delete h.g[_],h.h--}}this.F=null},ge.prototype.K=function(h,_,v,S){return this.i.add(String(h),_,!1,v,S)},ge.prototype.L=function(h,_,v,S){return this.i.add(String(h),_,!0,v,S)};function Sn(h,_,v,S){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var B=!0,K=0;K<_.length;++K){var lt=_[K];if(lt&&!lt.da&&lt.capture==v){var Bt=lt.listener,Oe=lt.ha||lt.src;lt.fa&&Or(h.i,lt),B=Bt.call(Oe,S)!==!1&&B}}return B&&!S.defaultPrevented}function sn(h,_,v){if(typeof h=="function")v&&(h=A(h,v));else if(h&&typeof h.handleEvent=="function")h=A(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:f.setTimeout(h,_||0)}function lh(h){h.g=sn(()=>{h.g=null,h.i&&(h.i=!1,lh(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Em extends ht{constructor(_,v){super(),this.m=_,this.l=v,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:lh(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Br(h){ht.call(this),this.h=h,this.g={}}C(Br,ht);var jr=[];function zr(h){ft(h.g,function(_,v){this.g.hasOwnProperty(v)&&Za(_)},h),h.g={}}Br.prototype.N=function(){Br.aa.N.call(this),zr(this)},Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var si=f.JSON.stringify,to=f.JSON.parse,Fr=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function Hl(){}Hl.prototype.h=null;function Gl(h){return h.h||(h.h=h.i())}function Kl(){}var Hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gi(){at.call(this,"d")}C(Gi,at);function Ql(){at.call(this,"c")}C(Ql,at);var gi={},Yl=null;function Ps(){return Yl=Yl||new ge}gi.La="serverreachability";function eo(h){at.call(this,gi.La,h)}C(eo,at);function Ms(h){const _=Ps();Qt(_,new eo(_))}gi.STAT_EVENT="statevent";function uh(h,_){at.call(this,gi.STAT_EVENT,h),this.stat=_}C(uh,at);function le(h){const _=Ps();Qt(_,new uh(_,h))}gi.Ma="timingevent";function Ne(h,_){at.call(this,gi.Ma,h),this.size=_}C(Ne,at);function Ie(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},_)}function Un(){this.g=!0}Un.prototype.xa=function(){this.g=!1};function Xl(h,_,v,S,B,K){h.info(function(){if(h.g)if(K)for(var lt="",Bt=K.split("&"),Oe=0;Oe<Bt.length;Oe++){var jt=Bt[Oe].split("=");if(1<jt.length){var qe=jt[0];jt=jt[1];var ke=qe.split("_");lt=2<=ke.length&&ke[1]=="type"?lt+(qe+"="+jt+"&"):lt+(qe+"=redacted&")}}else lt=null;else lt=K;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+_+`
`+v+`
`+lt})}function Am(h,_,v,S,B,K,lt){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+_+`
`+v+`
`+K+" "+lt})}function Ns(h,_,v,S){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+qr(h,v)+(S?" "+S:"")})}function ch(h,_){h.info(function(){return"TIMEOUT: "+_})}Un.prototype.info=function(){};function qr(h,_){if(!h.g)return _;if(!_)return null;try{var v=JSON.parse(_);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var S=v[h];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var lt=1;lt<B.length;lt++)B[lt]=""}}}}return si(v)}catch{return _}}var Os={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yi;function _i(){}C(_i,Hl),_i.prototype.g=function(){return new XMLHttpRequest},_i.prototype.i=function(){return{}},yi=new _i;function hn(h,_,v,S){this.j=h,this.i=_,this.l=v,this.R=S||1,this.U=new Br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ee}function Ee(){this.i=null,this.g="",this.h=!1}var $l={},no={};function ri(h,_,v){h.L=1,h.v=Yr(wn(_)),h.m=v,h.P=!0,Qi(h,null)}function Qi(h,_){h.F=Date.now(),Hr(h),h.A=wn(h.v);var v=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),nu(v.i,"t",S),h.C=0,v=h.j.J,h.h=new Ee,h.g=Ih(h.j,v?_:null,!h.m),0<h.O&&(h.M=new Em(A(h.Y,h,h.g),h.O)),_=h.U,v=h.g,S=h.ca;var B="readystatechange";Array.isArray(B)||(B&&(jr[0]=B.toString()),B=jr);for(var K=0;K<B.length;K++){var lt=ah(v,B[K],S||_.handleEvent,!1,_.h||_);if(!lt)break;_.g[lt.key]=lt}_=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),Ms(),Xl(h.i,h.u,h.A,h.l,h.R,h.m)}hn.prototype.ca=function(h){h=h.target;const _=this.M;_&&Fn(h)==3?_.j():this.Y(h)},hn.prototype.Y=function(h){try{if(h==this.g)t:{const ke=Fn(this.g);var _=this.g.Ba();const es=this.g.Z();if(!(3>ke)&&(ke!=3||this.g&&(this.h.h||this.g.oa()||_h(this.g)))){this.J||ke!=4||_==7||(_==8||0>=es?Ms(3):Ms(2)),ks(this);var v=this.g.Z();this.X=v;e:if(hh(this)){var S=_h(this.g);h="";var B=S.length,K=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xe(this),vi(this);var lt="";break e}this.h.i=new f.TextDecoder}for(_=0;_<B;_++)this.h.h=!0,h+=this.h.i.decode(S[_],{stream:!(K&&_==B-1)});S.length=0,this.h.g+=h,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=v==200,Am(this.i,this.u,this.A,this.l,this.R,ke,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Bt,Oe=this.g;if((Bt=Oe.g?Oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(Bt)){var jt=Bt;break e}}jt=null}if(v=jt)Ns(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gr(this,v);else{this.o=!1,this.s=3,le(12),Xe(this),vi(this);break t}}if(this.P){v=!0;let $e;for(;!this.J&&this.C<lt.length;)if($e=fh(this,lt),$e==no){ke==4&&(this.s=4,le(14),v=!1),Ns(this.i,this.l,null,"[Incomplete Response]");break}else if($e==$l){this.s=4,le(15),Ns(this.i,this.l,lt,"[Invalid Chunk]"),v=!1;break}else Ns(this.i,this.l,$e,null),Gr(this,$e);if(hh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||lt.length!=0||this.h.h||(this.s=1,le(16),v=!1),this.o=this.o&&v,!v)Ns(this.i,this.l,lt,"[Invalid Chunked Response]"),Xe(this),vi(this);else if(0<lt.length&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.ba&&!qe.M&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),na(qe),qe.M=!0,le(11))}}else Ns(this.i,this.l,lt,null),Gr(this,lt);ke==4&&Xe(this),this.o&&!this.J&&(ke==4?bh(this.j,this):(this.o=!1,Hr(this)))}else Rm(this.g),v==400&&0<lt.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),Xe(this),vi(this)}}}catch{}finally{}};function hh(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function fh(h,_){var v=h.C,S=_.indexOf(`
`,v);return S==-1?no:(v=Number(_.substring(v,S)),isNaN(v)?$l:(S+=1,S+v>_.length?no:(_=_.slice(S,S+v),h.C=S+v,_)))}hn.prototype.cancel=function(){this.J=!0,Xe(this)};function Hr(h){h.S=Date.now()+h.I,dh(h,h.I)}function dh(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ie(A(h.ba,h),_)}function ks(h){h.B&&(f.clearTimeout(h.B),h.B=null)}hn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ch(this.i,this.A),this.L!=2&&(Ms(),le(17)),Xe(this),this.s=2,vi(this)):dh(this,this.S-h)};function vi(h){h.j.G==0||h.J||bh(h.j,h)}function Xe(h){ks(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,zr(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function Gr(h,_){try{var v=h.j;if(v.G!=0&&(v.g==h||Wl(v.h,h))){if(!h.K&&Wl(v.h,h)&&v.G==3){try{var S=v.Da.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)po(v),fo(v);else break t;ou(v),le(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ie(A(v.Za,v),6e3));if(1>=so(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ts(v,11)}else if((h.K||v.g==h)&&po(v),!tt(_))for(B=v.Da.g.parse(_),_=0;_<B.length;_++){let jt=B[_];if(v.T=jt[0],jt=jt[1],v.G==2)if(jt[0]=="c"){v.K=jt[1],v.ia=jt[2];const qe=jt[3];qe!=null&&(v.la=qe,v.j.info("VER="+v.la));const ke=jt[4];ke!=null&&(v.Aa=ke,v.j.info("SVER="+v.Aa));const es=jt[5];es!=null&&typeof es=="number"&&0<es&&(S=1.5*es,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const $e=h.g;if($e){const Ii=$e.g?$e.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var K=S.h;K.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ro(K,K.h),K.h=null))}if(S.D){const uu=$e.g?$e.g.getResponseHeader("X-HTTP-Session-Id"):null;uu&&(S.ya=uu,Jt(S.I,S.D,uu))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var lt=h;if(S.qa=wh(S,S.J?S.ia:null,S.W),lt.K){fn(S.h,lt);var Bt=lt,Oe=S.L;Oe&&(Bt.I=Oe),Bt.B&&(ks(Bt),Hr(Bt)),S.g=lt}else Eh(S);0<v.i.length&&mo(v)}else jt[0]!="stop"&&jt[0]!="close"||ts(v,7);else v.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?ts(v,7):ru(v):jt[0]!="noop"&&v.l&&v.l.ta(jt),v.v=0)}}Ms(4)}catch{}}var mh=class{constructor(h,_){this.g=h,this.map=_}};function Yi(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function io(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function so(h){return h.h?1:h.g?h.g.size:0}function Wl(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function ro(h,_){h.g?h.g.add(_):h.h=_}function fn(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Yi.prototype.cancel=function(){if(this.i=Zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Zl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const v of h.g.values())_=_.concat(v.D);return _}return U(h.i)}function bm(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var _=[],v=h.length,S=0;S<v;S++)_.push(h[S]);return _}_=[],v=0;for(S in h)_[v++]=h[S];return _}function ao(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var _=[];h=h.length;for(var v=0;v<h;v++)_.push(v);return _}_=[],v=0;for(const S in h)_[v++]=S;return _}}}function Jl(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var v=ao(h),S=bm(h),B=S.length,K=0;K<B;K++)_.call(void 0,S[K],v&&v[K],h)}var Kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sm(h,_){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var S=h[v].indexOf("="),B=null;if(0<=S){var K=h[v].substring(0,S);B=h[v].substring(S+1)}else K=h[v];_(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Re(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Re){this.h=h.h,Qr(this,h.j),this.o=h.o,this.g=h.g,Ls(this,h.s),this.l=h.l;var _=h.i,v=new $i;v.i=_.i,_.g&&(v.g=new Map(_.g),v.h=_.h),Xi(this,v),this.m=h.m}else h&&(_=String(h).match(Kr))?(this.h=!1,Qr(this,_[1]||"",!0),this.o=Bn(_[2]||""),this.g=Bn(_[3]||"",!0),Ls(this,_[4]),this.l=Bn(_[5]||"",!0),Xi(this,_[6]||"",!0),this.m=Bn(_[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}Re.prototype.toString=function(){var h=[],_=this.j;_&&h.push(Xr(_,tu,!0),":");var v=this.g;return(v||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Xr(_,tu,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Xr(v,v.charAt(0)=="/"?wm:eu,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Xr(v,oo)),h.join("")};function wn(h){return new Re(h)}function Qr(h,_,v){h.j=v?Bn(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Ls(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function Xi(h,_,v){_ instanceof $i?(h.i=_,gh(h.i,h.h)):(v||(_=Xr(_,Im)),h.i=new $i(_,h.h))}function Jt(h,_,v){h.i.set(_,v)}function Yr(h){return Jt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Bn(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Xr(h,_,v){return typeof h=="string"?(h=encodeURI(h).replace(_,ph),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ph(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var tu=/[#\/\?@]/g,eu=/[#\?:]/g,wm=/[#\?]/g,Im=/[#\?@]/g,oo=/#/g;function $i(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function jn(h){h.g||(h.g=new Map,h.h=0,h.i&&Sm(h.i,function(_,v){h.add(decodeURIComponent(_.replace(/\+/g," ")),v)}))}n=$i.prototype,n.add=function(h,_){jn(this),this.i=null,h=Ti(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(_),this.h+=1,this};function Wi(h,_){jn(h),_=Ti(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Zi(h,_){return jn(h),_=Ti(h,_),h.g.has(_)}n.forEach=function(h,_){jn(this),this.g.forEach(function(v,S){v.forEach(function(B){h.call(_,B,S,this)},this)},this)},n.na=function(){jn(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),v=[];for(let S=0;S<_.length;S++){const B=h[S];for(let K=0;K<B.length;K++)v.push(_[S])}return v},n.V=function(h){jn(this);let _=[];if(typeof h=="string")Zi(this,h)&&(_=_.concat(this.g.get(Ti(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)_=_.concat(h[v])}return _},n.set=function(h,_){return jn(this),this.i=null,h=Ti(this,h),Zi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function nu(h,_,v){Wi(h,_),0<v.length&&(h.i=null,h.g.set(Ti(h,_),U(v)),h.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var v=0;v<_.length;v++){var S=_[v];const K=encodeURIComponent(String(S)),lt=this.V(S);for(S=0;S<lt.length;S++){var B=K;lt[S]!==""&&(B+="="+encodeURIComponent(String(lt[S]))),h.push(B)}}return this.i=h.join("&")};function Ti(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function gh(h,_){_&&!h.j&&(jn(h),h.i=null,h.g.forEach(function(v,S){var B=S.toLowerCase();S!=B&&(Wi(this,S),nu(this,B,v))},h)),h.j=_}function $r(h,_){const v=new Un;if(f.Image){const S=new Image;S.onload=I(zn,v,"TestLoadImage: loaded",!0,_,S),S.onerror=I(zn,v,"TestLoadImage: error",!1,_,S),S.onabort=I(zn,v,"TestLoadImage: abort",!1,_,S),S.ontimeout=I(zn,v,"TestLoadImage: timeout",!1,_,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else _(!1)}function ai(h,_){const v=new Un,S=new AbortController,B=setTimeout(()=>{S.abort(),zn(v,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:S.signal}).then(K=>{clearTimeout(B),K.ok?zn(v,"TestPingServer: ok",!0,_):zn(v,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),zn(v,"TestPingServer: error",!1,_)})}function zn(h,_,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function Wr(){this.g=new Fr}function Ei(h,_,v){const S=v||"";try{Jl(h,function(B,K){let lt=B;p(B)&&(lt=si(B)),_.push(S+K+"="+encodeURIComponent(lt))})}catch(B){throw _.push(S+"type="+encodeURIComponent("_badmap")),B}}function Us(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Us,Hl),Us.prototype.g=function(){return new Ji(this.l,this.j)},Us.prototype.i=(function(h){return function(){return h}})({});function Ji(h,_){ge.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ji,ge),n=Ji.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,bi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||f).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ai(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function iu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Ai(this):bi(this),this.readyState==3&&iu(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Ai(this))},n.Qa=function(h){this.g&&(this.response=h,Ai(this))},n.ga=function(){this.g&&Ai(this)};function Ai(h){h.readyState=4,h.l=null,h.j=null,h.v=null,bi(h)}n.setRequestHeader=function(h,_){this.u.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var v=_.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=_.next();return h.join(`\r
`)};function bi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function su(h){let _="";return ft(h,function(v,S){_+=S,_+=":",_+=v,_+=`\r
`}),_}function Fe(h,_,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=su(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):Jt(h,_,v))}function Kt(h){ge.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Kt,ge);var lo=/^https?$/i,Zr=["POST","PUT"];n=Kt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,_,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yi.g(),this.v=this.o?Gl(this.o):Gl(yi),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(K){yh(this,K);return}if(h=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())v.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),B=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Zr,_,void 0))||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,lt]of v)this.g.setRequestHeader(K,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jr(this),this.u=!0,this.g.send(h),this.u=!1}catch(K){yh(this,K)}};function yh(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,uo(h),Si(h)}function uo(h){h.A||(h.A=!0,Qt(h,"complete"),Qt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Qt(this,"complete"),Qt(this,"abort"),Si(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),Kt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?co(this):this.bb())},n.bb=function(){co(this)};function co(h){if(h.h&&typeof u<"u"&&(!h.v[1]||Fn(h)!=4||h.Z()!=2)){if(h.u&&Fn(h)==4)sn(h.Ea,0,h);else if(Qt(h,"readystatechange"),Fn(h)==4){h.h=!1;try{const lt=h.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var v;if(!(v=_)){var S;if(S=lt===0){var B=String(h.D).match(Kr)[1]||null;!B&&f.self&&f.self.location&&(B=f.self.location.protocol.slice(0,-1)),S=!lo.test(B?B.toLowerCase():"")}v=S}if(v)Qt(h,"complete"),Qt(h,"success");else{h.m=6;try{var K=2<Fn(h)?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.Z()+"]",uo(h)}}finally{Si(h)}}}}function Si(h,_){if(h.g){Jr(h);const v=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||Qt(h,"ready");try{v.onreadystatechange=S}catch{}}}function Jr(h){h.I&&(f.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Fn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),to(_)}};function _h(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Rm(h){const _={};h=(h.g&&2<=Fn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(tt(h[S]))continue;var v=O(h[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=_[B]||[];_[B]=K,K.push(v)}V(_,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(h,_,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||_}function ho(h){this.Aa=0,this.i=[],this.j=new Un,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,h),this.cb=ta("retryDelaySeedMs",1e4,h),this.Wa=ta("forwardChannelMaxRetries",2,h),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Yi(h&&h.concurrentRequestLimit),this.Da=new Wr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ho.prototype,n.la=8,n.G=1,n.connect=function(h,_,v,S){le(0),this.W=h,this.H=_||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=wh(this,null,this.W),mo(this)};function ru(h){if(vh(h),h.G==3){var _=h.U++,v=wn(h.I);if(Jt(v,"SID",h.K),Jt(v,"RID",_),Jt(v,"TYPE","terminate"),ea(h,v),_=new hn(h,h.j,_),_.L=2,_.v=Yr(wn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(_.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=_.v,v=!0),v||(_.g=Ih(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Hr(_)}Sh(h)}function fo(h){h.g&&(na(h),h.g.cancel(),h.g=null)}function vh(h){fo(h),h.u&&(f.clearTimeout(h.u),h.u=null),po(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function mo(h){if(!io(h.h)&&!h.s){h.s=!0;var _=h.Ga;st||P(),dt||(st(),dt=!0),Dt.add(_,h),h.B=0}}function xm(h,_){return so(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ie(A(h.Ga,h,_),lu(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const B=new hn(this,this.j,h);let K=this.o;if(this.S&&(K?(K=w(K),N(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)t:{for(var _=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(_+=S,4096<_){_=v;break t}if(_===4096||v===this.i.length-1){_=v+1;break t}}_=1e3}else _=1e3;_=Th(this,B,_),v=wn(this.I),Jt(v,"RID",h),Jt(v,"CVER",22),this.D&&Jt(v,"X-HTTP-Session-Id",this.D),ea(this,v),K&&(this.O?_="headers="+encodeURIComponent(String(su(K)))+"&"+_:this.m&&Fe(v,this.m,K)),ro(this.h,B),this.Ua&&Jt(v,"TYPE","init"),this.P?(Jt(v,"$req",_),Jt(v,"SID","null"),B.T=!0,ri(B,v,null)):ri(B,v,_),this.G=2}}else this.G==3&&(h?au(this,h):this.i.length==0||io(this.h)||au(this))};function au(h,_){var v;_?v=_.l:v=h.U++;const S=wn(h.I);Jt(S,"SID",h.K),Jt(S,"RID",v),Jt(S,"AID",h.T),ea(h,S),h.m&&h.o&&Fe(S,h.m,h.o),v=new hn(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),_&&(h.i=_.D.concat(h.i)),_=Th(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ro(h.h,v),ri(v,S,_)}function ea(h,_){h.H&&ft(h.H,function(v,S){Jt(_,S,v)}),h.l&&Jl({},function(v,S){Jt(_,S,v)})}function Th(h,_,v){v=Math.min(h.i.length,v);var S=h.l?A(h.l.Na,h.l,h):null;t:{var B=h.i;let K=-1;for(;;){const lt=["count="+v];K==-1?0<v?(K=B[0].g,lt.push("ofs="+K)):K=0:lt.push("ofs="+K);let Bt=!0;for(let Oe=0;Oe<v;Oe++){let jt=B[Oe].g;const qe=B[Oe].map;if(jt-=K,0>jt)K=Math.max(0,B[Oe].g-100),Bt=!1;else try{Ei(qe,lt,"req"+jt+"_")}catch{S&&S(qe)}}if(Bt){S=lt.join("&");break t}}}return h=h.i.splice(0,v),_.D=h,S}function Eh(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;st||P(),dt||(st(),dt=!0),Dt.add(_,h),h.v=0}}function ou(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ie(A(h.Fa,h),lu(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Ah(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ie(A(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),fo(this),Ah(this))};function na(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Ah(h){h.g=new hn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=wn(h.qa);Jt(_,"RID","rpc"),Jt(_,"SID",h.K),Jt(_,"AID",h.T),Jt(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&Jt(_,"TO",h.ja),Jt(_,"TYPE","xmlhttp"),ea(h,_),h.m&&h.o&&Fe(_,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=Yr(wn(_)),v.m=null,v.P=!0,Qi(v,h)}n.Za=function(){this.C!=null&&(this.C=null,fo(this),ou(this),le(19))};function po(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function bh(h,_){var v=null;if(h.g==_){po(h),na(h),h.g=null;var S=2}else if(Wl(h.h,_))v=_.D,fn(h.h,_),S=1;else return;if(h.G!=0){if(_.o)if(S==1){v=_.m?_.m.length:0,_=Date.now()-_.F;var B=h.B;S=Ps(),Qt(S,new Ne(S,v)),mo(h)}else Eh(h);else if(B=_.s,B==3||B==0&&0<_.X||!(S==1&&xm(h,_)||S==2&&ou(h)))switch(v&&0<v.length&&(_=h.h,_.i=_.i.concat(v)),B){case 1:ts(h,5);break;case 4:ts(h,10);break;case 3:ts(h,6);break;default:ts(h,2)}}}function lu(h,_){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*_}function ts(h,_){if(h.j.info("Error code "+_),_==2){var v=A(h.fb,h),S=h.Xa;const B=!S;S=new Re(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Qr(S,"https"),Yr(S),B?$r(S.toString(),v):ai(S.toString(),v)}else le(2);h.G=0,h.l&&h.l.sa(_),Sh(h),vh(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function Sh(h){if(h.G=0,h.ka=[],h.l){const _=Zl(h.h);(_.length!=0||h.i.length!=0)&&(j(h.ka,_),j(h.ka,h.i),h.h.i.length=0,U(h.i),h.i.length=0),h.l.ra()}}function wh(h,_,v){var S=v instanceof Re?wn(v):new Re(v);if(S.g!="")_&&(S.g=_+"."+S.g),Ls(S,S.s);else{var B=f.location;S=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;var K=new Re(null);S&&Qr(K,S),_&&(K.g=_),B&&Ls(K,B),v&&(K.l=v),S=K}return v=h.D,_=h.ya,v&&_&&Jt(S,v,_),Jt(S,"VER",h.la),ea(h,S),S}function Ih(h,_,v){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new Kt(new Us({eb:v})):new Kt(h.pa),_.Ha(h.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rh(){}n=Rh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function go(){}go.prototype.g=function(h,_){return new dn(h,_)};function dn(h,_){ge.call(this),this.g=new ho(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!tt(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!tt(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new wi(this)}C(dn,ge),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){ru(this.g)},dn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=si(h),h=v);_.i.push(new mh(_.Ya++,h)),_.G==3&&mo(_)},dn.prototype.N=function(){this.g.l=null,delete this.j,ru(this.g),delete this.g,dn.aa.N.call(this)};function xh(h){Gi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){t:{for(const v in _){h=v;break t}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}C(xh,Gi);function Ch(){Ql.call(this),this.status=1}C(Ch,Ql);function wi(h){this.g=h}C(wi,Rh),wi.prototype.ua=function(){Qt(this.g,"a")},wi.prototype.ta=function(h){Qt(this.g,new xh(h))},wi.prototype.sa=function(h){Qt(this.g,new Ch)},wi.prototype.ra=function(){Qt(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,CI=function(){return new go},xI=function(){return Ps()},RI=gi,Ry={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,Yf=Os,Ki.COMPLETE="complete",II=Ki,Kl.EventType=Hi,Hi.OPEN="a",Hi.CLOSE="b",Hi.ERROR="c",Hi.MESSAGE="d",ge.prototype.listen=ge.prototype.K,sc=Kl,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,wI=Kt}).apply(typeof Nf<"u"?Nf:typeof self<"u"?self:typeof window<"u"?window:{});const Ob="@firebase/firestore",kb="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new Gd("@firebase/firestore");function Wo(){return Ua.logLevel}function rt(n,...t){if(Ua.logLevel<=Lt.DEBUG){const e=t.map(z_);Ua.debug(`Firestore (${Ll}): ${n}`,...e)}}function pn(n,...t){if(Ua.logLevel<=Lt.ERROR){const e=t.map(z_);Ua.error(`Firestore (${Ll}): ${n}`,...e)}}function Ba(n,...t){if(Ua.logLevel<=Lt.WARN){const e=t.map(z_);Ua.warn(`Firestore (${Ll}): ${n}`,...e)}}function z_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,DI(n,i,e)}function DI(n,t,e){let i=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw pn(i),new Error(i)}function yt(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||DI(t,a,i)}function xt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends xs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Mk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(en.UNAUTHENTICATED)))}shutdown(){}}class Nk{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Ok{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){yt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,e(m)):Promise.resolve();let l=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new vs,t.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new vs)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(yt(typeof i.accessToken=="string",31837,{l:i}),new VI(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return yt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class kk{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Lk{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new kk(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Lb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uk{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){yt(this.o===void 0,3512);const i=l=>{l.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,rt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>i(l)))};const a=l=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Lb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(yt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Lb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Bk(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<e&&(i+=t.charAt(a[l]%62))}return i}}function Rt(n,t){return n<t?-1:n>t?1:0}function xy(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),l=t.charAt(i);if(a!==l)return Gg(a)===Gg(l)?Rt(a,l):Gg(a)?1:-1}return Rt(n.length,t.length)}const jk=55296,zk=57343;function Gg(n){const t=n.charCodeAt(0);return t>=jk&&t<=zk}function _l(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}function PI(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="__name__";class Pi{constructor(t,e,i){e===void 0?e=0:e>t.length&&pt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&pt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Pi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Pi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const l=Pi.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return Rt(t.length,e.length)}static compareSegments(t,e){const i=Pi.isNumericId(t),a=Pi.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?Pi.extractNumericId(t).compare(Pi.extractNumericId(e)):xy(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return vr.fromString(t.substring(4,t.length-2))}}class Ht extends Pi{construct(t,e,i){return new Ht(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ot(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new Ht(e)}static emptyPath(){return new Ht([])}}const Fk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pe extends Pi{construct(t,e,i){return new pe(t,e,i)}static isValidIdentifier(t){return Fk.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ub}static keyField(){return new pe([Ub])}static fromServerFormat(t){const e=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ot(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new ot(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ot(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(i+=f,a++):(l(),a++)}if(l(),u)throw new ot(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new pe(e)}static emptyPath(){return new pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.path=t}static fromPath(t){return new ut(Ht.fromString(t))}static fromName(t){return new ut(Ht.fromString(t).popFirst(5))}static empty(){return new ut(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ht.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ht.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new Ht(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(n,t,e){if(!e)throw new ot(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function qk(n,t,e,i){if(t===!0&&i===!0)throw new ot(Y.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Bb(n){if(!ut.isDocumentKey(n))throw new ot(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jb(n){if(ut.isDocumentKey(n))throw new ot(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function NI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Kd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":pt(12329,{type:typeof n})}function Dc(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ot(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Kd(n);throw new ot(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Hk(n,t){if(t<=0)throw new ot(Y.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n,t){const e={typeString:n};return t&&(e.value=t),e}function Xc(n,t){if(!NI(n))throw new ot(Y.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,l="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const u=n[i];if(a&&typeof u!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){e=`Expected '${i}' field to equal '${l.value}'`;break}}if(e)throw new ot(Y.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=-62135596800,Fb=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(t){return $t.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Fb);return new $t(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ot(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ot(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<zb)throw new ot(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fb}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xc(t,$t._jsonSchema))return new $t(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-zb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$t._jsonSchemaVersion="firestore/timestamp/1.0",$t._jsonSchema={type:Pe("string",$t._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new $t(0,0))}static max(){return new vt(new $t(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=-1;class yd{constructor(t,e,i,a){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=a}}function Cy(n){return n.fields.find((t=>t.kind===2))}function ba(n){return n.fields.filter((t=>t.kind!==2))}yd.UNKNOWN_ID=-1;class Xf{constructor(t,e){this.fieldPath=t,this.kind=e}}class Pc{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Pc(0,kn.min())}}function Gk(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=vt.fromTimestamp(i===1e9?new $t(e+1,0):new $t(e,i));return new kn(a,ut.empty(),t)}function OI(n){return new kn(n.readTime,n.key,Vc)}class kn{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new kn(vt.min(),ut.empty(),Vc)}static max(){return new kn(vt.max(),ut.empty(),Vc)}}function q_(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=ut.comparator(n.documentKey,t.documentKey),e!==0?e:Rt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==kI)throw n;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new z(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof z?e:z.resolve(e)}catch(e){return z.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):z.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):z.reject(e)}static resolve(t){return new z(((e,i)=>{e(t)}))}static reject(t){return new z(((e,i)=>{i(t)}))}static waitFor(t){return new z(((e,i)=>{let a=0,l=0,u=!1;t.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&e()}),(m=>i(m)))})),u=!0,l===a&&e()}))}static or(t){let e=z.resolve(!1);for(const i of t)e=e.next((a=>a?z.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,l)=>{i.push(e.call(this,a,l))})),this.waitFor(i)}static mapArray(t,e){return new z(((i,a)=>{const l=t.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;e(t[p]).next((y=>{u[p]=y,++f,f===l&&i(u)}),(y=>a(y)))}}))}static doWhile(t,e){return new z(((i,a)=>{const l=()=>{t()===!0?e().next((()=>{l()}),a):i()};l()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="SimpleDb";class Qd{static open(t,e,i,a){try{return new Qd(e,t.transaction(a,i))}catch(l){throw new pc(e,l)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.S=new vs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{e.error?this.S.reject(new pc(t,e.error)):this.S.resolve()},this.transaction.onerror=i=>{const a=H_(i.target.error);this.S.reject(new pc(t,a))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(rt(Mn,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Qk(e)}}class Tr{static delete(t){return rt(Mn,"Removing database:",t),wa(uI().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!U_())return!1;if(Tr.F())return!0;const t=Be(),e=Tr.M(t),i=0<e&&e<10,a=UI(t),l=0<a&&a<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,e){return t.store(e)}static M(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(t,e,i){this.name=t,this.version=e,this.N=i,this.B=null,Tr.M(Be())===12.2&&pn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(rt(Mn,"Opening database:",this.name),this.db=await new Promise(((e,i)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const u=l.target.result;e(u)},a.onblocked=()=>{i(new pc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const u=l.target.error;u.name==="VersionError"?i(new ot(Y.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?i(new ot(Y.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):i(new pc(t,u))},a.onupgradeneeded=l=>{rt(Mn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const u=l.target.result;this.N.k(u,a.transaction,l.oldVersion,this.version).next((()=>{rt(Mn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=e=>this.q(e)),this.db}$(t){this.q=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,i,a){const l=e==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(t);const f=Qd.open(this.db,t,l?"readonly":"readwrite",i),m=a(f).next((p=>(f.C(),p))).catch((p=>(f.abort(p),z.reject(p)))).toPromise();return m.catch((()=>{})),await f.D,m}catch(f){const m=f,p=m.name!=="FirebaseError"&&u<3;if(rt(Mn,"Transaction failed with error:",m.message,"Retrying:",p),this.close(),!p)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function UI(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class Kk{constructor(t){this.U=t,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(t){this.U=t}done(){this.K=!0}j(t){this.W=t}delete(){return wa(this.U.delete())}}class pc extends ot{constructor(t,e){super(Y.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Mr(n){return n.name==="IndexedDbTransactionError"}class Qk{constructor(t){this.store=t}put(t,e){let i;return e!==void 0?(rt(Mn,"PUT",this.store.name,t,e),i=this.store.put(e,t)):(rt(Mn,"PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),wa(i)}add(t){return rt(Mn,"ADD",this.store.name,t,t),wa(this.store.add(t))}get(t){return wa(this.store.get(t)).next((e=>(e===void 0&&(e=null),rt(Mn,"GET",this.store.name,t,e),e)))}delete(t){return rt(Mn,"DELETE",this.store.name,t),wa(this.store.delete(t))}count(){return rt(Mn,"COUNT",this.store.name),wa(this.store.count())}J(t,e){const i=this.options(t,e),a=i.index?this.store.index(i.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(i.range);return new z(((u,f)=>{l.onerror=m=>{f(m.target.error)},l.onsuccess=m=>{u(m.target.result)}}))}{const l=this.cursor(i),u=[];return this.H(l,((f,m)=>{u.push(m)})).next((()=>u))}}Y(t,e){const i=this.store.getAll(t,e===null?void 0:e);return new z(((a,l)=>{i.onerror=u=>{l(u.target.error)},i.onsuccess=u=>{a(u.target.result)}}))}Z(t,e){rt(Mn,"DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const a=this.cursor(i);return this.H(a,((l,u,f)=>f.delete()))}ee(t,e){let i;e?i=t:(i={},e=t);const a=this.cursor(i);return this.H(a,e)}te(t){const e=this.cursor({});return new z(((i,a)=>{e.onerror=l=>{const u=H_(l.target.error);a(u)},e.onsuccess=l=>{const u=l.target.result;u?t(u.primaryKey,u.value).next((f=>{f?u.continue():i()})):i()}}))}H(t,e){const i=[];return new z(((a,l)=>{t.onerror=u=>{l(u.target.error)},t.onsuccess=u=>{const f=u.target.result;if(!f)return void a();const m=new Kk(f),p=e(f.primaryKey,f.value,m);if(p instanceof z){const y=p.catch((T=>(m.done(),z.reject(T))));i.push(y)}m.isDone?a():m.G===null?f.continue():f.continue(m.G)}})).next((()=>z.waitFor(i)))}options(t,e){let i;return t!==void 0&&(typeof t=="string"?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function wa(n){return new z(((t,e)=>{n.onsuccess=i=>{const a=i.target.result;t(a)},n.onerror=i=>{const a=H_(i.target.error);e(a)}}))}let qb=!1;function H_(n){const t=Tr.M(Be());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ot("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qb||(qb=!0,setTimeout((()=>{throw i}),0)),i}}return n}const gc="IndexBackfiller";class Yk{constructor(t,e){this.asyncQueue=t,this.ne=e,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){rt(gc,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const e=await this.ne.ie();rt(gc,`Documents written: ${e}`)}catch(e){Mr(e)?rt(gc,"Ignoring IndexedDB error during index backfill: ",e):await Ya(e)}await this.re(6e4)}))}}class Xk{constructor(t,e){this.localStore=t,this.persistence=e}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.se(e,t)))}se(t,e){const i=new Set;let a=e,l=!0;return z.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((u=>{if(u!==null&&!i.has(u))return rt(gc,`Processing collection: ${u}`),this.oe(t,u,a).next((f=>{a-=f,i.add(u)}));l=!1})))).next((()=>e-a))}oe(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((a=>this.localStore.localDocuments.getNextDocuments(t,e,a,i).next((l=>{const u=l.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next((()=>this._e(a,l))).next((f=>(rt(gc,`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(t,e,f)))).next((()=>u.size))}))))}_e(t,e){let i=t;return e.changes.forEach(((a,l)=>{const u=OI(l);q_(u,i)>0&&(i=u)})),new kn(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Jn.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=-1;function Yd(n){return n==null}function Mc(n){return n===0&&1/n==-1/0}function $k(n){return typeof n=="number"&&Number.isInteger(n)&&!Mc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="";function cn(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Hb(t)),t=Wk(n.get(e),t);return Hb(t)}function Wk(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case _d:e+="";break;default:e+=l}}return e}function Hb(n){return n+_d+""}function Mi(n){const t=n.length;if(yt(t>=2,64408,{path:n}),t===2)return yt(n.charAt(0)===_d&&n.charAt(1)==="",56145,{path:n}),Ht.emptyPath();const e=t-2,i=[];let a="";for(let l=0;l<t;){const u=n.indexOf(_d,l);switch((u<0||u>e)&&pt(50515,{path:n}),n.charAt(u+1)){case"":const f=n.substring(l,u);let m;a.length===0?m=f:(a+=f,m=a,a=""),i.push(m);break;case"":a+=n.substring(l,u),a+="\0";break;case"":a+=n.substring(l,u+1);break;default:pt(61167,{path:n})}l=u+2}return new Ht(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="remoteDocuments",$c="owner",Go="owner",Nc="mutationQueues",Zk="userId",hi="mutations",Gb="batchId",Va="userMutationsIndex",Kb=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(n,t){return[n,cn(t)]}function BI(n,t,e){return[n,cn(t),e]}const Jk={},vl="documentMutations",vd="remoteDocumentsV14",t4=["prefixPath","collectionGroup","readTime","documentId"],Wf="documentKeyIndex",e4=["prefixPath","collectionGroup","documentId"],jI="collectionGroupIndex",n4=["collectionGroup","readTime","prefixPath","documentId"],Oc="remoteDocumentGlobal",Dy="remoteDocumentGlobalKey",Tl="targets",zI="queryTargetsIndex",i4=["canonicalId","targetId"],El="targetDocuments",s4=["targetId","path"],G_="documentTargetsIndex",r4=["path","targetId"],Td="targetGlobalKey",Oa="targetGlobal",kc="collectionParents",a4=["collectionId","parent"],Al="clientMetadata",o4="clientId",Xd="bundles",l4="bundleId",$d="namedQueries",u4="name",K_="indexConfiguration",c4="indexId",Vy="collectionGroupIndex",h4="collectionGroup",yc="indexState",f4=["indexId","uid"],FI="sequenceNumberIndex",d4=["uid","sequenceNumber"],_c="indexEntries",m4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qI="documentKeyIndex",p4=["indexId","uid","orderedDocumentKey"],Wd="documentOverlays",g4=["userId","collectionPath","documentId"],Py="collectionPathOverlayIndex",y4=["userId","collectionPath","largestBatchId"],HI="collectionGroupOverlayIndex",_4=["userId","collectionGroup","largestBatchId"],Q_="globals",v4="name",GI=[Nc,hi,vl,Sa,Tl,$c,Oa,El,Al,Oc,kc,Xd,$d],T4=[...GI,Wd],KI=[Nc,hi,vl,vd,Tl,$c,Oa,El,Al,Oc,kc,Xd,$d,Wd],QI=KI,Y_=[...QI,K_,yc,_c],E4=Y_,YI=[...Y_,Q_],A4=YI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My extends LI{constructor(t,e){super(),this.le=t,this.currentSequenceNumber=e}}function je(n,t){const e=xt(n);return Tr.O(e.le,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Xa(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function XI(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,e){this.comparator=t,this.root=e||nn.EMPTY}insert(t,e){return new fe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Of(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Of(this.root,t,this.comparator,!1)}getReverseIterator(){return new Of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Of(this.root,t,this.comparator,!0)}}class Of{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class nn{constructor(t,e,i,a,l){this.key=t,this.value=e,this.color=i??nn.RED,this.left=a??nn.EMPTY,this.right=l??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,l){return new nn(t??this.key,e??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,i),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return nn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,e,i,a,l){return this}insert(t,e,i){return new nn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Yb(this.data.getIterator())}getIteratorFrom(t){return new Yb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Zt)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Zt(this.comparator);return e.data=t,e}}class Yb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ko(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this.fields=t,t.sort(pe.comparator)}static empty(){return new ti([])}unionWith(t){let e=new Zt(pe.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ti(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return _l(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new $I("Invalid base64 string: "+l):l}})(t);return new Me(e)}static fromUint8Array(t){const e=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(t);return new Me(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Me.EMPTY_BYTE_STRING=new Me("");const b4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(n){if(yt(!!n,39018),typeof n=="string"){let t=0;const e=b4.exec(n);if(yt(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ce(n.seconds),nanos:ce(n.nanos)}}function ce(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ws(n){return typeof n=="string"?Me.fromBase64String(n):Me.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="server_timestamp",ZI="__type__",JI="__previous_value__",tR="__local_write_time__";function Zd(n){return(n?.mapValue?.fields||{})[ZI]?.stringValue===WI}function Jd(n){const t=n.mapValue.fields[JI];return Zd(t)?Jd(t):t}function Lc(n){const t=Ss(n.mapValue.fields[tR].timestampValue);return new $t(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(t,e,i,a,l,u,f,m,p,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Ed="(default)";class ja{constructor(t,e){this.projectId=t,this.database=e||Ed}static empty(){return new ja("","")}get isDefaultDatabase(){return this.database===Ed}isEqual(t){return t instanceof ja&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="__type__",eR="__max__",gr={mapValue:{fields:{__type__:{stringValue:eR}}}},$_="__vector__",bl="value",Zf={nullValue:"NULL_VALUE"};function Ir(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zd(n)?4:nR(n)?9007199254740991:tm(n)?10:11:pt(28295,{value:n})}function Fi(n,t){if(n===t)return!0;const e=Ir(n);if(e!==Ir(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Lc(n).isEqual(Lc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Ss(a.timestampValue),f=Ss(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,l){return ws(a.bytesValue).isEqual(ws(l.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,l){return ce(a.geoPointValue.latitude)===ce(l.geoPointValue.latitude)&&ce(a.geoPointValue.longitude)===ce(l.geoPointValue.longitude)})(n,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return ce(a.integerValue)===ce(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=ce(a.doubleValue),f=ce(l.doubleValue);return u===f?Mc(u)===Mc(f):isNaN(u)&&isNaN(f)}return!1})(n,t);case 9:return _l(n.arrayValue.values||[],t.arrayValue.values||[],Fi);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Qb(u)!==Qb(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!Fi(u[m],f[m])))return!1;return!0})(n,t);default:return pt(52216,{left:n})}}function Uc(n,t){return(n.values||[]).find((e=>Fi(e,t)))!==void 0}function Rr(n,t){if(n===t)return 0;const e=Ir(n),i=Ir(t);if(e!==i)return Rt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Rt(n.booleanValue,t.booleanValue);case 2:return(function(l,u){const f=ce(l.integerValue||l.doubleValue),m=ce(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(n,t);case 3:return Xb(n.timestampValue,t.timestampValue);case 4:return Xb(Lc(n),Lc(t));case 5:return xy(n.stringValue,t.stringValue);case 6:return(function(l,u){const f=ws(l),m=ws(u);return f.compareTo(m)})(n.bytesValue,t.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Rt(f[p],m[p]);if(y!==0)return y}return Rt(f.length,m.length)})(n.referenceValue,t.referenceValue);case 8:return(function(l,u){const f=Rt(ce(l.latitude),ce(u.latitude));return f!==0?f:Rt(ce(l.longitude),ce(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return $b(n.arrayValue,t.arrayValue);case 10:return(function(l,u){const f=l.fields||{},m=u.fields||{},p=f[bl]?.arrayValue,y=m[bl]?.arrayValue,T=Rt(p?.values?.length||0,y?.values?.length||0);return T!==0?T:$b(p,y)})(n.mapValue,t.mapValue);case 11:return(function(l,u){if(l===gr.mapValue&&u===gr.mapValue)return 0;if(l===gr.mapValue)return 1;if(u===gr.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=u.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let T=0;T<m.length&&T<y.length;++T){const A=xy(m[T],y[T]);if(A!==0)return A;const I=Rr(f[m[T]],p[y[T]]);if(I!==0)return I}return Rt(m.length,y.length)})(n.mapValue,t.mapValue);default:throw pt(23264,{he:e})}}function Xb(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Rt(n,t);const e=Ss(n),i=Ss(t),a=Rt(e.seconds,i.seconds);return a!==0?a:Rt(e.nanos,i.nanos)}function $b(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const l=Rr(e[a],i[a]);if(l)return l}return Rt(e.length,i.length)}function Sl(n){return Ny(n)}function Ny(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Ss(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return ws(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return ut.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const l of e.values||[])a?a=!1:i+=",",i+=Ny(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Ny(e.fields[u])}`;return a+"}"})(n.mapValue):pt(61005,{value:n})}function Jf(n){switch(Ir(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Jd(n);return t?16+Jf(t):16;case 5:return 2*n.stringValue.length;case 6:return ws(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Jf(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return Xa(i.fields,((l,u)=>{a+=l.length+Jf(u)})),a})(n.mapValue);default:throw pt(13486,{value:n})}}function za(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Oy(n){return!!n&&"integerValue"in n}function Bc(n){return!!n&&"arrayValue"in n}function Wb(n){return!!n&&"nullValue"in n}function Zb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function td(n){return!!n&&"mapValue"in n}function tm(n){return(n?.mapValue?.fields||{})[X_]?.stringValue===$_}function vc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Xa(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=vc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=vc(n.arrayValue.values[e]);return t}return{...n}}function nR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===eR}const iR={mapValue:{fields:{[X_]:{stringValue:$_},[bl]:{arrayValue:{}}}}};function w4(n){return"nullValue"in n?Zf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?za(ja.empty(),ut.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?tm(n)?iR:{mapValue:{}}:pt(35942,{value:n})}function I4(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?za(ja.empty(),ut.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?iR:"mapValue"in n?tm(n)?{mapValue:{}}:gr:pt(61959,{value:n})}function Jb(n,t){const e=Rr(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function tS(n,t){const e=Rr(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!td(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=vc(e)}setAll(t){let e=pe.emptyPath(),i={},a=[];t.forEach(((u,f)=>{if(!e.isImmediateParentOf(f)){const m=this.getFieldsMap(e);this.applyChanges(m,i,a),i={},a=[],e=f.popLast()}u?i[f.lastSegment()]=vc(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,i,a)}delete(t){const e=this.field(t.popLast());td(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Fi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];td(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){Xa(e,((a,l)=>t[a]=l));for(const a of i)delete t[a]}clone(){return new En(vc(this.value))}}function sR(n){const t=[];return Xa(n.fields,((e,i)=>{const a=new pe([e]);if(td(i)){const l=sR(i.mapValue).fields;if(l.length===0)t.push(a);else for(const u of l)t.push(a.child(u))}else t.push(a)})),new ti(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t,e,i,a,l,u,f){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(t){return new Te(t,0,vt.min(),vt.min(),vt.min(),En.empty(),0)}static newFoundDocument(t,e,i,a){return new Te(t,1,e,vt.min(),i,a,0)}static newNoDocument(t,e){return new Te(t,2,e,vt.min(),vt.min(),En.empty(),0)}static newUnknownDocument(t,e){return new Te(t,3,e,vt.min(),vt.min(),En.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Te&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Te(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t,e){this.position=t,this.inclusive=e}}function eS(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const l=t[a],u=n.position[a];if(l.field.isKeyField()?i=ut.comparator(ut.fromName(u.referenceValue),e.key):i=Rr(u,e.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function nS(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Fi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,e="asc"){this.field=t,this.dir=e}}function R4(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{}class Ut extends rR{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new x4(t,e,i):e==="array-contains"?new V4(t,i):e==="in"?new hR(t,i):e==="not-in"?new P4(t,i):e==="array-contains-any"?new M4(t,i):new Ut(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new C4(t,i):new D4(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Rr(e,this.value)):e!==null&&Ir(this.value)===Ir(e)&&this.matchesComparison(Rr(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wt extends rR{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Wt(t,e)}matches(t){return wl(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wl(n){return n.op==="and"}function ky(n){return n.op==="or"}function W_(n){return aR(n)&&wl(n)}function aR(n){for(const t of n.filters)if(t instanceof Wt)return!1;return!0}function Ly(n){if(n instanceof Ut)return n.field.canonicalString()+n.op.toString()+Sl(n.value);if(W_(n))return n.filters.map((t=>Ly(t))).join(",");{const t=n.filters.map((e=>Ly(e))).join(",");return`${n.op}(${t})`}}function oR(n,t){return n instanceof Ut?(function(i,a){return a instanceof Ut&&i.op===a.op&&i.field.isEqual(a.field)&&Fi(i.value,a.value)})(n,t):n instanceof Wt?(function(i,a){return a instanceof Wt&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,f)=>l&&oR(u,a.filters[f])),!0):!1})(n,t):void pt(19439)}function lR(n,t){const e=n.filters.concat(t);return Wt.create(e,n.op)}function uR(n){return n instanceof Ut?(function(e){return`${e.field.canonicalString()} ${e.op} ${Sl(e.value)}`})(n):n instanceof Wt?(function(e){return e.op.toString()+" {"+e.getFilters().map(uR).join(" ,")+"}"})(n):"Filter"}class x4 extends Ut{constructor(t,e,i){super(t,e,i),this.key=ut.fromName(i.referenceValue)}matches(t){const e=ut.comparator(t.key,this.key);return this.matchesComparison(e)}}class C4 extends Ut{constructor(t,e){super(t,"in",e),this.keys=cR("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class D4 extends Ut{constructor(t,e){super(t,"not-in",e),this.keys=cR("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function cR(n,t){return(t.arrayValue?.values||[]).map((e=>ut.fromName(e.referenceValue)))}class V4 extends Ut{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Bc(e)&&Uc(e.arrayValue,this.value)}}class hR extends Ut{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Uc(this.value.arrayValue,e)}}class P4 extends Ut{constructor(t,e){super(t,"not-in",e)}matches(t){if(Uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Uc(this.value.arrayValue,e)}}class M4 extends Ut{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Bc(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Uc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(t,e=null,i=[],a=[],l=null,u=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function Uy(n,t=null,e=[],i=[],a=null,l=null,u=null){return new N4(n,t,e,i,a,l,u)}function Fa(n){const t=xt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>Ly(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Yd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Sl(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Sl(i))).join(",")),t.Te=e}return t.Te}function Wc(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!R4(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!oR(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!nS(n.startAt,t.startAt)&&nS(n.endAt,t.endAt)}function Ad(n){return ut.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function bd(n,t){return n.filters.filter((e=>e instanceof Ut&&e.field.isEqual(t)))}function iS(n,t,e){let i=Zf,a=!0;for(const l of bd(n,t)){let u=Zf,f=!0;switch(l.op){case"<":case"<=":u=w4(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,f=!1;break;case"!=":case"not-in":u=Zf}Jb({value:i,inclusive:a},{value:u,inclusive:f})<0&&(i=u,a=f)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];Jb({value:i,inclusive:a},{value:u,inclusive:e.inclusive})<0&&(i=u,a=e.inclusive);break}}return{value:i,inclusive:a}}function sS(n,t,e){let i=gr,a=!0;for(const l of bd(n,t)){let u=gr,f=!0;switch(l.op){case">=":case">":u=I4(l.value),f=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,f=!1;break;case"!=":case"not-in":u=gr}tS({value:i,inclusive:a},{value:u,inclusive:f})>0&&(i=u,a=f)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];tS({value:i,inclusive:a},{value:u,inclusive:e.inclusive})>0&&(i=u,a=e.inclusive);break}}return{value:i,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t,e=null,i=[],a=[],l=null,u="F",f=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function O4(n,t,e,i,a,l,u,f){return new $a(n,t,e,i,a,l,u,f)}function Z_(n){return new $a(n)}function rS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function J_(n){return n.collectionGroup!==null}function ul(n){const t=xt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Zt(pe.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new jc(l,i))})),e.has(pe.keyField().canonicalString())||t.Ie.push(new jc(pe.keyField(),i))}return t.Ie}function ni(n){const t=xt(n);return t.Ee||(t.Ee=k4(t,ul(n))),t.Ee}function k4(n,t){if(n.limitType==="F")return Uy(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new jc(a.field,l)}));const e=n.endAt?new xr(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new xr(n.startAt.position,n.startAt.inclusive):null;return Uy(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function By(n,t){const e=n.filters.concat([t]);return new $a(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Sd(n,t,e){return new $a(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function em(n,t){return Wc(ni(n),ni(t))&&n.limitType===t.limitType}function fR(n){return`${Fa(ni(n))}|lt:${n.limitType}`}function Zo(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>uR(a))).join(", ")}]`),Yd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Sl(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Sl(a))).join(",")),`Target(${i})`})(ni(n))}; limitType=${n.limitType})`}function Zc(n,t){return t.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ut.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,t)&&(function(i,a){for(const l of ul(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(u,f,m){const p=eS(u,f,m);return u.inclusive?p<=0:p<0})(i.startAt,ul(i),a)||i.endAt&&!(function(u,f,m){const p=eS(u,f,m);return u.inclusive?p>=0:p>0})(i.endAt,ul(i),a))})(n,t)}function L4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dR(n){return(t,e)=>{let i=!1;for(const a of ul(n)){const l=U4(a,t,e);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function U4(n,t,e){const i=n.field.isKeyField()?ut.comparator(t.key,e.key):(function(l,u,f){const m=u.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Rr(m,p):pt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return pt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Xa(this.inner,((e,i)=>{for(const[a,l]of i)t(a,l)}))}isEmpty(){return XI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=new fe(ut.comparator);function Nn(){return B4}const mR=new fe(ut.comparator);function rc(...n){let t=mR;for(const e of n)t=t.insert(e.key,e);return t}function pR(n){let t=mR;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Ni(){return Tc()}function gR(){return Tc()}function Tc(){return new Cs((n=>n.toString()),((n,t)=>n.isEqual(t)))}const j4=new fe(ut.comparator),z4=new Zt(ut.comparator);function Pt(...n){let t=z4;for(const e of n)t=t.add(e);return t}const F4=new Zt(Rt);function q4(){return F4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mc(t)?"-0":t}}function yR(n){return{integerValue:""+n}}function H4(n,t){return $k(t)?yR(t):tv(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this._=void 0}}function G4(n,t,e){return n instanceof Il?(function(a,l){const u={fields:{[ZI]:{stringValue:WI},[tR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Zd(l)&&(l=Jd(l)),l&&(u.fields[JI]=l),{mapValue:u}})(e,t):n instanceof Rl?vR(n,t):n instanceof xl?TR(n,t):(function(a,l){const u=_R(a,l),f=aS(u)+aS(a.Ae);return Oy(u)&&Oy(a.Ae)?yR(f):tv(a.serializer,f)})(n,t)}function K4(n,t,e){return n instanceof Rl?vR(n,t):n instanceof xl?TR(n,t):e}function _R(n,t){return n instanceof zc?(function(i){return Oy(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(t)?t:{integerValue:0}:null}class Il extends nm{}class Rl extends nm{constructor(t){super(),this.elements=t}}function vR(n,t){const e=ER(t);for(const i of n.elements)e.some((a=>Fi(a,i)))||e.push(i);return{arrayValue:{values:e}}}class xl extends nm{constructor(t){super(),this.elements=t}}function TR(n,t){let e=ER(t);for(const i of n.elements)e=e.filter((a=>!Fi(a,i)));return{arrayValue:{values:e}}}class zc extends nm{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function aS(n){return ce(n.integerValue||n.doubleValue)}function ER(n){return Bc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t,e){this.field=t,this.transform=e}}function Q4(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof Rl&&a instanceof Rl||i instanceof xl&&a instanceof xl?_l(i.elements,a.elements,Fi):i instanceof zc&&a instanceof zc?Fi(i.Ae,a.Ae):i instanceof Il&&a instanceof Il})(n.transform,t.transform)}class Y4{constructor(t,e){this.version=t,this.transformResults=e}}class On{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new On}static exists(t){return new On(void 0,t)}static updateTime(t){return new On(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ed(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class im{}function bR(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new ev(n.key,On.none()):new Ul(n.key,n.data,On.none());{const e=n.data,i=En.empty();let a=new Zt(pe.comparator);for(let l of t.fields)if(!a.has(l)){let u=e.field(l);u===null&&l.length>1&&(l=l.popLast(),u=e.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Nr(n.key,i,new ti(a.toArray()),On.none())}}function X4(n,t,e){n instanceof Ul?(function(a,l,u){const f=a.value.clone(),m=lS(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,t,e):n instanceof Nr?(function(a,l,u){if(!ed(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=lS(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(SR(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,t,e):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function Ec(n,t,e,i){return n instanceof Ul?(function(l,u,f,m){if(!ed(l.precondition,u))return f;const p=l.value.clone(),y=uS(l.fieldTransforms,m,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,t,e,i):n instanceof Nr?(function(l,u,f,m){if(!ed(l.precondition,u))return f;const p=uS(l.fieldTransforms,m,u),y=u.data;return y.setAll(SR(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(n,t,e,i):(function(l,u,f){return ed(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(n,t,e)}function $4(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),l=_R(i.transform,a||null);l!=null&&(e===null&&(e=En.empty()),e.set(i.field,l))}return e||null}function oS(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&_l(i,a,((l,u)=>Q4(l,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Ul extends im{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Nr extends im{constructor(t,e,i,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function SR(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function lS(n,t,e){const i=new Map;yt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let a=0;a<e.length;a++){const l=n[a],u=l.transform,f=t.data.field(l.field);i.set(l.field,K4(u,f,e[a]))}return i}function uS(n,t,e){const i=new Map;for(const a of n){const l=a.transform,u=e.data.field(a.field);i.set(a.field,G4(l,u,t))}return i}class ev extends im{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wR extends im{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&X4(l,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Ec(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Ec(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=gR();return this.mutations.forEach((a=>{const l=t.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=e.has(a.key)?null:f;const m=bR(u,f);m!==null&&i.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(vt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&_l(this.mutations,t.mutations,((e,i)=>oS(e,i)))&&_l(this.baseMutations,t.baseMutations,((e,i)=>oS(e,i)))}}class iv{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){yt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return j4})();const l=t.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new iv(t,e,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,Ft;function Z4(n){switch(n){case Y.OK:return pt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return pt(15467,{code:n})}}function IR(n){if(n===void 0)return pn("GRPC error has no .code"),Y.UNKNOWN;switch(n){case De.OK:return Y.OK;case De.CANCELLED:return Y.CANCELLED;case De.UNKNOWN:return Y.UNKNOWN;case De.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case De.INTERNAL:return Y.INTERNAL;case De.UNAVAILABLE:return Y.UNAVAILABLE;case De.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case De.NOT_FOUND:return Y.NOT_FOUND;case De.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case De.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case De.ABORTED:return Y.ABORTED;case De.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case De.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case De.DATA_LOSS:return Y.DATA_LOSS;default:return pt(39323,{code:n})}}(Ft=De||(De={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=new vr([4294967295,4294967295],0);function cS(n){const t=J4().encode(n),e=new SI;return e.update(t),new Uint8Array(e.digest())}function hS(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new vr([e,i],0),new vr([a,l],0)]}class rv{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new ac(`Invalid padding: ${e}`);if(i<0)throw new ac(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new ac(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=vr.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(vr.fromNumber(i)));return a.compare(tL)===1&&(a=new vr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=cS(t),[i,a]=hS(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),u=new rv(l,a,e);return i.forEach((f=>u.insert(f))),u}insert(t){if(this.ge===0)return;const e=cS(t),[i,a]=hS(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.Se(u)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(t,e,i,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,Jc.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new sm(vt.min(),a,new fe(Rt),Nn(),Pt())}}class Jc{constructor(t,e,i,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Jc(i,e,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(t,e,i,a){this.be=t,this.removedTargetIds=e,this.key=i,this.De=a}}class RR{constructor(t,e){this.targetId=t,this.Ce=e}}class xR{constructor(t,e,i=Me.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class fS{constructor(){this.ve=0,this.Fe=dS(),this.Me=Me.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),e=Pt(),i=Pt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:pt(38017,{changeType:l})}})),new Jc(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=dS()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eL{constructor(t){this.Ge=t,this.ze=new Map,this.je=Nn(),this.Je=kf(),this.He=kf(),this.Ye=new fe(Rt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const l=a.target;if(Ad(l))if(i===0){const u=new ut(l.path);this.et(e,u,Te.newNoDocument(u,vt.min()))}else yt(i===1,20013,{expectedCount:i});else{const u=this._t(e);if(u!==i){const f=this.ut(t),m=f?this.ct(f,t,u):1;if(m!==0){this.it(e);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,p)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=e;let u,f;try{u=ws(i).toUint8Array()}catch(m){if(m instanceof $I)return Ba("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new rv(u,a,l)}catch(m){return Ba(m instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.et(e,l,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Ad(f.target)){const m=new ut(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,Te.newNoDocument(m,t))}l.Be&&(e.set(u,l.ke()),l.qe())}}));let i=Pt();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(t)));const a=new sm(t,e,this.Ye,this.je,i);return this.je=Nn(),this.Je=kf(),this.He=kf(),this.Ye=new fe(Rt),a}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new fS,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Zt(Rt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Zt(Rt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||rt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new fS),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function kf(){return new fe(ut.comparator)}function dS(){return new fe(ut.comparator)}const nL={asc:"ASCENDING",desc:"DESCENDING"},iL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sL={and:"AND",or:"OR"};class rL{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function jy(n,t){return n.useProto3Json||Yd(t)?t:{value:t}}function Cl(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function CR(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function aL(n,t){return Cl(n,t.toTimestamp())}function yn(n){return yt(!!n,49232),vt.fromTimestamp((function(e){const i=Ss(e);return new $t(i.seconds,i.nanos)})(n))}function av(n,t){return zy(n,t).canonicalString()}function zy(n,t){const e=(function(a){return new Ht(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function DR(n){const t=Ht.fromString(n);return yt(BR(t),10190,{key:t.toString()}),t}function wd(n,t){return av(n.databaseId,t.path)}function ka(n,t){const e=DR(t);if(e.get(1)!==n.databaseId.projectId)throw new ot(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ot(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ut(MR(e))}function VR(n,t){return av(n.databaseId,t)}function PR(n){const t=DR(n);return t.length===4?Ht.emptyPath():MR(t)}function Fy(n){return new Ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function MR(n){return yt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function mS(n,t,e){return{name:wd(n,t),fields:e.value.mapValue.fields}}function oL(n,t,e){const i=ka(n,t.name),a=yn(t.updateTime),l=t.createTime?yn(t.createTime):vt.min(),u=new En({mapValue:{fields:t.fields}}),f=Te.newFoundDocument(i,a,l,u);return e&&f.setHasCommittedMutations(),e?f.setHasCommittedMutations():f}function lL(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:pt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(yt(y===void 0||typeof y=="string",58123),Me.fromBase64String(y||"")):(yt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Me.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,f=u&&(function(p){const y=p.code===void 0?Y.UNKNOWN:IR(p.code);return new ot(y,p.message||"")})(u);e=new xR(i,a,l,f||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=ka(n,i.document.name),l=yn(i.document.updateTime),u=i.document.createTime?yn(i.document.createTime):vt.min(),f=new En({mapValue:{fields:i.document.fields}}),m=Te.newFoundDocument(a,l,u,f),p=i.targetIds||[],y=i.removedTargetIds||[];e=new nd(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=ka(n,i.document),l=i.readTime?yn(i.readTime):vt.min(),u=Te.newNoDocument(a,l),f=i.removedTargetIds||[];e=new nd([],f,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=ka(n,i.document),l=i.removedTargetIds||[];e=new nd([],l,a,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new W4(a,l),f=i.targetId;e=new RR(f,u)}}return e}function Id(n,t){let e;if(t instanceof Ul)e={update:mS(n,t.key,t.value)};else if(t instanceof ev)e={delete:wd(n,t.key)};else if(t instanceof Nr)e={update:mS(n,t.key,t.data),updateMask:mL(t.fieldMask)};else{if(!(t instanceof wR))return pt(16599,{Vt:t.type});e={verify:wd(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(l,u){const f=u.transform;if(f instanceof Il)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Rl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof xl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof zc)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw pt(20930,{transform:u.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:aL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:pt(27497)})(n,t.precondition)),e}function qy(n,t){const e=t.currentDocument?(function(l){return l.updateTime!==void 0?On.updateTime(yn(l.updateTime)):l.exists!==void 0?On.exists(l.exists):On.none()})(t.currentDocument):On.none(),i=t.updateTransforms?t.updateTransforms.map((a=>(function(u,f){let m=null;if("setToServerValue"in f)yt(f.setToServerValue==="REQUEST_TIME",16630,{proto:f}),m=new Il;else if("appendMissingElements"in f){const y=f.appendMissingElements.values||[];m=new Rl(y)}else if("removeAllFromArray"in f){const y=f.removeAllFromArray.values||[];m=new xl(y)}else"increment"in f?m=new zc(u,f.increment):pt(16584,{proto:f});const p=pe.fromServerFormat(f.fieldPath);return new AR(p,m)})(n,a))):[];if(t.update){t.update.name;const a=ka(n,t.update.name),l=new En({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=(function(m){const p=m.fieldPaths||[];return new ti(p.map((y=>pe.fromServerFormat(y))))})(t.updateMask);return new Nr(a,l,u,e,i)}return new Ul(a,l,e,i)}if(t.delete){const a=ka(n,t.delete);return new ev(a,e)}if(t.verify){const a=ka(n,t.verify);return new wR(a,e)}return pt(1463,{proto:t})}function uL(n,t){return n&&n.length>0?(yt(t!==void 0,14353),n.map((e=>(function(a,l){let u=a.updateTime?yn(a.updateTime):yn(l);return u.isEqual(vt.min())&&(u=yn(l)),new Y4(u,a.transformResults||[])})(e,t)))):[]}function NR(n,t){return{documents:[VR(n,t.path)]}}function OR(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=VR(n,a);const l=(function(p){if(p.length!==0)return UR(Wt.create(p,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(A){return{field:Jo(A.field),direction:hL(A.dir)}})(y)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const f=jy(n,t.limit);return f!==null&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:e,parent:a}}function kR(n){let t=PR(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){yt(i===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];e.where&&(l=(function(T){const A=LR(T);return A instanceof Wt&&W_(A)?A.getFilters():[A]})(e.where));let u=[];e.orderBy&&(u=(function(T){return T.map((A=>(function(C){return new jc(tl(C.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(A)))})(e.orderBy));let f=null;e.limit&&(f=(function(T){let A;return A=typeof T=="object"?T.value:T,Yd(A)?null:A})(e.limit));let m=null;e.startAt&&(m=(function(T){const A=!!T.before,I=T.values||[];return new xr(I,A)})(e.startAt));let p=null;return e.endAt&&(p=(function(T){const A=!T.before,I=T.values||[];return new xr(I,A)})(e.endAt)),O4(t,a,u,l,f,"F",m,p)}function cL(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function LR(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=tl(e.unaryFilter.field);return Ut.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=tl(e.unaryFilter.field);return Ut.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=tl(e.unaryFilter.field);return Ut.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=tl(e.unaryFilter.field);return Ut.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ut.create(tl(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Wt.create(e.compositeFilter.filters.map((i=>LR(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(e.compositeFilter.op))})(n):pt(30097,{filter:n})}function hL(n){return nL[n]}function fL(n){return iL[n]}function dL(n){return sL[n]}function Jo(n){return{fieldPath:n.canonicalString()}}function tl(n){return pe.fromServerFormat(n.fieldPath)}function UR(n){return n instanceof Ut?(function(e){if(e.op==="=="){if(Zb(e.value))return{unaryFilter:{field:Jo(e.field),op:"IS_NAN"}};if(Wb(e.value))return{unaryFilter:{field:Jo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Zb(e.value))return{unaryFilter:{field:Jo(e.field),op:"IS_NOT_NAN"}};if(Wb(e.value))return{unaryFilter:{field:Jo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(e.field),op:fL(e.op),value:e.value}}})(n):n instanceof Wt?(function(e){const i=e.getFilters().map((a=>UR(a)));return i.length===1?i[0]:{compositeFilter:{op:dL(e.op),filters:i}}})(n):pt(54877,{filter:n})}function mL(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function BR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t,e,i,a,l=vt.min(),u=vt.min(),f=Me.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new ps(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t){this.yt=t}}function pL(n,t){let e;if(t.document)e=oL(n.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ut.fromSegments(t.noDocument.path),a=Ha(t.noDocument.readTime);e=Te.newNoDocument(i,a),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return pt(56709);{const i=ut.fromSegments(t.unknownDocument.path),a=Ha(t.unknownDocument.version);e=Te.newUnknownDocument(i,a)}}return t.readTime&&e.setReadTime((function(a){const l=new $t(a[0],a[1]);return vt.fromTimestamp(l)})(t.readTime)),e}function pS(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Rd(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=(function(l,u){return{name:wd(l,u.key),fields:u.data.value.mapValue.fields,updateTime:Cl(l,u.version.toTimestamp()),createTime:Cl(l,u.createTime.toTimestamp())}})(n.yt,t);else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:qa(t.version)};else{if(!t.isUnknownDocument())return pt(57904,{document:t});i.unknownDocument={path:e.path.toArray(),version:qa(t.version)}}return i}function Rd(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function qa(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ha(n){const t=new $t(n.seconds,n.nanoseconds);return vt.fromTimestamp(t)}function Ia(n,t){const e=(t.baseMutations||[]).map((l=>qy(n.yt,l)));for(let l=0;l<t.mutations.length-1;++l){const u=t.mutations[l];if(l+1<t.mutations.length&&t.mutations[l+1].transform!==void 0){const f=t.mutations[l+1];u.updateTransforms=f.transform.fieldTransforms,t.mutations.splice(l+1,1),++l}}const i=t.mutations.map((l=>qy(n.yt,l))),a=$t.fromMillis(t.localWriteTimeMs);return new nv(t.batchId,a,e,i)}function oc(n){const t=Ha(n.readTime),e=n.lastLimboFreeSnapshotVersion!==void 0?Ha(n.lastLimboFreeSnapshotVersion):vt.min();let i;return i=(function(l){return l.documents!==void 0})(n.query)?(function(l){const u=l.documents.length;return yt(u===1,1966,{count:u}),ni(Z_(PR(l.documents[0])))})(n.query):(function(l){return ni(kR(l))})(n.query),new ps(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Me.fromBase64String(n.resumeToken))}function zR(n,t){const e=qa(t.snapshotVersion),i=qa(t.lastLimboFreeSnapshotVersion);let a;a=Ad(t.target)?NR(n.yt,t.target):OR(n.yt,t.target).ft;const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Fa(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function FR(n){const t=kR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Sd(t,t.limit,"L"):t}function Kg(n,t){return new sv(t.largestBatchId,qy(n.yt,t.overlayMutation))}function gS(n,t){const e=t.path.lastSegment();return[n,cn(t.path.popLast()),e]}function yS(n,t,e,i){return{indexId:n,uid:t,sequenceNumber:e,readTime:qa(i.readTime),documentKey:cn(i.documentKey.path),largestBatchId:i.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{getBundleMetadata(t,e){return _S(t).get(e).next((i=>{if(i)return(function(l){return{id:l.bundleId,createTime:Ha(l.createTime),version:l.version}})(i)}))}saveBundleMetadata(t,e){return _S(t).put((function(a){return{bundleId:a.id,createTime:qa(yn(a.createTime)),version:a.version}})(e))}getNamedQuery(t,e){return vS(t).get(e).next((i=>{if(i)return(function(l){return{name:l.name,query:FR(l.bundledQuery),readTime:Ha(l.readTime)}})(i)}))}saveNamedQuery(t,e){return vS(t).put((function(a){return{name:a.name,readTime:qa(yn(a.readTime)),bundledQuery:a.bundledQuery}})(e))}}function _S(n){return je(n,Xd)}function vS(n){return je(n,$d)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(t,e){this.serializer=t,this.userId=e}static wt(t,e){const i=e.uid||"";return new rm(t,i)}getOverlay(t,e){return Zu(t).get(gS(this.userId,e)).next((i=>i?Kg(this.serializer,i):null))}getOverlays(t,e){const i=Ni();return z.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,e,i){const a=[];return i.forEach(((l,u)=>{const f=new sv(e,u);a.push(this.St(t,f))})),z.waitFor(a)}removeOverlaysForBatchId(t,e,i){const a=new Set;e.forEach((u=>a.add(cn(u.getCollectionPath()))));const l=[];return a.forEach((u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);l.push(Zu(t).Z(Py,f))})),z.waitFor(l)}getOverlaysForCollection(t,e,i){const a=Ni(),l=cn(e),u=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Zu(t).J(Py,u).next((f=>{for(const m of f){const p=Kg(this.serializer,m);a.set(p.getKey(),p)}return a}))}getOverlaysForCollectionGroup(t,e,i,a){const l=Ni();let u;const f=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Zu(t).ee({index:HI,range:f},((m,p,y)=>{const T=Kg(this.serializer,p);l.size()<a||T.largestBatchId===u?(l.set(T.getKey(),T),u=T.largestBatchId):y.done()})).next((()=>l))}St(t,e){return Zu(t).put((function(a,l,u){const[f,m,p]=gS(l,u.mutation.key);return{userId:l,collectionPath:m,documentId:p,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Id(a.yt,u.mutation)}})(this.serializer,this.userId,e))}}function Zu(n){return je(n,Wd)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{bt(t){return je(t,Q_)}getSessionToken(t){return this.bt(t).get("sessionToken").next((e=>{const i=e?.value;return i?Me.fromUint8Array(i):Me.EMPTY_BYTE_STRING}))}setSessionToken(t,e){return this.bt(t).put({name:"sessionToken",value:e.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(ce(t.integerValue));else if("doubleValue"in t){const i=ce(t.doubleValue);isNaN(i)?this.Ft(e,13):(this.Ft(e,15),Mc(i)?e.Mt(0):e.Mt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Ft(e,20),typeof i=="string"&&(i=Ss(i)),e.xt(`${i.seconds||""}`),e.Mt(i.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(ws(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Ft(e,45),e.Mt(i.latitude||0),e.Mt(i.longitude||0)}else"mapValue"in t?nR(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):tm(t)?this.kt(t.mapValue,e):(this.qt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.Qt(t.arrayValue,e),this.Nt(e)):pt(19022,{$t:t})}Ot(t,e){this.Ft(e,25),this.Ut(t,e)}Ut(t,e){e.xt(t)}qt(t,e){const i=t.fields||{};this.Ft(e,55);for(const a of Object.keys(i))this.Ot(a,e),this.Ct(i[a],e)}kt(t,e){const i=t.fields||{};this.Ft(e,53);const a=bl,l=i[a].arrayValue?.values?.length||0;this.Ft(e,15),e.Mt(ce(l)),this.Ot(a,e),this.Ct(i[a],e)}Qt(t,e){const i=t.values||[];this.Ft(e,50);for(const a of i)this.Ct(a,e)}Lt(t,e){this.Ft(e,37),ut.fromName(t).path.forEach((i=>{this.Ft(e,60),this.Ut(i,e)}))}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}Ra.Kt=new Ra;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=255;function _L(n){if(n===0)return 8;let t=0;return n>>4||(t+=4,n<<=4),n>>6||(t+=2,n<<=2),n>>7||(t+=1),t}function TS(n){const t=64-(function(i){let a=0;for(let l=0;l<8;++l){const u=_L(255&i[l]);if(a+=u,u!==8)break}return a})(n);return Math.ceil(t/8)}class vL{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Gt(i.value),i=e.next();this.zt()}jt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Jt(i.value),i=e.next();this.Ht()}Yt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const a=e.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Jt(i);else if(i<2048)this.Jt(960|i>>>6),this.Jt(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Jt(480|i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i);else{const a=e.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(t){const e=this.en(t),i=TS(e);this.tn(1+i),this.buffer[this.position++]=255&i;for(let a=e.length-i;a<e.length;++a)this.buffer[this.position++]=255&e[a]}nn(t){const e=this.en(t),i=TS(e);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let a=e.length-i;a<e.length;++a)this.buffer[this.position++]=~(255&e[a])}rn(){this.sn(Qo),this.sn(255)}_n(){this.an(Qo),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const e=(function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)})(t),i=!!(128&e[0]);e[0]^=i?255:128;for(let a=1;a<e.length;++a)e[a]^=i?255:0;return e}Gt(t){const e=255&t;e===0?(this.sn(0),this.sn(255)):e===Qo?(this.sn(Qo),this.sn(0)):this.sn(e)}Jt(t){const e=255&t;e===0?(this.an(0),this.an(255)):e===Qo?(this.an(Qo),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class TL{constructor(t){this.cn=t}Bt(t){this.cn.Wt(t)}xt(t){this.cn.Yt(t)}Mt(t){this.cn.Xt(t)}vt(){this.cn.rn()}}class EL{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class Ju{constructor(){this.cn=new vL,this.ln=new TL(this.cn),this.hn=new EL(this.cn)}seed(t){this.cn.seed(t)}Pn(t){return t===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t,e,i,a){this.Tn=t,this.In=e,this.En=i,this.dn=a}An(){const t=this.dn.length,e=t===0||this.dn[t-1]===255?t+1:t,i=new Uint8Array(e);return i.set(this.dn,0),e!==t?i.set([0],this.dn.length):++i[i.length-1],new xa(this.Tn,this.In,this.En,i)}Rn(t,e,i){return{indexId:this.Tn,uid:t,arrayValue:id(this.En),directionalValue:id(this.dn),orderedDocumentKey:id(e),documentKey:i.path.toArray()}}Vn(t,e,i){const a=this.Rn(t,e,i);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function ar(n,t){let e=n.Tn-t.Tn;return e!==0?e:(e=ES(n.En,t.En),e!==0?e:(e=ES(n.dn,t.dn),e!==0?e:ut.comparator(n.In,t.In)))}function ES(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(i!==0)return i}return n.length-t.length}function id(n){return yI()?(function(e){let i="";for(let a=0;a<e.length;a++)i+=String.fromCharCode(e[a]);return i})(n):n}function AS(n){return typeof n!="string"?n:(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(n)}class bS{constructor(t){this.mn=new Zt(((e,i)=>pe.comparator(e.field,i.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.fn=t.orderBy,this.gn=[];for(const e of t.filters){const i=e;i.isInequality()?this.mn=this.mn.add(i):this.gn.push(i)}}get pn(){return this.mn.size>1}yn(t){if(yt(t.collectionGroup===this.collectionId,49279),this.pn)return!1;const e=Cy(t);if(e!==void 0&&!this.wn(e))return!1;const i=ba(t);let a=new Set,l=0,u=0;for(;l<i.length&&this.wn(i[l]);++l)a=a.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(this.mn.size>0){const f=this.mn.getIterator().getNext();if(!a.has(f.field.canonicalString())){const m=i[l];if(!this.Sn(f,m)||!this.bn(this.fn[u++],m))return!1}++l}for(;l<i.length;++l){const f=i[l];if(u>=this.fn.length||!this.bn(this.fn[u++],f))return!1}return!0}Dn(){if(this.pn)return null;let t=new Zt(pe.comparator);const e=[];for(const i of this.gn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")e.push(new Xf(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new Xf(i.field,0))}for(const i of this.fn)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new Xf(i.field,i.dir==="asc"?0:1)));return new yd(yd.UNKNOWN_ID,this.collectionId,e,Pc.empty())}wn(t){for(const e of this.gn)if(this.Sn(e,t))return!0;return!1}Sn(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const i=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===i}bn(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(n){if(yt(n instanceof Ut||n instanceof Wt,20012),n instanceof Ut){if(n instanceof hR){const e=n.value.arrayValue?.values?.map((i=>Ut.create(n.field,"==",i)))||[];return Wt.create(e,"or")}return n}const t=n.filters.map((e=>qR(e)));return Wt.create(t,n.op)}function AL(n){if(n.getFilters().length===0)return[];const t=Ky(qR(n));return yt(HR(t),7391),Hy(t)||Gy(t)?[t]:t.getFilters()}function Hy(n){return n instanceof Ut}function Gy(n){return n instanceof Wt&&W_(n)}function HR(n){return Hy(n)||Gy(n)||(function(e){if(e instanceof Wt&&ky(e)){for(const i of e.getFilters())if(!Hy(i)&&!Gy(i))return!1;return!0}return!1})(n)}function Ky(n){if(yt(n instanceof Ut||n instanceof Wt,34018),n instanceof Ut)return n;if(n.filters.length===1)return Ky(n.filters[0]);const t=n.filters.map((i=>Ky(i)));let e=Wt.create(t,n.op);return e=xd(e),HR(e)?e:(yt(e instanceof Wt,64498),yt(wl(e),40251),yt(e.filters.length>1,57927),e.filters.reduce(((i,a)=>ov(i,a))))}function ov(n,t){let e;return yt(n instanceof Ut||n instanceof Wt,38388),yt(t instanceof Ut||t instanceof Wt,25473),e=n instanceof Ut?t instanceof Ut?(function(a,l){return Wt.create([a,l],"and")})(n,t):SS(n,t):t instanceof Ut?SS(t,n):(function(a,l){if(yt(a.filters.length>0&&l.filters.length>0,48005),wl(a)&&wl(l))return lR(a,l.getFilters());const u=ky(a)?a:l,f=ky(a)?l:a,m=u.filters.map((p=>ov(p,f)));return Wt.create(m,"or")})(n,t),xd(e)}function SS(n,t){if(wl(t))return lR(t,n.getFilters());{const e=t.filters.map((i=>ov(n,i)));return Wt.create(e,"or")}}function xd(n){if(yt(n instanceof Ut||n instanceof Wt,11850),n instanceof Ut)return n;const t=n.getFilters();if(t.length===1)return xd(t[0]);if(aR(n))return n;const e=t.map((a=>xd(a))),i=[];return e.forEach((a=>{a instanceof Ut?i.push(a):a instanceof Wt&&(a.op===n.op?i.push(...a.filters):i.push(a))})),i.length===1?i[0]:Wt.create(i,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.Cn=new lv}addToCollectionParentIndex(t,e){return this.Cn.add(e),z.resolve()}getCollectionParents(t,e){return z.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return z.resolve()}deleteFieldIndex(t,e){return z.resolve()}deleteAllFieldIndexes(t){return z.resolve()}createTargetIndexes(t,e){return z.resolve()}getDocumentsMatchingTarget(t,e){return z.resolve(null)}getIndexType(t,e){return z.resolve(0)}getFieldIndexes(t,e){return z.resolve([])}getNextCollectionGroupToUpdate(t){return z.resolve(null)}getMinOffset(t,e){return z.resolve(kn.min())}getMinOffsetFromCollectionGroup(t,e){return z.resolve(kn.min())}updateCollectionGroup(t,e,i){return z.resolve()}updateIndexEntries(t,e){return z.resolve()}}class lv{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new Zt(Ht.comparator),l=!a.has(i);return this.index[e]=a.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new Zt(Ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="IndexedDbIndexManager",Lf=new Uint8Array(0);class SL{constructor(t,e){this.databaseId=e,this.vn=new lv,this.Fn=new Cs((i=>Fa(i)),((i,a)=>Wc(i,a))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.vn.has(e)){const i=e.lastSegment(),a=e.popLast();t.addOnCommittedListener((()=>{this.vn.add(e)}));const l={collectionId:i,parent:cn(a)};return IS(t).put(l)}return z.resolve()}getCollectionParents(t,e){const i=[],a=IDBKeyRange.bound([e,""],[PI(e),""],!1,!0);return IS(t).J(a).next((l=>{for(const u of l){if(u.collectionId!==e)break;i.push(Mi(u.parent))}return i}))}addFieldIndex(t,e){const i=tc(t),a=(function(f){return{indexId:f.indexId,collectionGroup:f.collectionGroup,fields:f.fields.map((m=>[m.fieldPath.canonicalString(),m.kind]))}})(e);delete a.indexId;const l=i.add(a);if(e.indexState){const u=Xo(t);return l.next((f=>{u.put(yS(f,this.uid,e.indexState.sequenceNumber,e.indexState.offset))}))}return l.next()}deleteFieldIndex(t,e){const i=tc(t),a=Xo(t),l=Yo(t);return i.delete(e.indexId).next((()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const e=tc(t),i=Yo(t),a=Xo(t);return e.Z().next((()=>i.Z())).next((()=>a.Z()))}createTargetIndexes(t,e){return z.forEach(this.Mn(e),(i=>this.getIndexType(t,i).next((a=>{if(a===0||a===1){const l=new bS(i).Dn();if(l!=null)return this.addFieldIndex(t,l)}}))))}getDocumentsMatchingTarget(t,e){const i=Yo(t);let a=!0;const l=new Map;return z.forEach(this.Mn(e),(u=>this.xn(t,u).next((f=>{a&&(a=!!f),l.set(u,f)})))).next((()=>{if(a){let u=Pt();const f=[];return z.forEach(l,((m,p)=>{rt(wS,`Using index ${(function(Q){return`id=${Q.indexId}|cg=${Q.collectionGroup}|f=${Q.fields.map((ct=>`${ct.fieldPath}:${ct.kind}`)).join(",")}`})(m)} to execute ${Fa(e)}`);const y=(function(Q,ct){const nt=Cy(ct);if(nt===void 0)return null;for(const ft of bd(Q,nt.fieldPath))switch(ft.op){case"array-contains-any":return ft.value.arrayValue.values||[];case"array-contains":return[ft.value]}return null})(p,m),T=(function(Q,ct){const nt=new Map;for(const ft of ba(ct))for(const V of bd(Q,ft.fieldPath))switch(V.op){case"==":case"in":nt.set(ft.fieldPath.canonicalString(),V.value);break;case"not-in":case"!=":return nt.set(ft.fieldPath.canonicalString(),V.value),Array.from(nt.values())}return null})(p,m),A=(function(Q,ct){const nt=[];let ft=!0;for(const V of ba(ct)){const w=V.kind===0?iS(Q,V.fieldPath,Q.startAt):sS(Q,V.fieldPath,Q.startAt);nt.push(w.value),ft&&(ft=w.inclusive)}return new xr(nt,ft)})(p,m),I=(function(Q,ct){const nt=[];let ft=!0;for(const V of ba(ct)){const w=V.kind===0?sS(Q,V.fieldPath,Q.endAt):iS(Q,V.fieldPath,Q.endAt);nt.push(w.value),ft&&(ft=w.inclusive)}return new xr(nt,ft)})(p,m),C=this.On(m,p,A),U=this.On(m,p,I),j=this.Nn(m,p,T),Z=this.Bn(m.indexId,y,C,A.inclusive,U,I.inclusive,j);return z.forEach(Z,(tt=>i.Y(tt,e.limit).next((Q=>{Q.forEach((ct=>{const nt=ut.fromSegments(ct.documentKey);u.has(nt)||(u=u.add(nt),f.push(nt))}))}))))})).next((()=>f))}return z.resolve(null)}))}Mn(t){let e=this.Fn.get(t);return e||(t.filters.length===0?e=[t]:e=AL(Wt.create(t.filters,"and")).map((i=>Uy(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt))),this.Fn.set(t,e),e)}Bn(t,e,i,a,l,u,f){const m=(e!=null?e.length:1)*Math.max(i.length,l.length),p=m/(e!=null?e.length:1),y=[];for(let T=0;T<m;++T){const A=e?this.Ln(e[T/p]):Lf,I=this.kn(t,A,i[T%p],a),C=this.qn(t,A,l[T%p],u),U=f.map((j=>this.kn(t,A,j,!0)));y.push(...this.createRange(I,C,U))}return y}kn(t,e,i,a){const l=new xa(t,ut.empty(),e,i);return a?l:l.An()}qn(t,e,i,a){const l=new xa(t,ut.empty(),e,i);return a?l.An():l}xn(t,e){const i=new bS(e),a=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,a).next((l=>{let u=null;for(const f of l)i.yn(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u}))}getIndexType(t,e){let i=2;const a=this.Mn(e);return z.forEach(a,(l=>this.xn(t,l).next((u=>{u?i!==0&&u.fields.length<(function(m){let p=new Zt(pe.comparator),y=!1;for(const T of m.filters)for(const A of T.getFlattenedFilters())A.field.isKeyField()||(A.op==="array-contains"||A.op==="array-contains-any"?y=!0:p=p.add(A.field));for(const T of m.orderBy)T.field.isKeyField()||(p=p.add(T.field));return p.size+(y?1:0)})(l)&&(i=1):i=0})))).next((()=>(function(u){return u.limit!==null})(e)&&a.length>1&&i===2?1:i))}Qn(t,e){const i=new Ju;for(const a of ba(t)){const l=e.data.field(a.fieldPath);if(l==null)return null;const u=i.Pn(a.kind);Ra.Kt.Dt(l,u)}return i.un()}Ln(t){const e=new Ju;return Ra.Kt.Dt(t,e.Pn(0)),e.un()}$n(t,e){const i=new Ju;return Ra.Kt.Dt(za(this.databaseId,e),i.Pn((function(l){const u=ba(l);return u.length===0?0:u[u.length-1].kind})(t))),i.un()}Nn(t,e,i){if(i===null)return[];let a=[];a.push(new Ju);let l=0;for(const u of ba(t)){const f=i[l++];for(const m of a)if(this.Un(e,u.fieldPath)&&Bc(f))a=this.Kn(a,u,f);else{const p=m.Pn(u.kind);Ra.Kt.Dt(f,p)}}return this.Wn(a)}On(t,e,i){return this.Nn(t,e,i.position)}Wn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].un();return e}Kn(t,e,i){const a=[...t],l=[];for(const u of i.arrayValue.values||[])for(const f of a){const m=new Ju;m.seed(f.un()),Ra.Kt.Dt(u,m.Pn(e.kind)),l.push(m)}return l}Un(t,e){return!!t.filters.find((i=>i instanceof Ut&&i.field.isEqual(e)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(t,e){const i=tc(t),a=Xo(t);return(e?i.J(Vy,IDBKeyRange.bound(e,e)):i.J()).next((l=>{const u=[];return z.forEach(l,(f=>a.get([f.indexId,this.uid]).next((m=>{u.push((function(y,T){const A=T?new Pc(T.sequenceNumber,new kn(Ha(T.readTime),new ut(Mi(T.documentKey)),T.largestBatchId)):Pc.empty(),I=y.fields.map((([C,U])=>new Xf(pe.fromServerFormat(C),U)));return new yd(y.indexId,y.collectionGroup,I,A)})(f,m))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((e=>e.length===0?null:(e.sort(((i,a)=>{const l=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:Rt(i.collectionGroup,a.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(t,e,i){const a=tc(t),l=Xo(t);return this.Gn(t).next((u=>a.J(Vy,IDBKeyRange.bound(e,e)).next((f=>z.forEach(f,(m=>l.put(yS(m.indexId,this.uid,u,i))))))))}updateIndexEntries(t,e){const i=new Map;return z.forEach(e,((a,l)=>{const u=i.get(a.collectionGroup);return(u?z.resolve(u):this.getFieldIndexes(t,a.collectionGroup)).next((f=>(i.set(a.collectionGroup,f),z.forEach(f,(m=>this.zn(t,a,m).next((p=>{const y=this.jn(l,m);return p.isEqual(y)?z.resolve():this.Jn(t,l,m,p,y)})))))))}))}Hn(t,e,i,a){return Yo(t).put(a.Rn(this.uid,this.$n(i,e.key),e.key))}Yn(t,e,i,a){return Yo(t).delete(a.Vn(this.uid,this.$n(i,e.key),e.key))}zn(t,e,i){const a=Yo(t);let l=new Zt(ar);return a.ee({index:qI,range:IDBKeyRange.only([i.indexId,this.uid,id(this.$n(i,e))])},((u,f)=>{l=l.add(new xa(i.indexId,e,AS(f.arrayValue),AS(f.directionalValue)))})).next((()=>l))}jn(t,e){let i=new Zt(ar);const a=this.Qn(e,t);if(a==null)return i;const l=Cy(e);if(l!=null){const u=t.data.field(l.fieldPath);if(Bc(u))for(const f of u.arrayValue.values||[])i=i.add(new xa(e.indexId,t.key,this.Ln(f),a))}else i=i.add(new xa(e.indexId,t.key,Lf,a));return i}Jn(t,e,i,a,l){rt(wS,"Updating index entries for document '%s'",e.key);const u=[];return(function(m,p,y,T,A){const I=m.getIterator(),C=p.getIterator();let U=Ko(I),j=Ko(C);for(;U||j;){let Z=!1,tt=!1;if(U&&j){const Q=y(U,j);Q<0?tt=!0:Q>0&&(Z=!0)}else U!=null?tt=!0:Z=!0;Z?(T(j),j=Ko(C)):tt?(A(U),U=Ko(I)):(U=Ko(I),j=Ko(C))}})(a,l,ar,(f=>{u.push(this.Hn(t,e,i,f))}),(f=>{u.push(this.Yn(t,e,i,f))})),z.waitFor(u)}Gn(t){let e=1;return Xo(t).ee({index:FI,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,a,l)=>{l.done(),e=a.sequenceNumber+1})).next((()=>e))}createRange(t,e,i){i=i.sort(((u,f)=>ar(u,f))).filter(((u,f,m)=>!f||ar(u,m[f-1])!==0));const a=[];a.push(t);for(const u of i){const f=ar(u,t),m=ar(u,e);if(f===0)a[0]=t.An();else if(f>0&&m<0)a.push(u),a.push(u.An());else if(m>0)break}a.push(e);const l=[];for(let u=0;u<a.length;u+=2){if(this.Zn(a[u],a[u+1]))return[];const f=a[u].Vn(this.uid,Lf,ut.empty()),m=a[u+1].Vn(this.uid,Lf,ut.empty());l.push(IDBKeyRange.bound(f,m))}return l}Zn(t,e){return ar(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(RS)}getMinOffset(t,e){return z.mapArray(this.Mn(e),(i=>this.xn(t,i).next((a=>a||pt(44426))))).next(RS)}}function IS(n){return je(n,kc)}function Yo(n){return je(n,_c)}function tc(n){return je(n,K_)}function Xo(n){return je(n,yc)}function RS(n){yt(n.length!==0,28825);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const a=n[i].indexState.offset;q_(a,t)<0&&(t=a),e<a.largestBatchId&&(e=a.largestBatchId)}return new kn(t.readTime,t.documentKey,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GR=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n,t,e){const i=n.store(hi),a=n.store(vl),l=[],u=IDBKeyRange.only(e.batchId);let f=0;const m=i.ee({range:u},((y,T,A)=>(f++,A.delete())));l.push(m.next((()=>{yt(f===1,47070,{batchId:e.batchId})})));const p=[];for(const y of e.mutations){const T=BI(t,y.key.path,e.batchId);l.push(a.delete(T)),p.push(y.key)}return z.waitFor(l).next((()=>p))}function Cd(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw pt(14731);t=n.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(GR,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);class am{constructor(t,e,i,a){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=a,this.Xn={}}static wt(t,e,i,a){yt(t.uid!=="",64387);const l=t.isAuthenticated()?t.uid:"";return new am(l,e,i,a)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return or(t).ee({index:Va,range:i},((a,l,u)=>{e=!1,u.done()})).next((()=>e))}addMutationBatch(t,e,i,a){const l=el(t),u=or(t);return u.add({}).next((f=>{yt(typeof f=="number",49019);const m=new nv(f,e,i,a),p=(function(I,C,U){const j=U.baseMutations.map((tt=>Id(I.yt,tt))),Z=U.mutations.map((tt=>Id(I.yt,tt)));return{userId:C,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:j,mutations:Z}})(this.serializer,this.userId,m),y=[];let T=new Zt(((A,I)=>Rt(A.canonicalString(),I.canonicalString())));for(const A of a){const I=BI(this.userId,A.key.path,f);T=T.add(A.key.path.popLast()),y.push(u.put(p)),y.push(l.put(I,Jk))}return T.forEach((A=>{y.push(this.indexManager.addToCollectionParentIndex(t,A))})),t.addOnCommittedListener((()=>{this.Xn[f]=m.keys()})),z.waitFor(y).next((()=>m))}))}lookupMutationBatch(t,e){return or(t).get(e).next((i=>i?(yt(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:e}),Ia(this.serializer,i)):null))}er(t,e){return this.Xn[e]?z.resolve(this.Xn[e]):this.lookupMutationBatch(t,e).next((i=>{if(i){const a=i.keys();return this.Xn[e]=a,a}return null}))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return or(t).ee({index:Va,range:a},((u,f,m)=>{f.userId===this.userId&&(yt(f.batchId>=i,47524,{tr:i}),l=Ia(this.serializer,f)),m.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=Na;return or(t).ee({index:Va,range:e,reverse:!0},((a,l,u)=>{i=l.batchId,u.done()})).next((()=>i))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,Na],[this.userId,Number.POSITIVE_INFINITY]);return or(t).J(Va,e).next((i=>i.map((a=>Ia(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=$f(this.userId,e.path),a=IDBKeyRange.lowerBound(i),l=[];return el(t).ee({range:a},((u,f,m)=>{const[p,y,T]=u,A=Mi(y);if(p===this.userId&&e.path.isEqual(A))return or(t).get(T).next((I=>{if(!I)throw pt(61480,{nr:u,batchId:T});yt(I.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:I.userId,batchId:T}),l.push(Ia(this.serializer,I))}));m.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Zt(Rt);const a=[];return e.forEach((l=>{const u=$f(this.userId,l.path),f=IDBKeyRange.lowerBound(u),m=el(t).ee({range:f},((p,y,T)=>{const[A,I,C]=p,U=Mi(I);A===this.userId&&l.path.isEqual(U)?i=i.add(C):T.done()}));a.push(m)})),z.waitFor(a).next((()=>this.rr(t,i)))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1,l=$f(this.userId,i),u=IDBKeyRange.lowerBound(l);let f=new Zt(Rt);return el(t).ee({range:u},((m,p,y)=>{const[T,A,I]=m,C=Mi(A);T===this.userId&&i.isPrefixOf(C)?C.length===a&&(f=f.add(I)):y.done()})).next((()=>this.rr(t,f)))}rr(t,e){const i=[],a=[];return e.forEach((l=>{a.push(or(t).get(l).next((u=>{if(u===null)throw pt(35274,{batchId:l});yt(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:l}),i.push(Ia(this.serializer,u))})))})),z.waitFor(a).next((()=>i))}removeMutationBatch(t,e){return KR(t.le,this.userId,e).next((i=>(t.addOnCommittedListener((()=>{this.ir(e.batchId)})),z.forEach(i,(a=>this.referenceDelegate.markPotentiallyOrphaned(t,a))))))}ir(t){delete this.Xn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return z.resolve();const i=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),a=[];return el(t).ee({range:i},((l,u,f)=>{if(l[0]===this.userId){const m=Mi(l[1]);a.push(m)}else f.done()})).next((()=>{yt(a.length===0,56720,{sr:a.map((l=>l.canonicalString()))})}))}))}containsKey(t,e){return QR(t,this.userId,e)}_r(t){return YR(t).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:Na,lastStreamToken:""}))}}function QR(n,t,e){const i=$f(t,e.path),a=i[1],l=IDBKeyRange.lowerBound(i);let u=!1;return el(n).ee({range:l,X:!0},((f,m,p)=>{const[y,T,A]=f;y===t&&T===a&&(u=!0),p.done()})).next((()=>u))}function or(n){return je(n,hi)}function el(n){return je(n,vl)}function YR(n){return je(n,Nc)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ga(0)}static cr(){return new Ga(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.lr(t).next((e=>{const i=new Ga(e.highestTargetId);return e.highestTargetId=i.next(),this.hr(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.lr(t).next((e=>vt.fromTimestamp(new $t(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.lr(t).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(t,e,i){return this.lr(t).next((a=>(a.highestListenSequenceNumber=e,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),e>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=e),this.hr(t,a))))}addTargetData(t,e){return this.Pr(t,e).next((()=>this.lr(t).next((i=>(i.targetCount+=1,this.Tr(e,i),this.hr(t,i))))))}updateTargetData(t,e){return this.Pr(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>$o(t).delete(e.targetId))).next((()=>this.lr(t))).next((i=>(yt(i.targetCount>0,8065),i.targetCount-=1,this.hr(t,i))))}removeTargets(t,e,i){let a=0;const l=[];return $o(t).ee(((u,f)=>{const m=oc(f);m.sequenceNumber<=e&&i.get(m.targetId)===null&&(a++,l.push(this.removeTargetData(t,m)))})).next((()=>z.waitFor(l))).next((()=>a))}forEachTarget(t,e){return $o(t).ee(((i,a)=>{const l=oc(a);e(l)}))}lr(t){return CS(t).get(Td).next((e=>(yt(e!==null,2888),e)))}hr(t,e){return CS(t).put(Td,e)}Pr(t,e){return $o(t).put(zR(this.serializer,e))}Tr(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.lr(t).next((e=>e.targetCount))}getTargetData(t,e){const i=Fa(e),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return $o(t).ee({range:a,index:zI},((u,f,m)=>{const p=oc(f);Wc(e,p.target)&&(l=p,m.done())})).next((()=>l))}addMatchingKeys(t,e,i){const a=[],l=hr(t);return e.forEach((u=>{const f=cn(u.path);a.push(l.put({targetId:i,path:f})),a.push(this.referenceDelegate.addReference(t,i,u))})),z.waitFor(a)}removeMatchingKeys(t,e,i){const a=hr(t);return z.forEach(e,(l=>{const u=cn(l.path);return z.waitFor([a.delete([i,u]),this.referenceDelegate.removeReference(t,i,l)])}))}removeMatchingKeysForTargetId(t,e){const i=hr(t),a=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),a=hr(t);let l=Pt();return a.ee({range:i,X:!0},((u,f,m)=>{const p=Mi(u[1]),y=new ut(p);l=l.add(y)})).next((()=>l))}containsKey(t,e){const i=cn(e.path),a=IDBKeyRange.bound([i],[PI(i)],!1,!0);let l=0;return hr(t).ee({index:G_,X:!0,range:a},(([u,f],m,p)=>{u!==0&&(l++,p.done())})).next((()=>l>0))}At(t,e){return $o(t).get(e).next((i=>i?oc(i):null))}}function $o(n){return je(n,Tl)}function CS(n){return je(n,Oa)}function hr(n){return je(n,El)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="LruGarbageCollector",IL=1048576;function VS([n,t],[e,i]){const a=Rt(n,e);return a===0?Rt(t,i):a}class RL{constructor(t){this.Ir=t,this.buffer=new Zt(VS),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();VS(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class XR{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(DS,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Mr(e)?rt(DS,"Ignoring IndexedDB error during garbage collection: ",e):await Ya(e)}await this.Vr(3e5)}))}}class xL{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return z.resolve(Jn.ce);const i=new RL(e);return this.mr.forEachTarget(t,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(xS)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xS):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,a,l,u,f,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,u=Date.now(),this.nthSequenceNumber(t,a)))).next((T=>(i=T,f=Date.now(),this.removeTargets(t,i,e)))).next((T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(t,i)))).next((T=>(p=Date.now(),Wo()<=Lt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function $R(n,t){return new xL(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(t,e){this.db=t,this.garbageCollector=$R(this,e)}gr(t){const e=this.wr(t);return this.db.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pr(t,e){return this.Sr(t,((i,a)=>e(a)))}addReference(t,e,i){return Uf(t,i)}removeReference(t,e,i){return Uf(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Uf(t,e)}br(t,e){return(function(a,l){let u=!1;return YR(a).te((f=>QR(a,f,l).next((m=>(m&&(u=!0),z.resolve(!m)))))).next((()=>u))})(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Sr(t,((u,f)=>{if(f<=e){const m=this.br(t,u).next((p=>{if(!p)return l++,i.getEntry(t,u).next((()=>(i.removeEntry(u,vt.min()),hr(t).delete((function(T){return[0,cn(T.path)]})(u)))))}));a.push(m)}})).next((()=>z.waitFor(a))).next((()=>i.apply(t))).next((()=>l))}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Uf(t,e)}Sr(t,e){const i=hr(t);let a,l=Jn.ce;return i.ee({index:G_},(([u,f],{path:m,sequenceNumber:p})=>{u===0?(l!==Jn.ce&&e(new ut(Mi(a)),l),l=p,a=m):l=Jn.ce})).next((()=>{l!==Jn.ce&&e(new ut(Mi(a)),l)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Uf(n,t){return hr(n).put((function(i,a){return{targetId:0,path:cn(i.path),sequenceNumber:a}})(t,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.changes=new Cs((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Te.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?z.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return va(t).put(i)}removeEntry(t,e,i){return va(t).delete((function(l,u){const f=l.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],Rd(u),f[f.length-1]]})(e,i))}updateMetadata(t,e){return this.getMetadata(t).next((i=>(i.byteSize+=e,this.Dr(t,i))))}getEntry(t,e){let i=Te.newInvalidDocument(e);return va(t).ee({index:Wf,range:IDBKeyRange.only(ec(e))},((a,l)=>{i=this.Cr(e,l)})).next((()=>i))}vr(t,e){let i={size:0,document:Te.newInvalidDocument(e)};return va(t).ee({index:Wf,range:IDBKeyRange.only(ec(e))},((a,l)=>{i={document:this.Cr(e,l),size:Cd(l)}})).next((()=>i))}getEntries(t,e){let i=Nn();return this.Fr(t,e,((a,l)=>{const u=this.Cr(a,l);i=i.insert(a,u)})).next((()=>i))}Mr(t,e){let i=Nn(),a=new fe(ut.comparator);return this.Fr(t,e,((l,u)=>{const f=this.Cr(l,u);i=i.insert(l,f),a=a.insert(l,Cd(u))})).next((()=>({documents:i,Or:a})))}Fr(t,e,i){if(e.isEmpty())return z.resolve();let a=new Zt(NS);e.forEach((m=>a=a.add(m)));const l=IDBKeyRange.bound(ec(a.first()),ec(a.last())),u=a.getIterator();let f=u.getNext();return va(t).ee({index:Wf,range:l},((m,p,y)=>{const T=ut.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;f&&NS(f,T)<0;)i(f,null),f=u.getNext();f&&f.isEqual(T)&&(i(f,p),f=u.hasNext()?u.getNext():null),f?y.j(ec(f)):y.done()})).next((()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(t,e,i,a,l){const u=e.path,f=[u.popLast().toArray(),u.lastSegment(),Rd(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return va(t).J(IDBKeyRange.bound(f,m,!0)).next((p=>{l?.incrementDocumentReadCount(p.length);let y=Nn();for(const T of p){const A=this.Cr(ut.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);A.isFoundDocument()&&(Zc(e,A)||a.has(A.key))&&(y=y.insert(A.key,A))}return y}))}getAllFromCollectionGroup(t,e,i,a){let l=Nn();const u=MS(e,i),f=MS(e,kn.max());return va(t).ee({index:jI,range:IDBKeyRange.bound(u,f,!0)},((m,p,y)=>{const T=this.Cr(ut.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(T.key,T),l.size===a&&y.done()})).next((()=>l))}newChangeBuffer(t){return new VL(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((e=>e.byteSize))}getMetadata(t){return PS(t).get(Dy).next((e=>(yt(!!e,20021),e)))}Dr(t,e){return PS(t).put(Dy,e)}Cr(t,e){if(e){const i=pL(this.serializer,e);if(!(i.isNoDocument()&&i.version.isEqual(vt.min())))return i}return Te.newInvalidDocument(t)}}function ZR(n){return new DL(n)}class VL extends WR{constructor(t,e){super(),this.Nr=t,this.trackRemovals=e,this.Br=new Cs((i=>i.toString()),((i,a)=>i.isEqual(a)))}applyChanges(t){const e=[];let i=0,a=new Zt(((l,u)=>Rt(l.canonicalString(),u.canonicalString())));return this.changes.forEach(((l,u)=>{const f=this.Br.get(l);if(e.push(this.Nr.removeEntry(t,l,f.readTime)),u.isValidDocument()){const m=pS(this.Nr.serializer,u);a=a.add(l.path.popLast());const p=Cd(m);i+=p-f.size,e.push(this.Nr.addEntry(t,l,m))}else if(i-=f.size,this.trackRemovals){const m=pS(this.Nr.serializer,u.convertToNoDocument(vt.min()));e.push(this.Nr.addEntry(t,l,m))}})),a.forEach((l=>{e.push(this.Nr.indexManager.addToCollectionParentIndex(t,l))})),e.push(this.Nr.updateMetadata(t,i)),z.waitFor(e)}getFromCache(t,e){return this.Nr.vr(t,e).next((i=>(this.Br.set(e,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(t,e){return this.Nr.Mr(t,e).next((({documents:i,Or:a})=>(a.forEach(((l,u)=>{this.Br.set(l,{size:u,readTime:i.get(l).readTime})})),i)))}}function PS(n){return je(n,Oc)}function va(n){return je(n,vd)}function ec(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function MS(n,t){const e=t.documentKey.path.toArray();return[n,Rd(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function NS(n,t){const e=n.path.toArray(),i=t.path.toArray();let a=0;for(let l=0;l<e.length-2&&l<i.length-2;++l)if(a=Rt(e[l],i[l]),a)return a;return a=Rt(e.length,i.length),a||(a=Rt(e[e.length-2],i[i.length-2]),a||Rt(e[e.length-1],i[i.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&Ec(i.mutation,a,ti.empty(),$t.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Pt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Pt()){const a=Ni();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((l=>{let u=rc();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const i=Ni();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Pt())))}populateOverlays(t,e,i){const a=[];return i.forEach((l=>{e.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((u,f)=>{e.set(u,f)}))}))}computeViews(t,e,i,a){let l=Nn();const u=Tc(),f=(function(){return Tc()})();return e.forEach(((m,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Nr)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Ec(y.mutation,p,y.mutation.getFieldMask(),$t.now())):u.set(p.key,ti.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>u.set(p,y))),e.forEach(((p,y)=>f.set(p,new PL(y,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(t,e){const i=Tc();let a=new fe(((u,f)=>u-f)),l=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const f of u)f.keys().forEach((m=>{const p=e.get(m);if(p===null)return;let y=i.get(m)||ti.empty();y=f.applyToLocalView(p,y),i.set(m,y);const T=(a.get(f.batchId)||Pt()).add(m);a=a.insert(f.batchId,T)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,T=gR();y.forEach((A=>{if(!l.has(A)){const I=bR(e.get(A),i.get(A));I!==null&&T.set(A,I),l=l.add(A)}})),u.push(this.documentOverlayCache.saveOverlays(t,p,T))}return z.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return(function(u){return ut.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):J_(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-l.size):z.resolve(Ni());let f=Vc,m=l;return u.next((p=>z.forEach(p,((y,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(y)?z.resolve():this.remoteDocumentCache.getEntry(t,y).next((A=>{m=m.insert(y,A)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,Pt()))).next((y=>({batchId:f,changes:pR(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ut(e)).next((i=>{let a=rc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const l=e.collectionGroup;let u=rc();return this.indexManager.getCollectionParents(t,l).next((f=>z.forEach(f,(m=>{const p=(function(T,A){return new $a(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,i,a).next((y=>{y.forEach(((T,A)=>{u=u.insert(T,A)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,l,a)))).next((u=>{l.forEach(((m,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Te.newInvalidDocument(y)))}));let f=rc();return u.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Ec(y.mutation,p,ti.empty(),$t.now()),Zc(e,p)&&(f=f.insert(m,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return z.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:yn(a.createTime)}})(e)),z.resolve()}getNamedQuery(t,e){return z.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(a){return{name:a.name,query:FR(a.bundledQuery),readTime:yn(a.readTime)}})(e)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(){this.overlays=new fe(ut.comparator),this.qr=new Map}getOverlay(t,e){return z.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ni();return z.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,l)=>{this.St(t,e,l)})),z.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),z.resolve()}getOverlaysForCollection(t,e,i){const a=Ni(),l=e.length+1,u=new ut(e.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return z.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let l=new fe(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=Ni(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=Ni(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return z.resolve(f)}St(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new sv(e,i));let l=this.qr.get(e);l===void 0&&(l=Pt(),this.qr.set(e,l)),this.qr.set(e,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this.sessionToken=Me.EMPTY_BYTE_STRING}getSessionToken(t){return z.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.Qr=new Zt(Qe.$r),this.Ur=new Zt(Qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Qe(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Qe(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new ut(new Ht([])),i=new Qe(e,t),a=new Qe(e,t+1),l=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new ut(new Ht([])),i=new Qe(e,t),a=new Qe(e,t+1);let l=Pt();return this.Ur.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(t){const e=new Qe(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Qe{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return ut.comparator(t.key,e.key)||Rt(t.Yr,e.Yr)}static Kr(t,e){return Rt(t.Yr,e.Yr)||ut.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Zt(Qe.$r)}checkEmpty(t){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new nv(l,e,i,a);this.mutationQueue.push(u);for(const f of a)this.Zr=this.Zr.add(new Qe(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return z.resolve(u)}lookupMutationBatch(t,e){return z.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.ei(i),l=a<0?0:a;return z.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Na:this.tr-1)}getAllMutationBatches(t){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Qe(e,0),a=new Qe(e,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(u=>{const f=this.Xr(u.Yr);l.push(f)})),z.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Zt(Rt);return e.forEach((a=>{const l=new Qe(a,0),u=new Qe(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{i=i.add(f.Yr)}))})),z.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let l=i;ut.isDocumentKey(l)||(l=l.child(""));const u=new Qe(new ut(l),0);let f=new Zt(Rt);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),u),z.resolve(this.ti(f))}ti(t){const e=[];return t.forEach((i=>{const a=this.Xr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){yt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return z.forEach(e.mutations,(a=>{const l=new Qe(a.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Qe(e,0),a=this.Zr.firstAfterOrEqual(i);return z.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,z.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(t){this.ri=t,this.docs=(function(){return new fe(ut.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),l=a?a.size:0,u=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return z.resolve(i?i.document.mutableCopy():Te.newInvalidDocument(e))}getEntries(t,e){let i=Nn();return e.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Te.newInvalidDocument(a))})),z.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let l=Nn();const u=e.path,f=new ut(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||q_(OI(y),i)<=0||(a.has(y.key)||Zc(e,y))&&(l=l.insert(y.key,y.mutableCopy()))}return z.resolve(l)}getAllFromCollectionGroup(t,e,i,a){pt(9500)}ii(t,e){return z.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new UL(this)}getSize(t){return z.resolve(this.size)}}class UL extends WR{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(i)})),z.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(t){this.persistence=t,this.si=new Cs((e=>Fa(e)),Wc),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new uv,this.targetCount=0,this.ai=Ga.ur()}forEachTarget(t,e){return this.si.forEach(((i,a)=>e(a))),z.resolve()}getLastRemoteSnapshotVersion(t){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),z.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Ga(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,z.resolve()}updateTargetData(t,e){return this.Pr(e),z.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,z.resolve()}removeTargets(t,e,i){let a=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=e&&i.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)})),z.waitFor(l).next((()=>a))}getTargetCount(t){return z.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return z.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),z.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach((u=>{l.push(a.markPotentiallyOrphaned(t,u))})),z.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),z.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return z.resolve(i)}containsKey(t,e){return z.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(t,e){this.ui={},this.overlays={},this.ci=new Jn(0),this.li=!1,this.li=!0,this.hi=new OL,this.referenceDelegate=t(this),this.Pi=new BL(this),this.indexManager=new bL,this.remoteDocumentCache=(function(a){return new LL(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new jR(e),this.Ii=new ML(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new NL,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new kL(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){rt("MemoryPersistence","Starting transaction:",t);const a=new jL(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,e){return z.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class jL extends LI{constructor(t){super(),this.currentSequenceNumber=t}}class om{constructor(t){this.persistence=t,this.Ri=new uv,this.Vi=null}static mi(t){return new om(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),z.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),z.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),z.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,(i=>{const a=ut.fromPath(i);return this.gi(t,a).next((l=>{l||e.removeEntry(a,vt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return z.or([()=>z.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Dd{constructor(t,e){this.persistence=t,this.pi=new Cs((i=>cn(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=$R(this,e)}static mi(t,e){return new Dd(t,e)}Ei(){}di(t){return z.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return z.forEach(this.pi,((i,a)=>this.br(t,i,a).next((l=>l?z.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(u=>this.br(t,u,e).next((f=>{f||(i++,l.removeEntry(u,vt.min()))})))).next((()=>l.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),z.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),z.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),z.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),z.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Jf(t.data.value)),e}br(t,e,i){return z.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return z.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(t){this.serializer=t}k(t,e,i,a){const l=new Qd("createOrUpgrade",e);i<1&&a>=1&&((function(m){m.createObjectStore($c)})(t),(function(m){m.createObjectStore(Nc,{keyPath:Zk}),m.createObjectStore(hi,{keyPath:Gb,autoIncrement:!0}).createIndex(Va,Kb,{unique:!0}),m.createObjectStore(vl)})(t),OS(t),(function(m){m.createObjectStore(Sa)})(t));let u=z.resolve();return i<3&&a>=3&&(i!==0&&((function(m){m.deleteObjectStore(El),m.deleteObjectStore(Tl),m.deleteObjectStore(Oa)})(t),OS(t)),u=u.next((()=>(function(m){const p=m.store(Oa),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vt.min().toTimestamp(),targetCount:0};return p.put(Td,y)})(l)))),i<4&&a>=4&&(i!==0&&(u=u.next((()=>(function(m,p){return p.store(hi).J().next((T=>{m.deleteObjectStore(hi),m.createObjectStore(hi,{keyPath:Gb,autoIncrement:!0}).createIndex(Va,Kb,{unique:!0});const A=p.store(hi),I=T.map((C=>A.put(C)));return z.waitFor(I)}))})(t,l)))),u=u.next((()=>{(function(m){m.createObjectStore(Al,{keyPath:o4})})(t)}))),i<5&&a>=5&&(u=u.next((()=>this.yi(l)))),i<6&&a>=6&&(u=u.next((()=>((function(m){m.createObjectStore(Oc)})(t),this.wi(l))))),i<7&&a>=7&&(u=u.next((()=>this.Si(l)))),i<8&&a>=8&&(u=u.next((()=>this.bi(t,l)))),i<9&&a>=9&&(u=u.next((()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(t)}))),i<10&&a>=10&&(u=u.next((()=>this.Di(l)))),i<11&&a>=11&&(u=u.next((()=>{(function(m){m.createObjectStore(Xd,{keyPath:l4})})(t),(function(m){m.createObjectStore($d,{keyPath:u4})})(t)}))),i<12&&a>=12&&(u=u.next((()=>{(function(m){const p=m.createObjectStore(Wd,{keyPath:g4});p.createIndex(Py,y4,{unique:!1}),p.createIndex(HI,_4,{unique:!1})})(t)}))),i<13&&a>=13&&(u=u.next((()=>(function(m){const p=m.createObjectStore(vd,{keyPath:t4});p.createIndex(Wf,e4),p.createIndex(jI,n4)})(t))).next((()=>this.Ci(t,l))).next((()=>t.deleteObjectStore(Sa)))),i<14&&a>=14&&(u=u.next((()=>this.Fi(t,l)))),i<15&&a>=15&&(u=u.next((()=>(function(m){m.createObjectStore(K_,{keyPath:c4,autoIncrement:!0}).createIndex(Vy,h4,{unique:!1}),m.createObjectStore(yc,{keyPath:f4}).createIndex(FI,d4,{unique:!1}),m.createObjectStore(_c,{keyPath:m4}).createIndex(qI,p4,{unique:!1})})(t)))),i<16&&a>=16&&(u=u.next((()=>{e.objectStore(yc).clear()})).next((()=>{e.objectStore(_c).clear()}))),i<17&&a>=17&&(u=u.next((()=>{(function(m){m.createObjectStore(Q_,{keyPath:v4})})(t)}))),i<18&&a>=18&&yI()&&(u=u.next((()=>{e.objectStore(yc).clear()})).next((()=>{e.objectStore(_c).clear()}))),u}wi(t){let e=0;return t.store(Sa).ee(((i,a)=>{e+=Cd(a)})).next((()=>{const i={byteSize:e};return t.store(Oc).put(Dy,i)}))}yi(t){const e=t.store(Nc),i=t.store(hi);return e.J().next((a=>z.forEach(a,(l=>{const u=IDBKeyRange.bound([l.userId,Na],[l.userId,l.lastAcknowledgedBatchId]);return i.J(Va,u).next((f=>z.forEach(f,(m=>{yt(m.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:m.batchId});const p=Ia(this.serializer,m);return KR(t,l.userId,p).next((()=>{}))}))))}))))}Si(t){const e=t.store(El),i=t.store(Sa);return t.store(Oa).get(Td).next((a=>{const l=[];return i.ee(((u,f)=>{const m=new Ht(u),p=(function(T){return[0,cn(T)]})(m);l.push(e.get(p).next((y=>y?z.resolve():(T=>e.put({targetId:0,path:cn(T),sequenceNumber:a.highestListenSequenceNumber}))(m))))})).next((()=>z.waitFor(l)))}))}bi(t,e){t.createObjectStore(kc,{keyPath:a4});const i=e.store(kc),a=new lv,l=u=>{if(a.add(u)){const f=u.lastSegment(),m=u.popLast();return i.put({collectionId:f,parent:cn(m)})}};return e.store(Sa).ee({X:!0},((u,f)=>{const m=new Ht(u);return l(m.popLast())})).next((()=>e.store(vl).ee({X:!0},(([u,f,m],p)=>{const y=Mi(f);return l(y.popLast())}))))}Di(t){const e=t.store(Tl);return e.ee(((i,a)=>{const l=oc(a),u=zR(this.serializer,l);return e.put(u)}))}Ci(t,e){const i=e.store(Sa),a=[];return i.ee(((l,u)=>{const f=e.store(vd),m=(function(T){return T.document?new ut(Ht.fromString(T.document.name).popFirst(5)):T.noDocument?ut.fromSegments(T.noDocument.path):T.unknownDocument?ut.fromSegments(T.unknownDocument.path):pt(36783)})(u).path.toArray(),p={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(f.put(p))})).next((()=>z.waitFor(a)))}Fi(t,e){const i=e.store(hi),a=ZR(this.serializer),l=new cv(om.mi,this.serializer.yt);return i.J().next((u=>{const f=new Map;return u.forEach((m=>{let p=f.get(m.userId)??Pt();Ia(this.serializer,m).keys().forEach((y=>p=p.add(y))),f.set(m.userId,p)})),z.forEach(f,((m,p)=>{const y=new en(p),T=rm.wt(this.serializer,y),A=l.getIndexManager(y),I=am.wt(y,this.serializer,A,l.referenceDelegate);return new JR(a,I,T,A).recalculateAndSaveOverlaysForDocumentKeys(new My(e,Jn.ce),m).next()}))}))}}function OS(n){n.createObjectStore(El,{keyPath:s4}).createIndex(G_,r4,{unique:!0}),n.createObjectStore(Tl,{keyPath:"targetId"}).createIndex(zI,i4,{unique:!0}),n.createObjectStore(Oa)}const lr="IndexedDbPersistence",Qg=18e5,Yg=5e3,Xg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",FL="main";class hv{constructor(t,e,i,a,l,u,f,m,p,y,T=18){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Mi=l,this.window=u,this.document=f,this.xi=p,this.Oi=y,this.Ni=T,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=A=>Promise.resolve(),!hv.v())throw new ot(Y.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new CL(this,a),this.$i=e+FL,this.serializer=new jR(m),this.Ui=new Tr(this.$i,this.Ni,new zL(this.serializer)),this.hi=new yL,this.Pi=new wL(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ZR(this.serializer),this.Ii=new gL,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,y===!1&&pn(lr,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ot(Y.FAILED_PRECONDITION,Xg);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.Pi.getHighestSequenceNumber(t)))})).then((t=>{this.ci=new Jn(t,this.xi)})).then((()=>{this.li=!0})).catch((t=>(this.Ui&&this.Ui.close(),Promise.reject(t))))}Ji(t){return this.Qi=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ui.$((async e=>{e.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>Bf(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(t).next((e=>{e||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(t))).next((e=>this.isPrimary&&!e?this.Zi(t).next((()=>!1)):!!e&&this.Xi(t).next((()=>!0)))))).catch((t=>{if(Mr(t))return rt(lr,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return rt(lr,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Mi.enqueueRetryable((()=>this.Qi(t))),this.isPrimary=t}))}Hi(t){return nc(t).get(Go).next((e=>z.resolve(this.es(e))))}ts(t){return Bf(t).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Qg)){this.qi=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const i=je(e,Al);return i.J().next((a=>{const l=this.ss(a,Qg),u=a.filter((f=>l.indexOf(f)===-1));return z.forEach(u,(f=>i.delete(f.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ki)for(const e of t)this.Ki.removeItem(this._s(e.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(t){return!!t&&t.ownerId===this.clientId}Yi(t){return this.Oi?z.resolve(!0):nc(t).get(Go).next((e=>{if(e!==null&&this.rs(e.leaseTimestampMs,Yg)&&!this.us(e.ownerId)){if(this.es(e)&&this.networkEnabled)return!0;if(!this.es(e)){if(!e.allowTabSynchronization)throw new ot(Y.FAILED_PRECONDITION,Xg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Bf(t).J().next((i=>this.ss(i,Yg).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,u=!this.inForeground&&a.inForeground,f=this.networkEnabled===a.networkEnabled;if(l||u&&f)return!0}return!1}))===void 0))})).next((e=>(this.isPrimary!==e&&rt(lr,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[$c,Al],(t=>{const e=new My(t,Jn.ce);return this.Zi(e).next((()=>this.ts(e)))})),this.Ui.close(),this.Ps()}ss(t,e){return t.filter((i=>this.rs(i.updateTimeMs,e)&&!this.us(i.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(t=>Bf(t).J().next((e=>this.ss(e,Qg).map((i=>i.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(t,e){return am.wt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new SL(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return rm.wt(this.serializer,t)}getBundleCache(){return this.Ii}runTransaction(t,e,i){rt(lr,"Starting transaction:",t);const a=e==="readonly"?"readonly":"readwrite",l=(function(m){return m===18?A4:m===17?YI:m===16?E4:m===15?Y_:m===14?QI:m===13?KI:m===12?T4:m===11?GI:void pt(60245)})(this.Ni);let u;return this.Ui.runTransaction(t,a,l,(f=>(u=new My(f,this.ci?this.ci.next():Jn.ce),e==="readwrite-primary"?this.Hi(u).next((m=>!!m||this.Yi(u))).next((m=>{if(!m)throw pn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ot(Y.FAILED_PRECONDITION,kI);return i(u)})).next((m=>this.Xi(u).next((()=>m)))):this.Is(u).next((()=>i(u)))))).then((f=>(u.raiseOnCommittedEvent(),f)))}Is(t){return nc(t).get(Go).next((e=>{if(e!==null&&this.rs(e.leaseTimestampMs,Yg)&&!this.us(e.ownerId)&&!this.es(e)&&!(this.Oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ot(Y.FAILED_PRECONDITION,Xg)}))}Xi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nc(t).put(Go,e)}static v(){return Tr.v()}Zi(t){const e=nc(t);return e.get(Go).next((i=>this.es(i)?(rt(lr,"Releasing primary lease."),e.delete(Go)):z.resolve()))}rs(t,e){const i=Date.now();return!(t<i-e)&&(!(t>i)||(pn(`Detected an update time that is in the future: ${t} > ${i}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;gI()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(t){try{const e=this.Ki?.getItem(this._s(t))!==null;return rt(lr,`Client '${t}' ${e?"is":"is not"} zombied in LocalStorage`),e}catch(e){return pn(lr,"Failed to get zombied client id.",e),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(t){pn("Failed to set zombie client id.",t)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function nc(n){return je(n,$c)}function Bf(n){return je(n,Al)}function qL(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=a}static As(t,e){let i=Pt(),a=Pt();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new fv(t,e.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gI()?8:UI(Be())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const l={result:null};return this.ys(t,e).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(t,e,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new HL;return this.Ss(t,e,u).next((f=>{if(l.result=f,this.Vs)return this.bs(t,e,u,f.size)}))})).next((()=>l.result))}bs(t,e,i,a){return i.documentReadCount<this.fs?(Wo()<=Lt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Zo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(Wo()<=Lt.DEBUG&&rt("QueryEngine","Query:",Zo(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Wo()<=Lt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Zo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ni(e))):z.resolve())}ys(t,e){if(rS(e))return z.resolve(null);let i=ni(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=Sd(e,null,"F"),i=ni(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((l=>{const u=Pt(...l);return this.ps.getDocuments(t,u).next((f=>this.indexManager.getMinOffset(t,i).next((m=>{const p=this.Ds(e,f);return this.Cs(e,p,u,m.readTime)?this.ys(t,Sd(e,null,"F")):this.vs(t,p,e,m)}))))})))))}ws(t,e,i,a){return rS(e)||a.isEqual(vt.min())?z.resolve(null):this.ps.getDocuments(t,i).next((l=>{const u=this.Ds(e,l);return this.Cs(e,u,i,a)?z.resolve(null):(Wo()<=Lt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Zo(e)),this.vs(t,u,e,Gk(a,Vc)).next((f=>f)))}))}Ds(t,e){let i=new Zt(dR(t));return e.forEach(((a,l)=>{Zc(t,l)&&(i=i.add(l))})),i}Cs(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,e,i){return Wo()<=Lt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Zo(e)),this.ps.getDocumentsMatchingQuery(t,e,kn.min(),i)}vs(t,e,i,a){return this.ps.getDocumentsMatchingQuery(t,i,a).next((l=>(e.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="LocalStore",GL=3e8;class KL{constructor(t,e,i,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new fe(Rt),this.xs=new Cs((l=>Fa(l)),Wc),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new JR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function ex(n,t,e,i){return new KL(n,t,e,i)}async function nx(n,t){const e=xt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],f=[];let m=Pt();for(const p of a){u.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return e.localDocuments.getDocuments(i,m).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function QL(n,t){const e=xt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),l=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const T=p.batch,A=T.keys();let I=z.resolve();return A.forEach((C=>{I=I.next((()=>y.getEntry(m,C))).next((U=>{const j=p.docVersions.get(C);yt(j!==null,48541),U.version.compareTo(j)<0&&(T.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),y.addEntry(U)))}))})),I.next((()=>f.mutationQueue.removeMutationBatch(m,T)))})(e,i,t,l).next((()=>l.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let m=Pt();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(t)))).next((()=>e.localDocuments.getDocuments(i,a)))}))}function ix(n){const t=xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function YL(n,t){const e=xt(n),i=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const f=[];t.targetChanges.forEach(((y,T)=>{const A=a.get(T);if(!A)return;f.push(e.Pi.removeMatchingKeys(l,y.removedDocuments,T).next((()=>e.Pi.addMatchingKeys(l,y.addedDocuments,T))));let I=A.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(T)!==null?I=I.withResumeToken(Me.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,i)),a=a.insert(T,I),(function(U,j,Z){return U.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=GL?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(A,I,y)&&f.push(e.Pi.updateTargetData(l,I))}));let m=Nn(),p=Pt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(XL(l,u,t.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!i.isEqual(vt.min())){const y=e.Pi.getLastRemoteSnapshotVersion(l).next((T=>e.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(y)}return z.waitFor(f).next((()=>u.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(e.Ms=a,l)))}function XL(n,t,e){let i=Pt(),a=Pt();return e.forEach((l=>i=i.add(l))),t.getEntries(n,i).next((l=>{let u=Nn();return e.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(vt.min())?(t.removeEntry(f,m.readTime),u=u.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),u=u.insert(f,m)):rt(dv,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function $L(n,t){const e=xt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Na),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function WL(n,t){const e=xt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.Pi.getTargetData(i,t).next((l=>l?(a=l,z.resolve(a)):e.Pi.allocateTargetId(i).next((u=>(a=new ps(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function Qy(n,t,e){const i=xt(n),a=i.Ms.get(t),l=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Mr(u))throw u;rt(dv,`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ms=i.Ms.remove(t),i.xs.delete(a.target)}function kS(n,t,e){const i=xt(n);let a=vt.min(),l=Pt();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,y){const T=xt(m),A=T.xs.get(y);return A!==void 0?z.resolve(T.Ms.get(A)):T.Pi.getTargetData(p,y)})(i,u,ni(t)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,t,e?a:vt.min(),e?l:Pt()))).next((f=>(ZL(i,L4(t),f),{documents:f,Qs:l})))))}function ZL(n,t,e){let i=n.Os.get(t)||vt.min();e.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(t,i)}class LS{constructor(){this.activeTargetIds=q4()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class sx{constructor(){this.Mo=new LS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new LS,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="ConnectivityMonitor";class BS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(US,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(US,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf=null;function Yy(){return jf===null?jf=(function(){return 268435456+Math.round(2147483648*Math.random())})():jf++,"0x"+jf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="RestConnection",t3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class e3{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Ed?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(t,e,i,a,l){const u=Yy(),f=this.zo(t,e.toUriEncodedString());rt($g,`Sending RPC '${t}' ${u}:`,f,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),y=Nl(p);return this.Jo(t,f,m,i,y).then((T=>(rt($g,`Received RPC '${t}' ${u}: `,T),T)),(T=>{throw Ba($g,`RPC '${t}' ${u} failed with error: `,T,"url: ",f,"request:",i),T}))}Ho(t,e,i,a,l,u){return this.Go(t,e,i,a,l)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ll})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,l)=>t[l]=a)),i&&i.headers.forEach(((a,l)=>t[l]=a))}zo(t,e){const i=t3[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class i3 extends e3{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,a,l){const u=Yy();return new Promise(((f,m)=>{const p=new wI;p.setWithCredentials(!0),p.listenOnce(II.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Yf.NO_ERROR:const T=p.getResponseJson();rt(on,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(T)),f(T);break;case Yf.TIMEOUT:rt(on,`RPC '${t}' ${u} timed out`),m(new ot(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Yf.HTTP_ERROR:const A=p.getStatus();if(rt(on,`RPC '${t}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const C=I?.error;if(C&&C.status&&C.message){const U=(function(Z){const tt=Z.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(tt)>=0?tt:Y.UNKNOWN})(C.status);m(new ot(U,C.message))}else m(new ot(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ot(Y.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{rt(on,`RPC '${t}' ${u} completed.`)}}));const y=JSON.stringify(a);rt(on,`RPC '${t}' ${u} sending request:`,a),p.send(e,"POST",y,i,15)}))}T_(t,e,i){const a=Yy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=CI(),f=xI(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,e,i),m.encodeInitMessageHeaders=!0;const y=l.join("");rt(on,`Creating RPC '${t}' stream ${a}: ${y}`,m);const T=u.createWebChannel(y,m);this.I_(T);let A=!1,I=!1;const C=new n3({Yo:j=>{I?rt(on,`Not sending because RPC '${t}' stream ${a} is closed:`,j):(A||(rt(on,`Opening RPC '${t}' stream ${a} transport.`),T.open(),A=!0),rt(on,`RPC '${t}' stream ${a} sending:`,j),T.send(j))},Zo:()=>T.close()}),U=(j,Z,tt)=>{j.listen(Z,(Q=>{try{tt(Q)}catch(ct){setTimeout((()=>{throw ct}),0)}}))};return U(T,sc.EventType.OPEN,(()=>{I||(rt(on,`RPC '${t}' stream ${a} transport opened.`),C.o_())})),U(T,sc.EventType.CLOSE,(()=>{I||(I=!0,rt(on,`RPC '${t}' stream ${a} transport closed`),C.a_(),this.E_(T))})),U(T,sc.EventType.ERROR,(j=>{I||(I=!0,Ba(on,`RPC '${t}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),C.a_(new ot(Y.UNAVAILABLE,"The operation could not be completed")))})),U(T,sc.EventType.MESSAGE,(j=>{if(!I){const Z=j.data[0];yt(!!Z,16349);const tt=Z,Q=tt?.error||tt[0]?.error;if(Q){rt(on,`RPC '${t}' stream ${a} received error:`,Q);const ct=Q.status;let nt=(function(w){const R=De[w];if(R!==void 0)return IR(R)})(ct),ft=Q.message;nt===void 0&&(nt=Y.INTERNAL,ft="Unknown error status: "+ct+" with message "+Q.message),I=!0,C.a_(new ot(nt,ft)),T.close()}else rt(on,`RPC '${t}' stream ${a} received:`,Z),C.u_(Z)}})),U(f,RI.STAT_EVENT,(j=>{j.stat===Ry.PROXY?rt(on,`RPC '${t}' stream ${a} detected buffering proxy`):j.stat===Ry.NOPROXY&&rt(on,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(){return typeof window<"u"?window:null}function sd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(n){return new rL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(t,e,i=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&rt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="PersistentStream";class ax{constructor(t,e,i,a,l,u,f,m){this.Mi=t,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rx(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Y.RESOURCE_EXHAUSTED?(pn(e.toString()),pn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new ot(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(jS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(rt(jS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class r3 extends ax{constructor(t,e,i,a,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,u),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=lL(this.serializer,t),i=(function(l){if(!("targetChange"in l))return vt.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?vt.min():u.readTime?yn(u.readTime):vt.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Fy(this.serializer),e.addTarget=(function(l,u){let f;const m=u.target;if(f=Ad(m)?{documents:NR(l,m)}:{query:OR(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=CR(l,u.resumeToken);const p=jy(l,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(vt.min())>0){f.readTime=Cl(l,u.snapshotVersion.toTimestamp());const p=jy(l,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,t);const i=cL(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Fy(this.serializer),e.removeTarget=t,this.q_(e)}}class a3 extends ax{constructor(t,e,i,a,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=uL(t.writeResults,t.commitTime),i=yn(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Fy(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>Id(this.serializer,i)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{}class l3 extends o3{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ot(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(t,zy(e,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ot(Y.UNKNOWN,l.toString())}))}Ho(t,e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(t,zy(e,i),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot(Y.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class u3{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pn(e),this.aa=!1):rt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="RemoteStore";class c3{constructor(t,e,i,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{Wa(this)&&(rt(Ka,"Restarting streams for network reachability change."),await(async function(m){const p=xt(m);p.Ea.add(4),await th(p),p.Ra.set("Unknown"),p.Ea.delete(4),await um(p)})(this))}))})),this.Ra=new u3(i,a)}}async function um(n){if(Wa(n))for(const t of n.da)await t(!0)}async function th(n){for(const t of n.da)await t(!1)}function ox(n,t){const e=xt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),yv(e)?gv(e):Bl(e).O_()&&pv(e,t))}function mv(n,t){const e=xt(n),i=Bl(e);e.Ia.delete(t),i.O_()&&lx(e,t),e.Ia.size===0&&(i.O_()?i.L_():Wa(e)&&e.Ra.set("Unknown"))}function pv(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Bl(n).Y_(t)}function lx(n,t){n.Va.Ue(t),Bl(n).Z_(t)}function gv(n){n.Va=new eL({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Bl(n).start(),n.Ra.ua()}function yv(n){return Wa(n)&&!Bl(n).x_()&&n.Ia.size>0}function Wa(n){return xt(n).Ea.size===0}function ux(n){n.Va=void 0}async function h3(n){n.Ra.set("Online")}async function f3(n){n.Ia.forEach(((t,e)=>{pv(n,t)}))}async function d3(n,t){ux(n),yv(n)?(n.Ra.ha(t),gv(n)):n.Ra.set("Unknown")}async function m3(n,t,e){if(n.Ra.set("Online"),t instanceof xR&&t.state===2&&t.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.Va.removeTarget(f))})(n,t)}catch(i){rt(Ka,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Vd(n,i)}else if(t instanceof nd?n.Va.Ze(t):t instanceof RR?n.Va.st(t):n.Va.tt(t),!e.isEqual(vt.min()))try{const i=await ix(n.localStore);e.compareTo(i)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(Me.EMPTY_BYTE_STRING,y.snapshotVersion)),lx(l,m);const T=new ps(y.target,m,p,y.sequenceNumber);pv(l,T)})),l.remoteSyncer.applyRemoteEvent(f)})(n,e)}catch(i){rt(Ka,"Failed to raise snapshot:",i),await Vd(n,i)}}async function Vd(n,t,e){if(!Mr(t))throw t;n.Ea.add(1),await th(n),n.Ra.set("Offline"),e||(e=()=>ix(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{rt(Ka,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await um(n)}))}function cx(n,t){return t().catch((e=>Vd(n,e,t)))}async function eh(n){const t=xt(n),e=Cr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Na;for(;p3(t);)try{const a=await $L(t.localStore,i);if(a===null){t.Ta.length===0&&e.L_();break}i=a.batchId,g3(t,a)}catch(a){await Vd(t,a)}hx(t)&&fx(t)}function p3(n){return Wa(n)&&n.Ta.length<10}function g3(n,t){n.Ta.push(t);const e=Cr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function hx(n){return Wa(n)&&!Cr(n).x_()&&n.Ta.length>0}function fx(n){Cr(n).start()}async function y3(n){Cr(n).ra()}async function _3(n){const t=Cr(n);for(const e of n.Ta)t.ea(e.mutations)}async function v3(n,t,e){const i=n.Ta.shift(),a=iv.from(i,t,e);await cx(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await eh(n)}async function T3(n,t){t&&Cr(n).X_&&await(async function(i,a){if((function(u){return Z4(u)&&u!==Y.ABORTED})(a.code)){const l=i.Ta.shift();Cr(i).B_(),await cx(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await eh(i)}})(n,t),hx(n)&&fx(n)}async function zS(n,t){const e=xt(n);e.asyncQueue.verifyOperationInProgress(),rt(Ka,"RemoteStore received new credentials");const i=Wa(e);e.Ea.add(3),await th(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await um(e)}async function E3(n,t){const e=xt(n);t?(e.Ea.delete(2),await um(e)):t||(e.Ea.add(2),await th(e),e.Ra.set("Unknown"))}function Bl(n){return n.ma||(n.ma=(function(e,i,a){const l=xt(e);return l.sa(),new r3(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:h3.bind(null,n),t_:f3.bind(null,n),r_:d3.bind(null,n),H_:m3.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),yv(n)?gv(n):n.Ra.set("Unknown")):(await n.ma.stop(),ux(n))}))),n.ma}function Cr(n){return n.fa||(n.fa=(function(e,i,a){const l=xt(e);return l.sa(),new a3(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:y3.bind(null,n),r_:T3.bind(null,n),ta:_3.bind(null,n),na:v3.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await eh(n)):(await n.fa.stop(),n.Ta.length>0&&(rt(Ka,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(t,e,i,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,l){const u=Date.now()+i,f=new _v(t,e,u,a,l);return f.start(i),f}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vv(n,t){if(pn("AsyncQueue",`${t}: ${n}`),Mr(n))return new ot(Y.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{static emptySet(t){return new cl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||ut.comparator(e.key,i.key):(e,i)=>ut.comparator(e.key,i.key),this.keyedMap=rc(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof cl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new cl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.ga=new fe(ut.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Dl{constructor(t,e,i,a,l,u,f,m,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,e,i,a,l){const u=[];return e.forEach((f=>{u.push({type:0,doc:f})})),new Dl(t,e,cl.emptySet(e),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&em(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class b3{constructor(){this.queries=qS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=xt(e),l=a.queries;a.queries=qS(),l.forEach(((u,f)=>{for(const m of f.Sa)m.onError(i)}))})(this,new ot(Y.ABORTED,"Firestore shutting down"))}}function qS(){return new Cs((n=>fR(n)),em)}async function S3(n,t){const e=xt(n);let i=3;const a=t.query;let l=e.queries.get(a);l?!l.ba()&&t.Da()&&(i=2):(l=new A3,i=t.Da()?0:1);try{switch(i){case 0:l.wa=await e.onListen(a,!0);break;case 1:l.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const f=vv(u,`Initialization of query '${Zo(t.query)}' failed`);return void t.onError(f)}e.queries.set(a,l),l.Sa.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&Tv(e)}async function w3(n,t){const e=xt(n),i=t.query;let a=3;const l=e.queries.get(i);if(l){const u=l.Sa.indexOf(t);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function I3(n,t){const e=xt(n);let i=!1;for(const a of t){const l=a.query,u=e.queries.get(l);if(u){for(const f of u.Sa)f.Fa(a)&&(i=!0);u.wa=a}}i&&Tv(e)}function R3(n,t,e){const i=xt(n),a=i.queries.get(t);if(a)for(const l of a.Sa)l.onError(e);i.queries.delete(t)}function Tv(n){n.Ca.forEach((t=>{t.next()}))}var Xy,HS;(HS=Xy||(Xy={})).Ma="default",HS.Cache="cache";class x3{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new Dl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Dl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Xy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(t){this.key=t}}class mx{constructor(t){this.key=t}}class C3{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=dR(t),this.tu=new cl(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new FS,a=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,T)=>{const A=a.get(y),I=Zc(this.query,T)?T:null,C=!!A&&this.mutatedKeys.has(A.key),U=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let j=!1;A&&I?A.data.isEqual(I.data)?C!==U&&(i.track({type:3,doc:I}),j=!0):this.su(A,I)||(i.track({type:2,doc:I}),j=!0,(m&&this.eu(I,m)>0||p&&this.eu(I,p)<0)&&(f=!0)):!A&&I?(i.track({type:0,doc:I}),j=!0):A&&!I&&(i.track({type:1,doc:A}),j=!0,(m||p)&&(f=!0)),j&&(I?(u=u.add(I),l=U?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Cs:f,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((y,T)=>(function(I,C){const U=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:j})}};return U(I)-U(C)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(i),a=a??!1;const f=e&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,u.length!==0||p?{snapshot:new Dl(this.query,t.tu,l,u,t.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new FS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new mx(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new dx(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Pt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ev="SyncEngine";class D3{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class V3{constructor(t){this.key=t,this.hu=!1}}class P3{constructor(t,e,i,a,l,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Cs((f=>fR(f)),em),this.Iu=new Map,this.Eu=new Set,this.du=new fe(ut.comparator),this.Au=new Map,this.Ru=new uv,this.Vu={},this.mu=new Map,this.fu=Ga.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function M3(n,t,e=!0){const i=Tx(n);let a;const l=i.Tu.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await px(i,t,e,!0),a}async function N3(n,t){const e=Tx(n);await px(e,t,!0,!1)}async function px(n,t,e,i){const a=await WL(n.localStore,ni(t)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,e);let f;return i&&(f=await O3(n,t,l,u==="current",a.resumeToken)),n.isPrimaryClient&&e&&ox(n.remoteStore,a),f}async function O3(n,t,e,i,a){n.pu=(T,A,I)=>(async function(U,j,Z,tt){let Q=j.view.ru(Z);Q.Cs&&(Q=await kS(U.localStore,j.query,!1).then((({documents:V})=>j.view.ru(V,Q))));const ct=tt&&tt.targetChanges.get(j.targetId),nt=tt&&tt.targetMismatches.get(j.targetId)!=null,ft=j.view.applyChanges(Q,U.isPrimaryClient,ct,nt);return KS(U,j.targetId,ft.au),ft.snapshot})(n,T,A,I);const l=await kS(n.localStore,t,!0),u=new C3(t,l.Qs),f=u.ru(l.documents),m=Jc.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),p=u.applyChanges(f,n.isPrimaryClient,m);KS(n,e,p.au);const y=new D3(t,e,u);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),p.snapshot}async function k3(n,t,e){const i=xt(n),a=i.Tu.get(t),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!em(u,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Qy(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&mv(i.remoteStore,a.targetId),$y(i,a.targetId)})).catch(Ya)):($y(i,a.targetId),await Qy(i.localStore,a.targetId,!0))}async function L3(n,t){const e=xt(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),mv(e.remoteStore,i.targetId))}async function U3(n,t,e){const i=Ex(n);try{const a=await(function(u,f){const m=xt(u),p=$t.now(),y=f.reduce(((I,C)=>I.add(C.key)),Pt());let T,A;return m.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let C=Nn(),U=Pt();return m.Ns.getEntries(I,y).next((j=>{C=j,C.forEach(((Z,tt)=>{tt.isValidDocument()||(U=U.add(Z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(I,C))).next((j=>{T=j;const Z=[];for(const tt of f){const Q=$4(tt,T.get(tt.key).overlayedDocument);Q!=null&&Z.push(new Nr(tt.key,Q,sR(Q.value.mapValue),On.exists(!0)))}return m.mutationQueue.addMutationBatch(I,p,Z,f)})).next((j=>{A=j;const Z=j.applyToLocalDocumentSet(T,U);return m.documentOverlayCache.saveOverlays(I,j.batchId,Z)}))})).then((()=>({batchId:A.batchId,changes:pR(T)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let p=u.Vu[u.currentUser.toKey()];p||(p=new fe(Rt)),p=p.insert(f,m),u.Vu[u.currentUser.toKey()]=p})(i,a.batchId,e),await nh(i,a.changes),await eh(i.remoteStore)}catch(a){const l=vv(a,"Failed to persist write");e.reject(l)}}async function gx(n,t){const e=xt(n);try{const i=await YL(e.localStore,t);t.targetChanges.forEach(((a,l)=>{const u=e.Au.get(l);u&&(yt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?yt(u.hu,14607):a.removedDocuments.size>0&&(yt(u.hu,42227),u.hu=!1))})),await nh(e,i,t)}catch(i){await Ya(i)}}function GS(n,t,e){const i=xt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((l,u)=>{const f=u.view.va(t);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=xt(u);m.onlineState=f;let p=!1;m.queries.forEach(((y,T)=>{for(const A of T.Sa)A.va(f)&&(p=!0)})),p&&Tv(m)})(i.eventManager,t),a.length&&i.Pu.H_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function B3(n,t,e){const i=xt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),l=a&&a.key;if(l){let u=new fe(ut.comparator);u=u.insert(l,Te.newNoDocument(l,vt.min()));const f=Pt().add(l),m=new sm(vt.min(),new Map,new fe(Rt),u,f);await gx(i,m),i.du=i.du.remove(l),i.Au.delete(t),Av(i)}else await Qy(i.localStore,t,!1).then((()=>$y(i,t,e))).catch(Ya)}async function j3(n,t){const e=xt(n),i=t.batch.batchId;try{const a=await QL(e.localStore,t);_x(e,i,null),yx(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await nh(e,a)}catch(a){await Ya(a)}}async function z3(n,t,e){const i=xt(n);try{const a=await(function(u,f){const m=xt(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((T=>(yt(T!==null,37113),y=T.keys(),m.mutationQueue.removeMutationBatch(p,T)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(i.localStore,t);_x(i,t,e),yx(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await nh(i,a)}catch(a){await Ya(a)}}function yx(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function _x(n,t,e){const i=xt(n);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),i.Vu[i.currentUser.toKey()]=a}}function $y(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||vx(n,i)}))}function vx(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(mv(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Av(n))}function KS(n,t,e){for(const i of e)i instanceof dx?(n.Ru.addReference(i.key,t),F3(n,i)):i instanceof mx?(rt(Ev,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||vx(n,i.key)):pt(19791,{wu:i})}function F3(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(rt(Ev,"New document in limbo: "+e),n.Eu.add(i),Av(n))}function Av(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new ut(Ht.fromString(t)),i=n.fu.next();n.Au.set(i,new V3(e)),n.du=n.du.insert(e,i),ox(n.remoteStore,new ps(ni(Z_(e.path)),i,"TargetPurposeLimboResolution",Jn.ce))}}async function nh(n,t,e){const i=xt(n),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,m)=>{u.push(i.pu(m,t,e).then((p=>{if((p||e)&&i.isPrimaryClient){const y=p?!p.fromCache:e?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=fv.As(m.targetId,p);l.push(y)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(m,p){const y=xt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>z.forEach(p,(A=>z.forEach(A.Es,(I=>y.persistence.referenceDelegate.addReference(T,A.targetId,I))).next((()=>z.forEach(A.ds,(I=>y.persistence.referenceDelegate.removeReference(T,A.targetId,I)))))))))}catch(T){if(!Mr(T))throw T;rt(dv,"Failed to update sequence numbers: "+T)}for(const T of p){const A=T.targetId;if(!T.fromCache){const I=y.Ms.get(A),C=I.snapshotVersion,U=I.withLastLimboFreeSnapshotVersion(C);y.Ms=y.Ms.insert(A,U)}}})(i.localStore,l))}async function q3(n,t){const e=xt(n);if(!e.currentUser.isEqual(t)){rt(Ev,"User change. New user:",t.toKey());const i=await nx(e.localStore,t);e.currentUser=t,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ot(Y.CANCELLED,u))}))})),l.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await nh(e,i.Ls)}}function H3(n,t){const e=xt(n),i=e.Au.get(t);if(i&&i.hu)return Pt().add(i.key);{let a=Pt();const l=e.Iu.get(t);if(!l)return a;for(const u of l){const f=e.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function Tx(n){const t=xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=gx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=H3.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=B3.bind(null,t),t.Pu.H_=I3.bind(null,t.eventManager),t.Pu.yu=R3.bind(null,t.eventManager),t}function Ex(n){const t=xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=j3.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=z3.bind(null,t),t}class Fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=lm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return ex(this.persistence,new tx,t.initialUser,this.serializer)}Cu(t){return new cv(om.mi,this.serializer)}Du(t){return new sx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fc.provider={build:()=>new Fc};class G3 extends Fc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){yt(this.persistence.referenceDelegate instanceof Dd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new XR(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new cv((i=>Dd.mi(i,e)),this.serializer)}}class K3 extends Fc{constructor(t,e,i){super(),this.xu=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await Ex(this.xu.syncEngine),await eh(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return ex(this.persistence,new tx,t.initialUser,this.serializer)}Fu(t,e){const i=this.persistence.referenceDelegate.garbageCollector;return new XR(i,t.asyncQueue,e)}Mu(t,e){const i=new Xk(e,this.persistence);return new Yk(t.asyncQueue,i)}Cu(t){const e=qL(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new hv(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,s3(),sd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new sx}}class Pd{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>GS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=q3.bind(null,this.syncEngine),await E3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new b3})()}createDatastore(t){const e=lm(t.databaseInfo.databaseId),i=(function(l){return new i3(l)})(t.databaseInfo);return(function(l,u,f,m){return new l3(l,u,f,m)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,l,u,f){return new c3(i,a,l,u,f)})(this.localStore,this.datastore,t.asyncQueue,(e=>GS(this.syncEngine,e,0)),(function(){return BS.v()?new BS:new JL})())}createSyncEngine(t,e){return(function(a,l,u,f,m,p,y){const T=new P3(a,l,u,f,m,p);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=xt(e);rt(Ka,"RemoteStore shutting down."),i.Ea.add(5),await th(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pd.provider={build:()=>new Pd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):pn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="FirestoreClient";class Y3{constructor(t,e,i,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=en.UNAUTHENTICATED,this.clientId=F_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{rt(Dr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(rt(Dr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=vv(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Wg(n,t){n.asyncQueue.verifyOperationInProgress(),rt(Dr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await nx(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function QS(n,t){n.asyncQueue.verifyOperationInProgress();const e=await X3(n);rt(Dr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>zS(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>zS(t.remoteStore,a))),n._onlineComponents=t}async function X3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){rt(Dr,"Using user provided OfflineComponentProvider");try{await Wg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===Y.FAILED_PRECONDITION||a.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Ba("Error using user provided cache. Falling back to memory cache: "+e),await Wg(n,new Fc)}}else rt(Dr,"Using default OfflineComponentProvider"),await Wg(n,new G3(void 0));return n._offlineComponents}async function Ax(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(rt(Dr,"Using user provided OnlineComponentProvider"),await QS(n,n._uninitializedComponentsProvider._online)):(rt(Dr,"Using default OnlineComponentProvider"),await QS(n,new Pd))),n._onlineComponents}function $3(n){return Ax(n).then((t=>t.syncEngine))}async function W3(n){const t=await Ax(n),e=t.eventManager;return e.onListen=M3.bind(null,t.syncEngine),e.onUnlisten=k3.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=N3.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=L3.bind(null,t.syncEngine),e}function Z3(n,t,e={}){const i=new vs;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const y=new Q3({next:A=>{y.Nu(),u.enqueueAndForget((()=>w3(l,T))),A.fromCache&&m.source==="server"?p.reject(new ot(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new x3(f,y,{includeMetadataChanges:!0,qa:!0});return S3(l,T)})(await W3(n),n.asyncQueue,t,e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="firestore.googleapis.com",XS=!0;class $S{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sx,this.ssl=XS}else this.host=t.host,this.ssl=t.ssl??XS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=GR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<IL)throw new ot(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bx(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ot(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ot(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ot(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cm{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $S({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $S(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new Mk;switch(i.type){case"firstParty":return new Lk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ot(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=YS.get(e);i&&(rt("ComponentProvider","Removing Datastore"),YS.delete(e),i.terminate())})(this),Promise.resolve()}}function J3(n,t,e,i={}){n=Dc(n,cm);const a=Nl(t),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},f=`${t}:${e}`;a&&(dI(`https://${f}`),mI("Firestore",!0)),l.host!==Sx&&l.host!==f&&Ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:i};if(!La(m,u)&&(n._setSettings(m),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=en.MOCK_USER;else{p=uO(i.mockUserToken,n._app?.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new ot(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new en(T)}n._authCredentials=new Nk(new VI(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ds(this.firestore,t,this._query)}}class Ye{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Er(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ye(this.firestore,t,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Xc(e,Ye._jsonSchema))return new Ye(t,i||null,new ut(Ht.fromString(e.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:Pe("string",Ye._jsonSchemaVersion),referencePath:Pe("string")};class Er extends Ds{constructor(t,e,i){super(t,e,Z_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ye(this.firestore,null,new ut(t))}withConverter(t){return new Er(this.firestore,t,this._path)}}function t6(n,t,...e){if(n=bn(n),MI("collection","path",t),n instanceof cm){const i=Ht.fromString(t,...e);return jb(i),new Er(n,null,i)}{if(!(n instanceof Ye||n instanceof Er))throw new ot(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ht.fromString(t,...e));return jb(i),new Er(n.firestore,null,i)}}function e6(n,t,...e){if(n=bn(n),arguments.length===1&&(t=F_.newId()),MI("doc","path",t),n instanceof cm){const i=Ht.fromString(t,...e);return Bb(i),new Ye(n,null,new ut(i))}{if(!(n instanceof Ye||n instanceof Er))throw new ot(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ht.fromString(t,...e));return Bb(i),new Ye(n.firestore,n instanceof Er?n.converter:null,new ut(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="AsyncQueue";class ZS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rx(this,"async_queue_retry"),this._c=()=>{const i=sd();i&&rt(WS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=sd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=sd();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Mr(t))throw t;rt(WS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,pn("INTERNAL UNHANDLED ERROR: ",JS(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=_v.createAndSchedule(this,t,e,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&pt(47125,{Pc:JS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function JS(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class hm extends cm{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new ZS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ZS(t),this._firestoreClient=void 0,await t}}}function n6(n,t){const e=typeof n=="object"?n:EI(),i=typeof n=="string"?n:Ed,a=j_(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=lO("firestore");l&&J3(a,...l)}return a}function wx(n){if(n._terminated)throw new ot(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Ix(n),n._firestoreClient}function Ix(n){const t=n._freezeSettings(),e=(function(a,l,u,f){return new S4(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,bx(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new Y3(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}function i6(n,t){Ba("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();return s6(n,Pd.provider,{build:i=>new K3(i,e.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}function s6(n,t,e){if((n=Dc(n,hm))._firestoreClient||n._terminated)throw new ot(Y.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ot(Y.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:t,_offline:e},Ix(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zn(Me.fromBase64String(t))}catch(e){throw new ot(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Zn(Me.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xc(t,Zn._jsonSchema))return Zn.fromBase64String(t.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Pe("string",Zn._jsonSchemaVersion),bytes:Pe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ot(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ot(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ot(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(t){if(Xc(t,Ui._jsonSchema))return new Ui(t.latitude,t.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Pe("string",Ui._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xc(t,Bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Bi(t.vectorValues);throw new ot(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Pe("string",Bi._jsonSchemaVersion),vectorValues:Pe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=/^__.*__$/;class a6{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Nr(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ul(t,this.data,e,this.fieldTransforms)}}function Rx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:n})}}class wv{constructor(t,e,i,a,l,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new wv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Md(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Rx(this.Ac)&&r6.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class o6{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||lm(t)}Cc(t,e,i,a=!1){return new wv({Ac:t,methodName:e,Dc:i,path:pe.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iv(n){const t=n._freezeSettings(),e=lm(n._databaseId);return new o6(n._databaseId,!!t.ignoreUndefinedProperties,e)}function l6(n,t,e,i,a,l={}){const u=n.Cc(l.merge||l.mergeFields?2:0,t,e,a);Vx("Data must be an object, but it was:",u,i);const f=Cx(i,u);let m,p;if(l.merge)m=new ti(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const T of l.mergeFields){const A=u6(t,T,e);if(!u.contains(A))throw new ot(Y.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);h6(y,A)||y.push(A)}m=new ti(y),p=u.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,p=u.fieldTransforms;return new a6(new En(f),m,p)}class Rv extends Sv{_toFieldTransform(t){return new AR(t.path,new Il)}isEqual(t){return t instanceof Rv}}function xx(n,t,e,i=!1){return xv(e,n.Cc(i?4:3,t))}function xv(n,t){if(Dx(n=bn(n)))return Vx("Unsupported field value:",t,n),Cx(n,t);if(n instanceof Sv)return(function(i,a){if(!Rx(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const f of i){let m=xv(f,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(n,t)}return(function(i,a){if((i=bn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return H4(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=$t.fromDate(i);return{timestampValue:Cl(a.serializer,l)}}if(i instanceof $t){const l=new $t(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Cl(a.serializer,l)}}if(i instanceof Ui)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Zn)return{bytesValue:CR(a.serializer,i._byteString)};if(i instanceof Ye){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:av(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Bi)return(function(u,f){return{mapValue:{fields:{[X_]:{stringValue:$_},[bl]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return tv(f.serializer,p)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Kd(i)}`)})(n,t)}function Cx(n,t){const e={};return XI(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xa(n,((i,a)=>{const l=xv(a,t.mc(i));l!=null&&(e[i]=l)})),{mapValue:{fields:e}}}function Dx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof $t||n instanceof Ui||n instanceof Zn||n instanceof Ye||n instanceof Sv||n instanceof Bi)}function Vx(n,t,e){if(!Dx(e)||!NI(e)){const i=Kd(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function u6(n,t,e){if((t=bn(t))instanceof bv)return t._internalPath;if(typeof t=="string")return Px(n,t);throw Md("Field path arguments must be of type string or ",n,!1,void 0,e)}const c6=new RegExp("[~\\*/\\[\\]]");function Px(n,t,e){if(t.search(c6)>=0)throw Md(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new bv(...t.split("."))._internalPath}catch{throw Md(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Md(n,t,e,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${i}`),u&&(m+=` in document ${a}`),m+=")"),new ot(Y.INVALID_ARGUMENT,f+n+m)}function h6(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(t,e,i,a,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new f6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(fm("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class f6 extends Cv{data(){return super.data()}}function fm(n,t){return typeof t=="string"?Px(n,t):t instanceof bv?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ot(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dv{}class dm extends Dv{}function tw(n,t,...e){let i=[];t instanceof Dv&&i.push(t),i=i.concat(e),(function(l){const u=l.filter((m=>m instanceof Vv)).length,f=l.filter((m=>m instanceof mm)).length;if(u>1||u>0&&f>0)throw new ot(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class mm extends dm{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new mm(t,e,i)}_apply(t){const e=this._parse(t);return Mx(t._query,e),new Ds(t.firestore,t.converter,By(t._query,e))}_parse(t){const e=Iv(t.firestore);return(function(l,u,f,m,p,y,T){let A;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ot(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){rw(T,y);const C=[];for(const U of T)C.push(sw(m,l,U));A={arrayValue:{values:C}}}else A=sw(m,l,T)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||rw(T,y),A=xx(f,u,T,y==="in"||y==="not-in");return Ut.create(p,y,A)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function ew(n,t,e){const i=t,a=fm("where",n);return mm._create(a,i,e)}class Vv extends Dv{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Vv(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:Wt.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)Mx(u,m),u=By(u,m)})(t._query,e),new Ds(t.firestore,t.converter,By(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pv extends dm{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Pv(t,e)}_apply(t){const e=(function(a,l,u){if(a.startAt!==null)throw new ot(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ot(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jc(l,u)})(t._query,this._field,this._direction);return new Ds(t.firestore,t.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new $a(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,e))}}function nw(n,t="asc"){const e=t,i=fm("orderBy",n);return Pv._create(i,e)}class Mv extends dm{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new Mv(t,e,i)}_apply(t){return new Ds(t.firestore,t.converter,Sd(t._query,this._limit,this._limitType))}}function iw(n){return Hk("limit",n),Mv._create("limit",n,"F")}class Nv extends dm{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new Nv(t,e,i)}_apply(t){const e=p6(t,this.type,this._docOrFields,this._inclusive);return new Ds(t.firestore,t.converter,(function(a,l){return new $a(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)})(t._query,e))}}function m6(...n){return Nv._create("startAfter",n,!1)}function p6(n,t,e,i){if(e[0]=bn(e[0]),e[0]instanceof Cv)return(function(l,u,f,m,p){if(!m)throw new ot(Y.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const y=[];for(const T of ul(l))if(T.field.isKeyField())y.push(za(u,m.key));else{const A=m.data.field(T.field);if(Zd(A))throw new ot(Y.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(A===null){const I=T.field.canonicalString();throw new ot(Y.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}y.push(A)}return new xr(y,p)})(n._query,n.firestore._databaseId,t,e[0]._document,i);{const a=Iv(n.firestore);return(function(u,f,m,p,y,T){const A=u.explicitOrderBy;if(y.length>A.length)throw new ot(Y.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let C=0;C<y.length;C++){const U=y[C];if(A[C].field.isKeyField()){if(typeof U!="string")throw new ot(Y.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof U}`);if(!J_(u)&&U.indexOf("/")!==-1)throw new ot(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${U}' contains a slash.`);const j=u.path.child(Ht.fromString(U));if(!ut.isDocumentKey(j))throw new ot(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const Z=new ut(j);I.push(za(f,Z))}else{const j=xx(m,p,U);I.push(j)}}return new xr(I,T)})(n._query,n.firestore._databaseId,a,t,e,i)}}function sw(n,t,e){if(typeof(e=bn(e))=="string"){if(e==="")throw new ot(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J_(t)&&e.indexOf("/")!==-1)throw new ot(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Ht.fromString(e));if(!ut.isDocumentKey(i))throw new ot(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return za(n,new ut(i))}if(e instanceof Ye)return za(n,e._key);throw new ot(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kd(e)}.`)}function rw(n,t){if(!Array.isArray(n)||n.length===0)throw new ot(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Mx(n,t){const e=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ot(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class g6{convertValue(t,e="none"){switch(Ir(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ws(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Xa(t,((a,l)=>{i[a]=this.convertValue(l,e)})),i}convertVectorValue(t){const e=t.fields?.[bl].arrayValue?.values?.map((i=>ce(i.doubleValue)));return new Bi(e)}convertGeoPoint(t){return new Ui(ce(t.latitude),ce(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Jd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Lc(t));default:return null}}convertTimestamp(t){const e=Ss(t);return new $t(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Ht.fromString(t);yt(BR(i),9688,{name:t});const a=new ja(i.get(1),i.get(3)),l=new ut(i.popFirst(5));return a.isEqual(e)||pn(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class zf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class hl extends Cv{constructor(t,e,i,a,l,u){super(t,e,i,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(fm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=hl._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}hl._jsonSchemaVersion="firestore/documentSnapshot/1.0",hl._jsonSchema={type:Pe("string",hl._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class rd extends hl{data(t={}){return super.data(t)}}class fl{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new zf(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new rd(this._firestore,this._userDataWriter,i.key,i,new zf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ot(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new rd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new zf(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new rd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new zf(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:_6(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=fl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=F_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function _6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:n})}}fl._jsonSchemaVersion="firestore/querySnapshot/1.0",fl._jsonSchema={type:Pe("string",fl._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class v6 extends g6{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ye(this.firestore,null,e)}}function T6(n){n=Dc(n,Ds);const t=Dc(n.firestore,hm),e=wx(t),i=new v6(t);return d6(n._query),Z3(e,n._query).then((a=>new fl(t,i,n,a)))}function E6(n,t){const e=Dc(n.firestore,hm),i=e6(n),a=y6(n.converter,t);return A6(e,[l6(Iv(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,On.exists(!1))]).then((()=>i))}function A6(n,t){return(function(i,a){const l=new vs;return i.asyncQueue.enqueueAndForget((async()=>U3(await $3(i),a,l))),l.promise})(wx(n),t)}function b6(){return new Rv("serverTimestamp")}(function(t,e=!0){(function(a){Ll=a})(kl),wr(new As("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new hm(new Ok(i.getProvider("auth-internal")),new Uk(u,i.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ot(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ja(p.options.projectId,y)})(u,a),u);return l={useFetchStreams:e,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),_s(Ob,kb,t),_s(Ob,kb,"esm2020")})();var S6="firebase",w6="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(S6,w6,"app");function Nx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I6=Nx,Ox=new Ol("auth","Firebase",Nx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new Gd("@firebase/auth");function R6(n,...t){Nd.logLevel<=Lt.WARN&&Nd.warn(`Auth (${kl}): ${n}`,...t)}function ad(n,...t){Nd.logLevel<=Lt.ERROR&&Nd.error(`Auth (${kl}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(n,...t){throw Ov(n,...t)}function ji(n,...t){return Ov(n,...t)}function kx(n,t,e){const i={...I6(),[t]:e};return new Ol("auth","Firebase",i).create(t,{appName:n.name})}function Ar(n){return kx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ov(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return Ox.create(n,...t)}function wt(n,t,...e){if(!n)throw Ov(t,...e)}function gs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw ad(t),new Error(t)}function Rs(n,t){n||gs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(){return typeof self<"u"&&self.location?.href||""}function x6(){return aw()==="http:"||aw()==="https:"}function aw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x6()||mO()||"connection"in navigator)?navigator.onLine:!0}function D6(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,e){this.shortDelay=t,this.longDelay=e,Rs(e>t,"Short delay should be less than long delay!"),this.isMobile=fO()||pO()}get(){return C6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(n,t){Rs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M6=new ih(3e4,6e4);function pm(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function jl(n,t,e,i,a={}){return Ux(n,a,async()=>{let l={},u={};i&&(t==="GET"?u=i:l={body:JSON.stringify(i)});const f=Yc({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p={method:t,headers:m,...l};return dO()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Nl(n.emulatorConfig.host)&&(p.credentials="include"),Lx.fetch()(await jx(n,n.config.apiHost,e,f),p)})}async function Ux(n,t,e){n._canInitEmulator=!1;const i={...V6,...t};try{const a=new N6(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Ff(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ff(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Ff(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw Ff(n,"user-disabled",u);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw kx(n,y,p);Is(n,y)}}catch(a){if(a instanceof xs)throw a;Is(n,"network-request-failed",{message:String(a)})}}async function Bx(n,t,e,i,a={}){const l=await jl(n,t,e,i,a);return"mfaPendingCredential"in l&&Is(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function jx(n,t,e,i){const a=`${t}${e}?${i}`,l=n,u=l.config.emulator?kv(n.config,a):`${n.config.apiScheme}://${a}`;return P6.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class N6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(ji(this.auth,"network-request-failed")),M6.get())})}}function Ff(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=ji(n,t,i);return a.customData._tokenResponse=e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(n,t){return jl(n,"POST","/v1/accounts:delete",t)}async function Od(n,t){return jl(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function k6(n,t=!1){const e=bn(n),i=await e.getIdToken(t),a=Lv(i);wt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:Ac(Zg(a.auth_time)),issuedAtTime:Ac(Zg(a.iat)),expirationTime:Ac(Zg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Zg(n){return Number(n)*1e3}function Lv(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return ad("JWT malformed, contained fewer than 3 sections"),null;try{const a=lI(e);return a?JSON.parse(a):(ad("Failed to decode base64 JWT payload"),null)}catch(a){return ad("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ow(n){const t=Lv(n);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof xs&&L6(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function L6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kd(n){const t=n.auth,e=await n.getIdToken(),i=await qc(n,Od(t,{idToken:e}));wt(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?zx(a.providerUserInfo):[],u=j6(n.providerData,l),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!u?.length,p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Zy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function B6(n){const t=bn(n);await kd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function j6(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function zx(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z6(n,t){const e=await Ux(n,{},async()=>{const i=Yc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await jx(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return n.emulatorConfig&&Nl(n.emulatorConfig.host)&&(m.credentials="include"),Lx.fetch()(u,m)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function F6(n,t){return jl(n,"POST","/v2/accounts:revokeToken",pm(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ow(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=ow(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:l}=await z6(t,e);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:l}=e,u=new dl;return i&&(wt(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),a&&(wt(typeof a=="string","internal-error",{appName:t}),u.accessToken=a),l&&(wt(typeof l=="number","internal-error",{appName:t}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(n,t){wt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class di{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new U6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Zy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await qc(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return k6(this,t)}reload(){return B6(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new di({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await kd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(Ar(this.auth));const t=await this.getIdToken();return await qc(this,O6(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,l=e.phoneNumber??void 0,u=e.photoURL??void 0,f=e.tenantId??void 0,m=e._redirectEventId??void 0,p=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:I,providerData:C,stsTokenManager:U}=e;wt(T&&U,t,"internal-error");const j=dl.fromJSON(this.name,U);wt(typeof T=="string",t,"internal-error"),ur(i,t.name),ur(a,t.name),wt(typeof A=="boolean",t,"internal-error"),wt(typeof I=="boolean",t,"internal-error"),ur(l,t.name),ur(u,t.name),ur(f,t.name),ur(m,t.name),ur(p,t.name),ur(y,t.name);const Z=new di({uid:T,auth:t,email:a,emailVerified:A,displayName:i,isAnonymous:I,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:j,createdAt:p,lastLoginAt:y});return C&&Array.isArray(C)&&(Z.providerData=C.map(tt=>({...tt}))),m&&(Z._redirectEventId=m),Z}static async _fromIdTokenResponse(t,e,i=!1){const a=new dl;a.updateFromServerResponse(e);const l=new di({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await kd(l),l}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];wt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?zx(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new dl;f.updateFromIdToken(i);const m=new di({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Zy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new Map;function ys(n){Rs(n instanceof Function,"Expected a class definition");let t=lw.get(n);return t?(Rs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,lw.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Fx.type="NONE";const uw=Fx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(n,t,e){return`firebase:${n}:${t}:${e}`}class ml{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=od(this.userKey,a.apiKey,l),this.fullPersistenceKey=od("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Od(this.auth,{idToken:t}).catch(()=>{});return e?di._fromGetAccountInfoResponse(this.auth,e,t):null}return di._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new ml(ys(uw),t,i);const a=(await Promise.all(e.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ys(uw);const u=od(i,t.config.apiKey,t.name);let f=null;for(const p of e)try{const y=await p._get(u);if(y){let T;if(typeof y=="string"){const A=await Od(t,{idToken:y}).catch(()=>{});if(!A)break;T=await di._fromGetAccountInfoResponse(t,A,y)}else T=di._fromJSON(t,y);p!==l&&(f=T),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new ml(l,t,i):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(e.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new ml(l,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Kx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(qx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Yx(t))return"Blackberry";if(Xx(t))return"Webos";if(Hx(t))return"Safari";if((t.includes("chrome/")||Gx(t))&&!t.includes("edge/"))return"Chrome";if(Qx(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function qx(n=Be()){return/firefox\//i.test(n)}function Hx(n=Be()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Gx(n=Be()){return/crios\//i.test(n)}function Kx(n=Be()){return/iemobile/i.test(n)}function Qx(n=Be()){return/android/i.test(n)}function Yx(n=Be()){return/blackberry/i.test(n)}function Xx(n=Be()){return/webos/i.test(n)}function Uv(n=Be()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function q6(n=Be()){return Uv(n)&&!!window.navigator?.standalone}function H6(){return gO()&&document.documentMode===10}function $x(n=Be()){return Uv(n)||Qx(n)||Xx(n)||Yx(n)||/windows phone/i.test(n)||Kx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(n,t=[]){let e;switch(n){case"Browser":e=cw(Be());break;case"Worker":e=`${cw(Be())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${kl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=l=>new Promise((u,f)=>{try{const m=t(l);u(m)}catch(m){f(m)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(n,t={}){return jl(n,"GET","/v2/passwordPolicy",pm(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=6;class Y6{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??Q6,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hw(this),this.idTokenSubscription=new hw(this),this.beforeStateQueue=new G6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ox,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ys(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ml.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Od(this,{idToken:t}),i=await di._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(fi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,f=await this.tryRedirectSignIn(t);(!l||l===u)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await kd(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=D6()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(fi(this.app))return Promise.reject(Ar(this));const e=t?bn(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(Ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return fi(this.app)?Promise.reject(Ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await K6(this),e=new Y6(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ol("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await F6(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ys(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await ml.create(this,[ys(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,i,a);return()=>{u=!0,m()}}else{const m=t.addObserver(e);return()=>{u=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Wx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&R6(`Error while retrieving App Check token: ${t.error}`),t?.token}}function gm(n){return bn(n)}class hw{constructor(t){this.auth=t,this.observer=null,this.addObserver=AO(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $6(n){Bv=n}function W6(n){return Bv.loadJS(n)}function Z6(){return Bv.gapiScript}function J6(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(n,t){const e=j_(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(La(l,t??{}))return a;Is(a,"already-initialized")}return e.initialize({options:t})}function eU(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(ys);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function nU(n,t,e){const i=gm(n);wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,l=Zx(t),{host:u,port:f}=iU(t),m=f===null?"":`:${f}`,p={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){wt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),wt(La(p,i.config.emulator)&&La(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Nl(u)?(dI(`${l}//${u}${m}`),mI("Auth",!0)):sU()}function Zx(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function iU(n){const t=Zx(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:fw(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:fw(u)}}}function fw(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function sU(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return gs("not implemented")}_getIdTokenResponse(t){return gs("not implemented")}_linkToIdToken(t,e){return gs("not implemented")}_getReauthenticationResolver(t){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(n,t){return Bx(n,"POST","/v1/accounts:signInWithIdp",pm(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU="http://localhost";class Qa extends Jx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Qa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Is("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...l}=e;if(!i||!a)return null;const u=new Qa(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return pl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,pl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,pl(t,e)}buildRequest(){const t={requestUri:rU,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Yc(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends tC{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends sh{constructor(){super("facebook.com")}static credential(t){return Qa._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fr.credential(t.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends sh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Qa._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return dr.credential(e,i)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends sh{constructor(){super("github.com")}static credential(t){return Qa._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mr.credential(t.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends sh{constructor(){super("twitter.com")}static credential(t,e){return Qa._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return pr.credential(e,i)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aU(n,t){return Bx(n,"POST","/v1/accounts:signUp",pm(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const l=await di._fromIdTokenResponse(t,i,a),u=dw(i);return new Vr({user:l,providerId:u,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=dw(i);return new Vr({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function dw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU(n){if(fi(n.app))return Promise.reject(Ar(n));const t=gm(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Vr({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await aU(t,{returnSecureToken:!0}),i=await Vr._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld extends xs{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Ld.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new Ld(t,e,i,a)}}function eC(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ld._fromErrorAndOperation(n,l,t,i):l})}async function lU(n,t,e=!1){const i=await qc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Vr._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uU(n,t,e=!1){const{auth:i}=n;if(fi(i.app))return Promise.reject(Ar(i));const a="reauthenticate";try{const l=await qc(n,eC(i,a,t,n),e);wt(l.idToken,i,"internal-error");const u=Lv(l.idToken);wt(u,i,"internal-error");const{sub:f}=u;return wt(n.uid===f,i,"user-mismatch"),Vr._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Is(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU(n,t,e=!1){if(fi(n.app))return Promise.reject(Ar(n));const i="signIn",a=await eC(n,i,t),l=await Vr._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(l.user),l}function hU(n,t,e,i){return bn(n).onIdTokenChanged(t,e,i)}function fU(n,t,e){return bn(n).beforeAuthStateChanged(t,e)}function dU(n,t,e,i){return bn(n).onAuthStateChanged(t,e,i)}const Ud="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Ud,"1"),this.storage.removeItem(Ud),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=1e3,pU=10;class iC extends nC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$x(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!e&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);H6()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,pU):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},mU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}iC.type="LOCAL";const gU=iC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC extends nC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}sC.type="SESSION";const rC=sC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new ym(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:l}=e.data,u=this.handlersMap[a];if(!u?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async p=>p(e.origin,l)),m=await yU(f);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ym.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const p=jv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(T){const A=T;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(A.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return window}function vU(n){zi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function TU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EU(){return navigator?.serviceWorker?.controller||null}function AU(){return aC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="firebaseLocalStorageDb",bU=1,Bd="firebaseLocalStorage",lC="fbase_key";class rh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function _m(n,t){return n.transaction([Bd],t?"readwrite":"readonly").objectStore(Bd)}function SU(){const n=indexedDB.deleteDatabase(oC);return new rh(n).toPromise()}function Jy(){const n=indexedDB.open(oC,bU);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Bd,{keyPath:lC})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Bd)?t(i):(i.close(),await SU(),t(await Jy()))})})}async function mw(n,t,e){const i=_m(n,!0).put({[lC]:t,value:e});return new rh(i).toPromise()}async function wU(n,t){const e=_m(n,!1).get(t),i=await new rh(e).toPromise();return i===void 0?null:i.value}function pw(n,t){const e=_m(n,!0).delete(t);return new rh(e).toPromise()}const IU=800,RU=3;class uC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>RU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ym._getInstance(AU()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await TU(),!this.activeServiceWorker)return;this.sender=new _U(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||EU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jy();return await mw(t,Ud,"1"),await pw(t,Ud),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>mw(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>wU(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>pw(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=_m(a,!1).getAll();return new rh(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uC.type="LOCAL";const xU=uC;new ih(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(n,t){return t?ys(t):(wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv extends Jx{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return pl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return pl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return pl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function DU(n){return cU(n.auth,new zv(n),n.bypassAuthState)}function VU(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),uU(e,new zv(n),n.bypassAuthState)}async function PU(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),lU(e,new zv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t,e,i,a,l=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:l,error:u,type:f}=t;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:e,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return DU;case"linkViaPopup":case"linkViaRedirect":return PU;case"reauthViaPopup":case"reauthViaRedirect":return VU;default:Is(this.auth,"internal-error")}}resolve(t){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=new ih(2e3,1e4);class ol extends cC{constructor(t,e,i,a,l){super(t,e,a,l),this.provider=i,this.authWindow=null,this.pollId=null,ol.currentPopupAction&&ol.currentPopupAction.cancel(),ol.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const t=jv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ol.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,MU.get())};t()}}ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU="pendingRedirect",ld=new Map;class OU extends cC{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=ld.get(this.auth._key());if(!t){try{const i=await kU(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}ld.set(this.auth._key(),t)}return this.bypassAuthState||ld.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kU(n,t){const e=BU(t),i=UU(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function LU(n,t){ld.set(n._key(),t)}function UU(n){return ys(n._redirectPersistence)}function BU(n){return od(NU,n.config.apiKey,n.name)}async function jU(n,t,e=!1){if(fi(n.app))return Promise.reject(Ar(n));const i=gm(n),a=CU(i,t),u=await new OU(i,a,e).execute();return u&&!e&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=600*1e3;class FU{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!qU(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!hC(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(ji(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=zU&&this.cachedEventUids.clear(),this.cachedEventUids.has(gw(t))}saveEventToCache(t){this.cachedEventUids.add(gw(t)),this.lastProcessedEventTime=Date.now()}}function gw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function hC({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function qU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HU(n,t={}){return jl(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KU=/^https?/;async function QU(n){if(n.config.emulator)return;const{authorizedDomains:t}=await HU(n);for(const e of t)try{if(YU(e))return}catch{}Is(n,"unauthorized-domain")}function YU(n){const t=Wy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===i}if(!KU.test(e))return!1;if(GU.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=new ih(3e4,6e4);function yw(){const n=zi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function $U(n){return new Promise((t,e)=>{function i(){yw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{yw(),e(ji(n,"network-request-failed"))},timeout:XU.get()})}if(zi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(zi().gapi?.load)i();else{const a=J6("iframefcb");return zi()[a]=()=>{gapi.load?i():e(ji(n,"network-request-failed"))},W6(`${Z6()}?onload=${a}`).catch(l=>e(l))}}).catch(t=>{throw ud=null,t})}let ud=null;function WU(n){return ud=ud||$U(n),ud}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU=new ih(5e3,15e3),JU="__/auth/iframe",t9="emulator/auth/iframe",e9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i9(n){const t=n.config;wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?kv(t,t9):`https://${n.config.authDomain}/${JU}`,i={apiKey:t.apiKey,appName:n.name,v:kl},a=n9.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${e}?${Yc(i).slice(1)}`}async function s9(n){const t=await WU(n),e=zi().gapi;return wt(e,n,"internal-error"),t.open({where:document.body,url:i9(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e9,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=ji(n,"network-request-failed"),f=zi().setTimeout(()=>{l(u)},ZU.get());function m(){zi().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a9=500,o9=600,l9="_blank",u9="http://localhost";class _w{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c9(n,t,e,i=a9,a=o9){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m={...r9,width:i.toString(),height:a.toString(),top:l,left:u},p=Be().toLowerCase();e&&(f=Gx(p)?l9:e),qx(p)&&(t=t||u9,m.scrollbars="yes");const y=Object.entries(m).reduce((A,[I,C])=>`${A}${I}=${C},`,"");if(q6(p)&&f!=="_self")return h9(t||"",f),new _w(null);const T=window.open(t||"",f,y);wt(T,n,"popup-blocked");try{T.focus()}catch{}return new _w(T)}function h9(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9="__/auth/handler",d9="emulator/auth/handler",m9=encodeURIComponent("fac");async function vw(n,t,e,i,a,l){wt(n.config.authDomain,n,"auth-domain-config-required"),wt(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:kl,eventId:a};if(t instanceof tC){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",EO(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,T]of Object.entries({}))u[y]=T}if(t instanceof sh){const y=t.getScopes().filter(T=>T!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await n._getAppCheckToken(),p=m?`#${m9}=${encodeURIComponent(m)}`:"";return`${p9(n)}?${Yc(f).slice(1)}${p}`}function p9({config:n}){return n.emulator?kv(n,d9):`https://${n.authDomain}/${f9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="webStorageSupport";class g9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rC,this._completeRedirectFn=jU,this._overrideRedirectResult=LU}async _openPopup(t,e,i,a){Rs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await vw(t,e,i,Wy(),a);return c9(t,l,jv())}async _openRedirect(t,e,i,a){await this._originValidation(t);const l=await vw(t,e,i,Wy(),a);return vU(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(Rs(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await s9(t),i=new FU(t);return e.register("authEvent",a=>(wt(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Jg,{type:Jg},a=>{const l=a?.[0]?.[Jg];l!==void 0&&e(!!l),Is(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=QU(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return $x()||Hx()||Uv()}}const y9=g9;var Tw="@firebase/auth",Ew="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function T9(n){wr(new As("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;wt(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wx(n)},p=new X6(i,a,l,m);return eU(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),wr(new As("auth-internal",t=>{const e=gm(t.getProvider("auth").getImmediate());return(i=>new _9(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),_s(Tw,Ew,v9(n)),_s(Tw,Ew,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=300,A9=fI("authIdTokenMaxAge")||E9;let Aw=null;const b9=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>A9)return;const a=e?.token;Aw!==a&&(Aw=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function S9(n=EI()){const t=j_(n,"auth");if(t.isInitialized())return t.getImmediate();const e=tU(n,{popupRedirectResolver:y9,persistence:[xU,gU,rC]}),i=fI("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=b9(l.toString());fU(e,u,()=>u(e.currentUser)),hU(e,f=>u(f))}}const a=cI("auth");return a&&nU(e,`http://${a}`),e}function w9(){return document.getElementsByTagName("head")?.[0]??document}$6({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const l=ji("internal-error");l.customData=a,e(l)},i.type="text/javascript",i.charset="UTF-8",w9().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});T9("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=new Map,R9={activated:!1,tokenObservers:[]};function mi(n){return I9.get(n)||{...R9}}const bw={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(t,e,i,a,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new Ey,this.pending.promise.catch(e=>{}),await C9(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new Ey,this.pending.promise.catch(e=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}function C9(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},jd=new Ol("appCheck","AppCheck",D9);function fC(n){if(!mi(n).activated)throw jd.create("use-before-activation",{appName:n.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9="firebase-app-check-database",P9=1,t_="firebase-app-check-store";let qf=null;function M9(){return qf||(qf=new Promise((n,t)=>{try{const e=indexedDB.open(V9,P9);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{t(jd.create("storage-open",{originalErrorMessage:i.target.error?.message}))},e.onupgradeneeded=i=>{const a=i.target.result;switch(i.oldVersion){case 0:a.createObjectStore(t_,{keyPath:"compositeKey"})}}}catch(e){t(jd.create("storage-open",{originalErrorMessage:e?.message}))}}),qf)}function N9(n,t){return O9(k9(n),t)}async function O9(n,t){const i=(await M9()).transaction(t_,"readwrite"),l=i.objectStore(t_).put({compositeKey:n,value:t});return new Promise((u,f)=>{l.onsuccess=m=>{u()},i.onerror=m=>{f(jd.create("storage-set",{originalErrorMessage:m.target.error?.message}))}})}function k9(n){return`${n.options.appId}-${n.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Gd("@firebase/app-check");function Sw(n,t){return U_()?N9(n,t).catch(e=>{e_.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9={error:"UNKNOWN_ERROR"};function U9(n){return L_.encodeString(JSON.stringify(n),!1)}async function n_(n,t=!1,e=!1){const i=n.app;fC(i);const a=mi(i);let l=a.token,u;if(l&&!lc(l)&&(a.token=void 0,l=void 0),!l){const p=await a.cachedTokenPromise;p&&(lc(p)?l=p:await Sw(i,void 0))}if(!t&&l&&lc(l))return{token:l.token};let f=!1;try{a.exchangeTokenPromise||(a.exchangeTokenPromise=a.provider.getToken().finally(()=>{a.exchangeTokenPromise=void 0}),f=!0),l=await mi(i).exchangeTokenPromise}catch(p){p.code==="appCheck/throttled"||p.code==="appCheck/initial-throttle"?e_.warn(p.message):e&&e_.error(p),u=p}let m;return l?u?lc(l)?m={token:l.token,internalError:u}:m=Iw(u):(m={token:l.token},a.token=l,await Sw(i,l)):m=Iw(u),f&&F9(i,m),m}async function B9(n){const t=n.app;fC(t);const{provider:e}=mi(t);{const{token:i}=await e.getToken();return{token:i}}}function j9(n,t,e,i){const{app:a}=n,l=mi(a),u={next:e,error:i,type:t};if(l.tokenObservers=[...l.tokenObservers,u],l.token&&lc(l.token)){const f=l.token;Promise.resolve().then(()=>{e({token:f.token}),ww(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>ww(n))}function dC(n,t){const e=mi(n),i=e.tokenObservers.filter(a=>a.next!==t);i.length===0&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function ww(n){const{app:t}=n,e=mi(t);let i=e.tokenRefresher;i||(i=z9(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function z9(n){const{app:t}=n;return new x9(async()=>{const e=mi(t);let i;if(e.token?i=await n_(n,!0):i=await n_(n),i.error)throw i.error;if(i.internalError)throw i.internalError},()=>!0,()=>{const e=mi(t);if(e.token){let i=e.token.issuedAtTimeMillis+(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)*.5+3e5;const a=e.token.expireTimeMillis-300*1e3;return i=Math.min(i,a),Math.max(0,i-Date.now())}else return 0},bw.RETRIAL_MIN_WAIT,bw.RETRIAL_MAX_WAIT)}function F9(n,t){const e=mi(n).tokenObservers;for(const i of e)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function lc(n){return n.expireTimeMillis-Date.now()>0}function Iw(n){return{token:U9(L9),error:n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=mi(this.app);for(const e of t)dC(this.app,e.next);return Promise.resolve()}}function H9(n,t){return new q9(n,t)}function G9(n){return{getToken:t=>n_(n,t),getLimitedUseToken:()=>B9(n),addTokenListener:t=>j9(n,"INTERNAL",t),removeTokenListener:t=>dC(n.app,t)}}const K9="@firebase/app-check",Q9="0.11.0",Y9="app-check",Rw="app-check-internal";function X9(){wr(new As(Y9,n=>{const t=n.getProvider("app").getImmediate(),e=n.getProvider("heartbeat");return H9(t,e)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Rw).initialize()})),wr(new As(Rw,n=>{const t=n.getProvider("app-check").getImmediate();return G9(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),_s(K9,Q9)}X9();const $9={apiKey:"AIzaSyCVRcuBtFGplZTET2Qj6ZLkihQyClVNIvw",authDomain:"wedding-invite-783c6.firebaseapp.com",projectId:"wedding-invite-783c6",storageBucket:"wedding-invite-783c6.firebasestorage.app",messagingSenderId:"733714547005",appId:"1:733714547005:web:80806fcf0fdfc3e2d4c554",measurementId:"G-GMES6MDQPC"},mC=TI($9),xw=S9(mC),pC=n6(mC);i6(pC).catch(()=>{});const W9=()=>new Promise((n,t)=>{const e=dU(xw,async i=>{if(i)e(),n(i.uid);else try{const a=await oU(xw);e(),n(a.user.uid)}catch(a){t(a)}})}),i_=t6(pC,"comments");async function Z9(n){const t=await W9();await E6(i_,{...n,uid:t,createdAt:b6()})}async function J9(n,t=20,e){const i=e?tw(i_,ew("invitationId","==",n),nw("createdAt","desc"),m6(e),iw(t)):tw(i_,ew("invitationId","==",n),nw("createdAt","desc"),iw(t)),a=await T6(i),l=a.docs.map(f=>({id:f.id,...f.data()})),u=a.docs.at(-1);return{items:l,nextCursor:u}}function t5({invitationId:n}){const[t,e]=gt.useState([]),[i,a]=gt.useState(null),[l,u]=gt.useState(""),[f,m]=gt.useState(""),[p,y]=gt.useState(!1);async function T(I){y(!0);const{items:C,nextCursor:U}=await J9(n,2,I);e(j=>I?[...j,...C]:C),a(U??null),y(!1)}gt.useEffect(()=>{T()},[n]);async function A(I){I.preventDefault(),!(!l.trim()||!f.trim())&&(await Z9({invitationId:n,displayName:l.trim(),message:f.trim()}),u(""),m(""),T())}return X.jsxs("div",{className:"space-y-6",children:[X.jsxs("form",{onSubmit:A,className:"rounded-2xl bg-white p-5 shadow space-y-4",children:[X.jsx("input",{placeholder:"",value:l,onChange:I=>u(I.target.value),maxLength:20,required:!0,className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:border-pink-300 focus:outline-none focus:ring-2 focus:ring-pink-200"}),X.jsx("textarea",{placeholder:"   ( 100)",value:f,onChange:I=>m(I.target.value),rows:3,maxLength:100,required:!0,className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm resize-none focus:border-pink-300 focus:outline-none focus:ring-2 focus:ring-pink-200"}),X.jsx("button",{type:"submit",disabled:p,className:"w-full rounded-lg bg-pink-500 py-2.5 text-sm font-medium text-white transition-colors hover:bg-pink-600 disabled:bg-gray-300 disabled:cursor-not-allowed",children:p?" ...":"  "})]}),t.length>0&&X.jsx("div",{className:"space-y-3",children:t.map(I=>X.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow",children:[X.jsx("div",{className:"font-semibold text-gray-800 text-sm",children:I.displayName}),X.jsx("div",{className:"mt-2 text-sm text-gray-600 whitespace-pre-wrap leading-relaxed",children:I.message})]},I.id))}),i&&X.jsx("div",{className:"text-center",children:X.jsx("button",{onClick:()=>T(i),disabled:p,className:"rounded-lg bg-gray-100 px-6 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200 disabled:bg-gray-50 disabled:cursor-not-allowed",children:p?" ...":" "})}),t.length===0&&!p&&X.jsx("div",{className:"rounded-2xl bg-white p-8 shadow text-center",children:X.jsx("div",{className:"text-gray-500 text-sm",children:"    ! "})})]})}const oe={groom:{nameKr:"",phone:"010-4049-0749"},bride:{nameKr:"",phone:"010-4650-8773"},date:{text:"2025 12 20   11",iso:"2025-12-20T11:00:00+09:00"},venue:{name:"   41  ",address:"   662 ",naverMapUrl:"https://naver.me/xExWm05A",kakaoMapUrl:"https://kko.kakao.com/z0oyaBHQ35",googleMapUrl:"https://maps.app.goo.gl/P6CcM3qA1u5URgpBA"},hero:{image:"https://images.unsplash.com/photo-1522673607200-164d1b6ce486?q=80&w=1400&auto=format&fit=crop",title:" & ",subtitle:" "},gallery:["https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1511285560929-80b456fea0bc?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1522673607200-164d1b6ce486?q=80&w=1200&auto=format&fit=crop"],accounts:[{label:" ",name:"",bank:"",number:"3333-12-3456789"},{label:" ",name:"",bank:"",number:"123456-78-901234"}]},e5="123",Ta=({id:n,title:t,children:e})=>X.jsxs("section",{id:n,className:"px-5 py-10 max-w-md mx-auto",children:[t&&X.jsxs("div",{className:"mb-6 text-center",children:[X.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:t}),X.jsx("div",{className:"mt-2 h-1 w-12 mx-auto bg-gray-200 rounded-full"})]}),e]});function n5(){const[,n]=gt.useState(0);return gt.useState(()=>{const t=setInterval(()=>n(e=>e+1),1e3);return()=>clearInterval(t)}),gt.useMemo(()=>new Date,[Date.now()])}const i5=({targetISO:n})=>{const t=n5(),e=new Date(n),i=Math.max(0,e.getTime()-t.getTime()),a=Math.floor(i/(1e3*60*60*24)),l=Math.floor(i/(1e3*60*60)%24),u=Math.floor(i/(1e3*60)%60),f=Math.floor(i/1e3%60);return X.jsx("div",{className:"mt-4 grid grid-cols-4 gap-2 text-center",children:[{k:"",v:a},{k:"",v:l},{k:"",v:u},{k:"",v:f}].map((m,p)=>X.jsxs("div",{className:"rounded-2xl p-3 bg-white/80 backdrop-blur shadow",children:[X.jsx("div",{className:"text-2xl font-semibold tabular-nums",children:m.v.toString().padStart(2,"0")}),X.jsx("div",{className:"text-xs text-gray-500 mt-1",children:m.k})]},p))})},s5=({text:n})=>{const[t,e]=gt.useState(!1);return X.jsxs("button",{onClick:async()=>{try{await navigator.clipboard.writeText(n),e(!0),setTimeout(()=>e(!1),1500)}catch{alert("   .")}},className:"inline-flex items-center gap-1 text-sm px-3 py-2 rounded-full bg-gray-100 hover:bg-gray-200 active:scale-[.98] transition",children:[t?X.jsx(ON,{size:16}):X.jsx(qN,{size:16}),t?"":""]})};function r5(){const[n,t]=gt.useState(null),[e,i]=gt.useState(0),a=(C,U)=>{t(C),i(U)},l=()=>{i(C=>(C-1+oe.gallery.length)%oe.gallery.length),t(oe.gallery[(e-1+oe.gallery.length)%oe.gallery.length])},u=()=>{i(C=>(C+1)%oe.gallery.length),t(oe.gallery[(e+1)%oe.gallery.length])},f=C=>{const U=document.getElementById(C);if(U){const j=U.offsetTop;window.scrollTo({top:j,behavior:"smooth"})}},[m,p]=gt.useState(0),[y,T]=gt.useState(!1),A=C=>{p(C),T(!0)},I=C=>{if(!y)return;const U=C-m,j=50;U>j?l():U<-j&&u(),T(!1)};return X.jsxs("div",{className:"w-full min-h-screen bg-[#faf9f7] text-gray-900",children:[X.jsx("nav",{className:"fixed bottom-3 left-0 right-0 z-30 px-4",children:X.jsxs("div",{className:"mx-auto max-w-md grid grid-cols-3 gap-2 bg-white/90 backdrop-blur rounded-2xl shadow-lg p-2",children:[X.jsxs("button",{onClick:()=>f("schedule"),className:"flex flex-col items-center py-2 rounded-xl hover:bg-gray-50 transition-colors",children:[X.jsx(Ab,{size:18}),X.jsx("span",{className:"text-xs mt-1",children:""})]}),X.jsxs("button",{onClick:()=>f("gallery"),className:"flex flex-col items-center py-2 rounded-xl hover:bg-gray-50 transition-colors",children:[X.jsx(QN,{size:18}),X.jsx("span",{className:"text-xs mt-1",children:""})]}),X.jsxs("button",{onClick:()=>f("comments"),className:"flex flex-col items-center py-2 rounded-xl hover:bg-gray-50 transition-colors",children:[X.jsx(XN,{size:18}),X.jsx("span",{className:"text-xs mt-1",children:""})]})]})}),X.jsxs("div",{className:"relative min-h-[100svh] w-full overflow-hidden",children:[X.jsx("img",{src:oe.hero.image,alt:"hero",className:"absolute inset-0 w-full h-full object-cover",fetchPriority:"high"}),X.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/20 to-black/50"}),X.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-between py-12",children:[X.jsxs(vb.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center text-white pt-6",children:[X.jsx("div",{className:"text-sm/relaxed tracking-widest uppercase opacity-90",children:"We Are Getting Married"}),X.jsx("h1",{className:"mt-3 text-4xl font-bold drop-shadow-sm",children:oe.hero.title}),X.jsx("p",{className:"mt-2 text-base/relaxed opacity-95",children:oe.hero.subtitle}),X.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 text-white/90",children:[X.jsx(Eb,{size:18}),X.jsx("span",{children:oe.date.text})]})]}),X.jsx(vb.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"w-full px-5 pb-20 max-w-md",children:X.jsx(i5,{targetISO:oe.date.iso})}),X.jsx("button",{onClick:()=>f("intro"),className:"mb-3 text-white/90 animate-bounce hover:text-white transition-colors",children:X.jsx(LN,{})})]})]}),X.jsxs(Ta,{id:"intro",title:"",children:[X.jsxs("p",{className:"text-center leading-7 text-gray-700",children:["       ",X.jsx("br",{}),"    .",X.jsx("br",{}),"      ."]}),X.jsx("div",{className:"mt-6 grid grid-cols-2 gap-3 text-center",children:[oe.groom,oe.bride].map((C,U)=>X.jsxs("div",{className:"rounded-2xl p-4 bg-white shadow",children:[X.jsx("div",{className:"text-sm text-gray-500",children:U===0?"":""}),X.jsx("div",{className:"text-lg font-semibold mt-1",children:C.nameKr}),X.jsxs("a",{href:`tel:${C.phone}`,className:"mt-2 inline-flex items-center gap-1 text-sm text-blue-600",children:[X.jsx(ZN,{size:16})," "]})]},U))})]}),X.jsx(Ta,{id:"schedule",title:"  ",children:X.jsxs("div",{className:"rounded-2xl p-5 bg-white shadow",children:[X.jsxs("div",{className:"flex items-start gap-3",children:[X.jsx(Eb,{className:"shrink-0 mt-1"}),X.jsxs("div",{children:[X.jsx("div",{className:"font-semibold",children:oe.date.text}),X.jsx("div",{className:"text-sm text-gray-500 mt-1",children:" 14:00    13:30"})]})]}),X.jsxs("div",{className:"mt-4 flex items-start gap-3",children:[X.jsx(Ab,{className:"shrink-0 mt-1"}),X.jsxs("div",{children:[X.jsx("div",{className:"font-semibold",children:oe.venue.name}),X.jsx("div",{className:"text-sm text-gray-600",children:oe.venue.address}),X.jsxs("div",{className:"flex gap-2 mt-2",children:[X.jsx("a",{href:oe.venue.naverMapUrl,target:"_blank",className:"text-xs px-3 py-1.5 rounded-full bg-gray-100 hover:bg-gray-200",rel:"noreferrer",children:""}),X.jsx("a",{href:oe.venue.kakaoMapUrl,target:"_blank",className:"text-xs px-3 py-1.5 rounded-full bg-gray-100 hover:bg-gray-200",rel:"noreferrer",children:""}),X.jsx("a",{href:oe.venue.googleMapUrl,target:"_blank",className:"text-xs px-3 py-1.5 rounded-full bg-gray-100 hover:bg-gray-200",rel:"noreferrer",children:""})]})]})]}),X.jsx("div",{className:"mt-5 h-44 w-full overflow-hidden rounded-xl bg-gray-100",children:X.jsx("img",{src:"https://images.unsplash.com/photo-1493238792000-8113da705763?q=80&w=1200&auto=format&fit=crop",alt:"map placeholder",className:"w-full h-full object-cover"})})]})}),X.jsx(Ta,{id:"map",title:" ",children:X.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow space-y-2 text-sm text-gray-700",children:[X.jsxs("p",{children:[X.jsx("b",{children:""}),"   7   8"]}),X.jsxs("p",{children:[X.jsx("b",{children:""}),"  472,  6411    5"]}),X.jsxs("p",{children:[X.jsx("b",{children:""}),"   2  (  )"]})]})}),X.jsx(Ta,{title:" ",children:X.jsx("ol",{className:"relative border-s-2 border-gray-200 ms-3",children:[{t:"13:30",d:" "},{t:"13:50",d:"    "},{t:"14:00",d:" "},{t:"15:00",d:"   "},{t:"15:30",d:""}].map((C,U)=>X.jsxs("li",{className:"mb-6 ms-5",children:[X.jsx("span",{className:"absolute -start-2.5 mt-1 h-5 w-5 rounded-full bg-white ring-2 ring-gray-200 flex items-center justify-center",children:X.jsx(GN,{size:12})}),X.jsx("div",{className:"text-sm text-gray-500",children:C.t}),X.jsx("div",{className:"font-medium",children:C.d})]},U))})}),X.jsxs(Ta,{id:"gallery",title:"",children:[X.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:oe.gallery.map((C,U)=>X.jsx("button",{onClick:()=>a(C,U),className:"aspect-square overflow-hidden rounded-xl",children:X.jsx("img",{src:C,alt:`gallery-${U}`,loading:"lazy",className:"w-full h-full object-cover"})},U))}),n&&X.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:X.jsxs("div",{className:"relative max-w-3xl w-full flex items-center justify-center",children:[X.jsx("button",{className:"absolute top-3 right-3 text-white z-10",onClick:()=>t(null),children:X.jsx(tO,{size:28})}),X.jsxs("div",{className:"absolute top-3 left-3 text-white text-sm bg-black/50 px-2 py-1 rounded",children:[e+1," / ",oe.gallery.length]}),X.jsx("button",{className:"absolute left-3 text-white z-10",onClick:l,children:X.jsx(BN,{size:36})}),X.jsx("div",{className:"relative w-full h-auto cursor-grab active:cursor-grabbing select-none",onMouseDown:C=>A(C.clientX),onMouseUp:C=>I(C.clientX),onTouchStart:C=>A(C.touches[0].clientX),onTouchEnd:C=>I(C.changedTouches[0].clientX),onDragStart:C=>C.preventDefault(),children:X.jsx("img",{src:n,alt:"selected",className:"w-full h-auto rounded-xl shadow-lg transition-transform duration-200",draggable:!1})}),X.jsx("button",{className:"absolute right-3 text-white z-10",onClick:u,children:X.jsx(zN,{size:36})})]})})]}),X.jsx(Ta,{title:"  ",children:X.jsx("div",{className:"space-y-3",children:oe.accounts.map((C,U)=>X.jsxs("div",{className:"flex items-center justify-between rounded-2xl bg-white p-4 shadow",children:[X.jsxs("div",{children:[X.jsx("div",{className:"text-sm text-gray-500",children:C.label}),X.jsxs("div",{className:"font-medium",children:[C.bank,"  ",C.number]}),X.jsxs("div",{className:"text-sm text-gray-600",children:[" ",C.name]})]}),X.jsx(s5,{text:`${C.bank} ${C.number} (${C.name})`})]},U))})}),X.jsx(Ta,{id:"comments",title:"   ",children:X.jsx(t5,{invitationId:e5})}),X.jsxs("footer",{className:"pb-24 pt-6 text-center text-xs text-gray-500",children:[X.jsxs("div",{children:[" ",new Date().getFullYear()," ",oe.hero.title]}),X.jsx("div",{className:"mt-1",children:""})]})]})}function a5(){return X.jsx(r5,{})}XD.createRoot(document.getElementById("root")).render(X.jsx(gt.StrictMode,{children:X.jsx(a5,{})}));
